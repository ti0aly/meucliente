function xg(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function kg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dg={exports:{}},hu={},Ng={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sa=Symbol.for("react.element"),rE=Symbol.for("react.portal"),iE=Symbol.for("react.fragment"),oE=Symbol.for("react.strict_mode"),sE=Symbol.for("react.profiler"),aE=Symbol.for("react.provider"),lE=Symbol.for("react.context"),uE=Symbol.for("react.forward_ref"),cE=Symbol.for("react.suspense"),hE=Symbol.for("react.memo"),dE=Symbol.for("react.lazy"),ap=Symbol.iterator;function fE(t){return t===null||typeof t!="object"?null:(t=ap&&t[ap]||t["@@iterator"],typeof t=="function"?t:null)}var Vg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lg=Object.assign,Mg={};function To(t,e,n){this.props=t,this.context=e,this.refs=Mg,this.updater=n||Vg}To.prototype.isReactComponent={};To.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};To.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Og(){}Og.prototype=To.prototype;function ed(t,e,n){this.props=t,this.context=e,this.refs=Mg,this.updater=n||Vg}var td=ed.prototype=new Og;td.constructor=ed;Lg(td,To.prototype);td.isPureReactComponent=!0;var lp=Array.isArray,Fg=Object.prototype.hasOwnProperty,nd={current:null},jg={key:!0,ref:!0,__self:!0,__source:!0};function bg(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Fg.call(e,r)&&!jg.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:sa,type:t,key:o,ref:s,props:i,_owner:nd.current}}function pE(t,e){return{$$typeof:sa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rd(t){return typeof t=="object"&&t!==null&&t.$$typeof===sa}function mE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var up=/\/+/g;function ec(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mE(""+t.key):e.toString(36)}function ll(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case sa:case rE:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+ec(s,0):r,lp(i)?(n="",t!=null&&(n=t.replace(up,"$&/")+"/"),ll(i,e,n,"",function(h){return h})):i!=null&&(rd(i)&&(i=pE(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(up,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",lp(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+ec(o,l);s+=ll(o,e,n,u,i)}else if(u=fE(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+ec(o,l++),s+=ll(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ba(t,e,n){if(t==null)return t;var r=[],i=0;return ll(t,r,"","",function(o){return e.call(n,o,i++)}),r}function gE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},ul={transition:null},yE={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:ul,ReactCurrentOwner:nd};function Ug(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:ba,forEach:function(t,e,n){ba(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ba(t,function(){e++}),e},toArray:function(t){return ba(t,function(e){return e})||[]},only:function(t){if(!rd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=To;he.Fragment=iE;he.Profiler=sE;he.PureComponent=ed;he.StrictMode=oE;he.Suspense=cE;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yE;he.act=Ug;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Lg({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=nd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Fg.call(e,u)&&!jg.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:sa,type:t.type,key:i,ref:o,props:r,_owner:s}};he.createContext=function(t){return t={$$typeof:lE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aE,_context:t},t.Consumer=t};he.createElement=bg;he.createFactory=function(t){var e=bg.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:uE,render:t}};he.isValidElement=rd;he.lazy=function(t){return{$$typeof:dE,_payload:{_status:-1,_result:t},_init:gE}};he.memo=function(t,e){return{$$typeof:hE,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=ul.transition;ul.transition={};try{t()}finally{ul.transition=e}};he.unstable_act=Ug;he.useCallback=function(t,e){return Ft.current.useCallback(t,e)};he.useContext=function(t){return Ft.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};he.useEffect=function(t,e){return Ft.current.useEffect(t,e)};he.useId=function(){return Ft.current.useId()};he.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Ft.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};he.useRef=function(t){return Ft.current.useRef(t)};he.useState=function(t){return Ft.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Ft.current.useTransition()};he.version="18.3.1";Ng.exports=he;var F=Ng.exports;const vE=kg(F),_E=xg({__proto__:null,default:vE},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE=F,wE=Symbol.for("react.element"),TE=Symbol.for("react.fragment"),SE=Object.prototype.hasOwnProperty,IE=EE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RE={key:!0,ref:!0,__self:!0,__source:!0};function Bg(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)SE.call(e,r)&&!RE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wE,type:t,key:o,ref:s,props:i,_owner:IE.current}}hu.Fragment=TE;hu.jsx=Bg;hu.jsxs=Bg;Dg.exports=hu;var j=Dg.exports,zg={exports:{}},en={},$g={exports:{}},Hg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,G){var oe=Q.length;Q.push(G);e:for(;0<oe;){var Ie=oe-1>>>1,me=Q[Ie];if(0<i(me,G))Q[Ie]=G,Q[oe]=me,oe=Ie;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var G=Q[0],oe=Q.pop();if(oe!==G){Q[0]=oe;e:for(var Ie=0,me=Q.length,Se=me>>>1;Ie<Se;){var wt=2*(Ie+1)-1,Vt=Q[wt],nt=wt+1,ht=Q[nt];if(0>i(Vt,oe))nt<me&&0>i(ht,Vt)?(Q[Ie]=ht,Q[nt]=oe,Ie=nt):(Q[Ie]=Vt,Q[wt]=oe,Ie=wt);else if(nt<me&&0>i(ht,oe))Q[Ie]=ht,Q[nt]=oe,Ie=nt;else break e}}return G}function i(Q,G){var oe=Q.sortIndex-G.sortIndex;return oe!==0?oe:Q.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],h=[],f=1,m=null,g=3,E=!1,P=!1,D=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Q){for(var G=n(h);G!==null;){if(G.callback===null)r(h);else if(G.startTime<=Q)r(h),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(h)}}function M(Q){if(D=!1,A(Q),!P)if(n(u)!==null)P=!0,Wt(z);else{var G=n(h);G!==null&&bt(M,G.startTime-Q)}}function z(Q,G){P=!1,D&&(D=!1,S(p),p=-1),E=!0;var oe=g;try{for(A(G),m=n(u);m!==null&&(!(m.expirationTime>G)||Q&&!R());){var Ie=m.callback;if(typeof Ie=="function"){m.callback=null,g=m.priorityLevel;var me=Ie(m.expirationTime<=G);G=t.unstable_now(),typeof me=="function"?m.callback=me:m===n(u)&&r(u),A(G)}else r(u);m=n(u)}if(m!==null)var Se=!0;else{var wt=n(h);wt!==null&&bt(M,wt.startTime-G),Se=!1}return Se}finally{m=null,g=oe,E=!1}}var H=!1,T=null,p=-1,v=5,w=-1;function R(){return!(t.unstable_now()-w<v)}function x(){if(T!==null){var Q=t.unstable_now();w=Q;var G=!0;try{G=T(!0,Q)}finally{G?I():(H=!1,T=null)}}else H=!1}var I;if(typeof _=="function")I=function(){_(x)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Et=Ee.port2;Ee.port1.onmessage=x,I=function(){Et.postMessage(null)}}else I=function(){N(x,0)};function Wt(Q){T=Q,H||(H=!0,I())}function bt(Q,G){p=N(function(){Q(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){P||E||(P=!0,Wt(z))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var oe=g;g=G;try{return Q()}finally{g=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,G){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=g;g=Q;try{return G()}finally{g=oe}},t.unstable_scheduleCallback=function(Q,G,oe){var Ie=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ie+oe:Ie):oe=Ie,Q){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=oe+me,Q={id:f++,callback:G,priorityLevel:Q,startTime:oe,expirationTime:me,sortIndex:-1},oe>Ie?(Q.sortIndex=oe,e(h,Q),n(u)===null&&Q===n(h)&&(D?(S(p),p=-1):D=!0,bt(M,oe-Ie))):(Q.sortIndex=me,e(u,Q),P||E||(P=!0,Wt(z))),Q},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(Q){var G=g;return function(){var oe=g;g=G;try{return Q.apply(this,arguments)}finally{g=oe}}}})(Hg);$g.exports=Hg;var CE=$g.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE=F,Zt=CE;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wg=new Set,Ds={};function wi(t,e){so(t,e),so(t+"Capture",e)}function so(t,e){for(Ds[t]=e,t=0;t<e.length;t++)Wg.add(e[t])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jc=Object.prototype.hasOwnProperty,PE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cp={},hp={};function xE(t){return jc.call(hp,t)?!0:jc.call(cp,t)?!1:PE.test(t)?hp[t]=!0:(cp[t]=!0,!1)}function kE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DE(t,e,n,r){if(e===null||typeof e>"u"||kE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var id=/[\-:]([a-z])/g;function od(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(id,od);vt[e]=new jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(id,od);vt[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(id,od);vt[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function sd(t,e,n,r){var i=vt.hasOwnProperty(e)?vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DE(e,n,i,r)&&(n=null),r||i===null?xE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rr=AE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ua=Symbol.for("react.element"),bi=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),ad=Symbol.for("react.strict_mode"),bc=Symbol.for("react.profiler"),Kg=Symbol.for("react.provider"),Qg=Symbol.for("react.context"),ld=Symbol.for("react.forward_ref"),Uc=Symbol.for("react.suspense"),Bc=Symbol.for("react.suspense_list"),ud=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),qg=Symbol.for("react.offscreen"),dp=Symbol.iterator;function Yo(t){return t===null||typeof t!="object"?null:(t=dp&&t[dp]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,tc;function ls(t){if(tc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tc=e&&e[1]||""}return`
`+tc+t}var nc=!1;function rc(t,e){if(!t||nc)return"";nc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{nc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ls(t):""}function NE(t){switch(t.tag){case 5:return ls(t.type);case 16:return ls("Lazy");case 13:return ls("Suspense");case 19:return ls("SuspenseList");case 0:case 2:case 15:return t=rc(t.type,!1),t;case 11:return t=rc(t.type.render,!1),t;case 1:return t=rc(t.type,!0),t;default:return""}}function zc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ui:return"Fragment";case bi:return"Portal";case bc:return"Profiler";case ad:return"StrictMode";case Uc:return"Suspense";case Bc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qg:return(t.displayName||"Context")+".Consumer";case Kg:return(t._context.displayName||"Context")+".Provider";case ld:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ud:return e=t.displayName||null,e!==null?e:zc(t.type)||"Memo";case fr:e=t._payload,t=t._init;try{return zc(t(e))}catch{}}return null}function VE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zc(e);case 8:return e===ad?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LE(t){var e=Gg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ba(t){t._valueTracker||(t._valueTracker=LE(t))}function Yg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $c(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xg(t,e){e=e.checked,e!=null&&sd(t,"checked",e,!1)}function Hc(t,e){Xg(t,e);var n=Vr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wc(t,e.type,Vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wc(t,e,n){(e!=="number"||Cl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var us=Array.isArray;function Ji(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Kc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(us(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vr(n)}}function Jg(t,e){var n=Vr(e.value),r=Vr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Zg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Zg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var za,ey=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(za=za||document.createElement("div"),za.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=za.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ns(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ME=["Webkit","ms","Moz","O"];Object.keys(vs).forEach(function(t){ME.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vs[e]=vs[t]})});function ty(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vs.hasOwnProperty(t)&&vs[t]?(""+e).trim():e+"px"}function ny(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ty(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var OE=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qc(t,e){if(e){if(OE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Gc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=null;function cd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xc=null,Zi=null,eo=null;function yp(t){if(t=ua(t)){if(typeof Xc!="function")throw Error($(280));var e=t.stateNode;e&&(e=gu(e),Xc(t.stateNode,t.type,e))}}function ry(t){Zi?eo?eo.push(t):eo=[t]:Zi=t}function iy(){if(Zi){var t=Zi,e=eo;if(eo=Zi=null,yp(t),e)for(t=0;t<e.length;t++)yp(e[t])}}function oy(t,e){return t(e)}function sy(){}var ic=!1;function ay(t,e,n){if(ic)return t(e,n);ic=!0;try{return oy(t,e,n)}finally{ic=!1,(Zi!==null||eo!==null)&&(sy(),iy())}}function Vs(t,e){var n=t.stateNode;if(n===null)return null;var r=gu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Jc=!1;if(Yn)try{var Xo={};Object.defineProperty(Xo,"passive",{get:function(){Jc=!0}}),window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch{Jc=!1}function FE(t,e,n,r,i,o,s,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var _s=!1,Al=null,Pl=!1,Zc=null,jE={onError:function(t){_s=!0,Al=t}};function bE(t,e,n,r,i,o,s,l,u){_s=!1,Al=null,FE.apply(jE,arguments)}function UE(t,e,n,r,i,o,s,l,u){if(bE.apply(this,arguments),_s){if(_s){var h=Al;_s=!1,Al=null}else throw Error($(198));Pl||(Pl=!0,Zc=h)}}function Ti(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ly(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vp(t){if(Ti(t)!==t)throw Error($(188))}function BE(t){var e=t.alternate;if(!e){if(e=Ti(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return vp(i),t;if(o===r)return vp(i),e;o=o.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function uy(t){return t=BE(t),t!==null?cy(t):null}function cy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cy(t);if(e!==null)return e;t=t.sibling}return null}var hy=Zt.unstable_scheduleCallback,_p=Zt.unstable_cancelCallback,zE=Zt.unstable_shouldYield,$E=Zt.unstable_requestPaint,Xe=Zt.unstable_now,HE=Zt.unstable_getCurrentPriorityLevel,hd=Zt.unstable_ImmediatePriority,dy=Zt.unstable_UserBlockingPriority,xl=Zt.unstable_NormalPriority,WE=Zt.unstable_LowPriority,fy=Zt.unstable_IdlePriority,du=null,Nn=null;function KE(t){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(du,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:GE,QE=Math.log,qE=Math.LN2;function GE(t){return t>>>=0,t===0?32:31-(QE(t)/qE|0)|0}var $a=64,Ha=4194304;function cs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=cs(l):(o&=s,o!==0&&(r=cs(o)))}else s=n&~i,s!==0?r=cs(s):o!==0&&(r=cs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),i=1<<n,r|=t[n],e&=~i;return r}function YE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-In(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=YE(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function eh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function py(){var t=$a;return $a<<=1,!($a&4194240)&&($a=64),t}function oc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function aa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=n}function JE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-In(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function dd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-In(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function my(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gy,fd,yy,vy,_y,th=!1,Wa=[],wr=null,Tr=null,Sr=null,Ls=new Map,Ms=new Map,mr=[],ZE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ep(t,e){switch(t){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Ls.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(e.pointerId)}}function Jo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ua(e),e!==null&&fd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ew(t,e,n,r,i){switch(e){case"focusin":return wr=Jo(wr,t,e,n,r,i),!0;case"dragenter":return Tr=Jo(Tr,t,e,n,r,i),!0;case"mouseover":return Sr=Jo(Sr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ls.set(o,Jo(Ls.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ms.set(o,Jo(Ms.get(o)||null,t,e,n,r,i)),!0}return!1}function Ey(t){var e=oi(t.target);if(e!==null){var n=Ti(e);if(n!==null){if(e=n.tag,e===13){if(e=ly(n),e!==null){t.blockedOn=e,_y(t.priority,function(){yy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yc=r,n.target.dispatchEvent(r),Yc=null}else return e=ua(n),e!==null&&fd(e),t.blockedOn=n,!1;e.shift()}return!0}function wp(t,e,n){cl(t)&&n.delete(e)}function tw(){th=!1,wr!==null&&cl(wr)&&(wr=null),Tr!==null&&cl(Tr)&&(Tr=null),Sr!==null&&cl(Sr)&&(Sr=null),Ls.forEach(wp),Ms.forEach(wp)}function Zo(t,e){t.blockedOn===e&&(t.blockedOn=null,th||(th=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,tw)))}function Os(t){function e(i){return Zo(i,t)}if(0<Wa.length){Zo(Wa[0],t);for(var n=1;n<Wa.length;n++){var r=Wa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wr!==null&&Zo(wr,t),Tr!==null&&Zo(Tr,t),Sr!==null&&Zo(Sr,t),Ls.forEach(e),Ms.forEach(e),n=0;n<mr.length;n++)r=mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)Ey(n),n.blockedOn===null&&mr.shift()}var to=rr.ReactCurrentBatchConfig,Dl=!0;function nw(t,e,n,r){var i=Re,o=to.transition;to.transition=null;try{Re=1,pd(t,e,n,r)}finally{Re=i,to.transition=o}}function rw(t,e,n,r){var i=Re,o=to.transition;to.transition=null;try{Re=4,pd(t,e,n,r)}finally{Re=i,to.transition=o}}function pd(t,e,n,r){if(Dl){var i=nh(t,e,n,r);if(i===null)mc(t,e,r,Nl,n),Ep(t,r);else if(ew(i,t,e,n,r))r.stopPropagation();else if(Ep(t,r),e&4&&-1<ZE.indexOf(t)){for(;i!==null;){var o=ua(i);if(o!==null&&gy(o),o=nh(t,e,n,r),o===null&&mc(t,e,r,Nl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else mc(t,e,r,null,n)}}var Nl=null;function nh(t,e,n,r){if(Nl=null,t=cd(r),t=oi(t),t!==null)if(e=Ti(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ly(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nl=t,null}function wy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HE()){case hd:return 1;case dy:return 4;case xl:case WE:return 16;case fy:return 536870912;default:return 16}default:return 16}}var yr=null,md=null,hl=null;function Ty(){if(hl)return hl;var t,e=md,n=e.length,r,i="value"in yr?yr.value:yr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return hl=i.slice(t,1<r?1-r:void 0)}function dl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ka(){return!0}function Tp(){return!1}function tn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ka:Tp,this.isPropagationStopped=Tp,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),e}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gd=tn(So),la=$e({},So,{view:0,detail:0}),iw=tn(la),sc,ac,es,fu=$e({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==es&&(es&&t.type==="mousemove"?(sc=t.screenX-es.screenX,ac=t.screenY-es.screenY):ac=sc=0,es=t),sc)},movementY:function(t){return"movementY"in t?t.movementY:ac}}),Sp=tn(fu),ow=$e({},fu,{dataTransfer:0}),sw=tn(ow),aw=$e({},la,{relatedTarget:0}),lc=tn(aw),lw=$e({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),uw=tn(lw),cw=$e({},So,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hw=tn(cw),dw=$e({},So,{data:0}),Ip=tn(dw),fw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mw[t])?!!e[t]:!1}function yd(){return gw}var yw=$e({},la,{key:function(t){if(t.key){var e=fw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yd,charCode:function(t){return t.type==="keypress"?dl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vw=tn(yw),_w=$e({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rp=tn(_w),Ew=$e({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yd}),ww=tn(Ew),Tw=$e({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sw=tn(Tw),Iw=$e({},fu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rw=tn(Iw),Cw=[9,13,27,32],vd=Yn&&"CompositionEvent"in window,Es=null;Yn&&"documentMode"in document&&(Es=document.documentMode);var Aw=Yn&&"TextEvent"in window&&!Es,Sy=Yn&&(!vd||Es&&8<Es&&11>=Es),Cp=" ",Ap=!1;function Iy(t,e){switch(t){case"keyup":return Cw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ry(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bi=!1;function Pw(t,e){switch(t){case"compositionend":return Ry(e);case"keypress":return e.which!==32?null:(Ap=!0,Cp);case"textInput":return t=e.data,t===Cp&&Ap?null:t;default:return null}}function xw(t,e){if(Bi)return t==="compositionend"||!vd&&Iy(t,e)?(t=Ty(),hl=md=yr=null,Bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sy&&e.locale!=="ko"?null:e.data;default:return null}}var kw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kw[t.type]:e==="textarea"}function Cy(t,e,n,r){ry(r),e=Vl(e,"onChange"),0<e.length&&(n=new gd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ws=null,Fs=null;function Dw(t){Fy(t,0)}function pu(t){var e=Hi(t);if(Yg(e))return t}function Nw(t,e){if(t==="change")return e}var Ay=!1;if(Yn){var uc;if(Yn){var cc="oninput"in document;if(!cc){var xp=document.createElement("div");xp.setAttribute("oninput","return;"),cc=typeof xp.oninput=="function"}uc=cc}else uc=!1;Ay=uc&&(!document.documentMode||9<document.documentMode)}function kp(){ws&&(ws.detachEvent("onpropertychange",Py),Fs=ws=null)}function Py(t){if(t.propertyName==="value"&&pu(Fs)){var e=[];Cy(e,Fs,t,cd(t)),ay(Dw,e)}}function Vw(t,e,n){t==="focusin"?(kp(),ws=e,Fs=n,ws.attachEvent("onpropertychange",Py)):t==="focusout"&&kp()}function Lw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pu(Fs)}function Mw(t,e){if(t==="click")return pu(e)}function Ow(t,e){if(t==="input"||t==="change")return pu(e)}function Fw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:Fw;function js(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!jc.call(e,i)||!Cn(t[i],e[i]))return!1}return!0}function Dp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Np(t,e){var n=Dp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dp(n)}}function xy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ky(){for(var t=window,e=Cl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cl(t.document)}return e}function _d(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jw(t){var e=ky(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xy(n.ownerDocument.documentElement,n)){if(r!==null&&_d(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Np(n,o);var s=Np(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bw=Yn&&"documentMode"in document&&11>=document.documentMode,zi=null,rh=null,Ts=null,ih=!1;function Vp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ih||zi==null||zi!==Cl(r)||(r=zi,"selectionStart"in r&&_d(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ts&&js(Ts,r)||(Ts=r,r=Vl(rh,"onSelect"),0<r.length&&(e=new gd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zi)))}function Qa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $i={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},hc={},Dy={};Yn&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function mu(t){if(hc[t])return hc[t];if(!$i[t])return t;var e=$i[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Dy)return hc[t]=e[n];return t}var Ny=mu("animationend"),Vy=mu("animationiteration"),Ly=mu("animationstart"),My=mu("transitionend"),Oy=new Map,Lp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(t,e){Oy.set(t,e),wi(e,[t])}for(var dc=0;dc<Lp.length;dc++){var fc=Lp[dc],Uw=fc.toLowerCase(),Bw=fc[0].toUpperCase()+fc.slice(1);br(Uw,"on"+Bw)}br(Ny,"onAnimationEnd");br(Vy,"onAnimationIteration");br(Ly,"onAnimationStart");br("dblclick","onDoubleClick");br("focusin","onFocus");br("focusout","onBlur");br(My,"onTransitionEnd");so("onMouseEnter",["mouseout","mouseover"]);so("onMouseLeave",["mouseout","mouseover"]);so("onPointerEnter",["pointerout","pointerover"]);so("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zw=new Set("cancel close invalid load scroll toggle".split(" ").concat(hs));function Mp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,UE(r,e,void 0,t),t.currentTarget=null}function Fy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;Mp(i,l,h),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,h=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;Mp(i,l,h),o=u}}}if(Pl)throw t=Zc,Pl=!1,Zc=null,t}function Me(t,e){var n=e[uh];n===void 0&&(n=e[uh]=new Set);var r=t+"__bubble";n.has(r)||(jy(e,t,2,!1),n.add(r))}function pc(t,e,n){var r=0;e&&(r|=4),jy(n,t,r,e)}var qa="_reactListening"+Math.random().toString(36).slice(2);function bs(t){if(!t[qa]){t[qa]=!0,Wg.forEach(function(n){n!=="selectionchange"&&(zw.has(n)||pc(n,!1,t),pc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qa]||(e[qa]=!0,pc("selectionchange",!1,e))}}function jy(t,e,n,r){switch(wy(e)){case 1:var i=nw;break;case 4:i=rw;break;default:i=pd}n=i.bind(null,e,n,t),i=void 0,!Jc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function mc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=oi(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}ay(function(){var h=o,f=cd(n),m=[];e:{var g=Oy.get(t);if(g!==void 0){var E=gd,P=t;switch(t){case"keypress":if(dl(n)===0)break e;case"keydown":case"keyup":E=vw;break;case"focusin":P="focus",E=lc;break;case"focusout":P="blur",E=lc;break;case"beforeblur":case"afterblur":E=lc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Sp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=sw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=ww;break;case Ny:case Vy:case Ly:E=uw;break;case My:E=Sw;break;case"scroll":E=iw;break;case"wheel":E=Rw;break;case"copy":case"cut":case"paste":E=hw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Rp}var D=(e&4)!==0,N=!D&&t==="scroll",S=D?g!==null?g+"Capture":null:g;D=[];for(var _=h,A;_!==null;){A=_;var M=A.stateNode;if(A.tag===5&&M!==null&&(A=M,S!==null&&(M=Vs(_,S),M!=null&&D.push(Us(_,M,A)))),N)break;_=_.return}0<D.length&&(g=new E(g,P,null,n,f),m.push({event:g,listeners:D}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",g&&n!==Yc&&(P=n.relatedTarget||n.fromElement)&&(oi(P)||P[Xn]))break e;if((E||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,E?(P=n.relatedTarget||n.toElement,E=h,P=P?oi(P):null,P!==null&&(N=Ti(P),P!==N||P.tag!==5&&P.tag!==6)&&(P=null)):(E=null,P=h),E!==P)){if(D=Sp,M="onMouseLeave",S="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(D=Rp,M="onPointerLeave",S="onPointerEnter",_="pointer"),N=E==null?g:Hi(E),A=P==null?g:Hi(P),g=new D(M,_+"leave",E,n,f),g.target=N,g.relatedTarget=A,M=null,oi(f)===h&&(D=new D(S,_+"enter",P,n,f),D.target=A,D.relatedTarget=N,M=D),N=M,E&&P)t:{for(D=E,S=P,_=0,A=D;A;A=Li(A))_++;for(A=0,M=S;M;M=Li(M))A++;for(;0<_-A;)D=Li(D),_--;for(;0<A-_;)S=Li(S),A--;for(;_--;){if(D===S||S!==null&&D===S.alternate)break t;D=Li(D),S=Li(S)}D=null}else D=null;E!==null&&Op(m,g,E,D,!1),P!==null&&N!==null&&Op(m,N,P,D,!0)}}e:{if(g=h?Hi(h):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var z=Nw;else if(Pp(g))if(Ay)z=Ow;else{z=Lw;var H=Vw}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(z=Mw);if(z&&(z=z(t,h))){Cy(m,z,n,f);break e}H&&H(t,g,h),t==="focusout"&&(H=g._wrapperState)&&H.controlled&&g.type==="number"&&Wc(g,"number",g.value)}switch(H=h?Hi(h):window,t){case"focusin":(Pp(H)||H.contentEditable==="true")&&(zi=H,rh=h,Ts=null);break;case"focusout":Ts=rh=zi=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,Vp(m,n,f);break;case"selectionchange":if(bw)break;case"keydown":case"keyup":Vp(m,n,f)}var T;if(vd)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else Bi?Iy(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(Sy&&n.locale!=="ko"&&(Bi||p!=="onCompositionStart"?p==="onCompositionEnd"&&Bi&&(T=Ty()):(yr=f,md="value"in yr?yr.value:yr.textContent,Bi=!0)),H=Vl(h,p),0<H.length&&(p=new Ip(p,t,null,n,f),m.push({event:p,listeners:H}),T?p.data=T:(T=Ry(n),T!==null&&(p.data=T)))),(T=Aw?Pw(t,n):xw(t,n))&&(h=Vl(h,"onBeforeInput"),0<h.length&&(f=new Ip("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:h}),f.data=T))}Fy(m,e)})}function Us(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Vs(t,n),o!=null&&r.unshift(Us(t,o,i)),o=Vs(t,e),o!=null&&r.push(Us(t,o,i))),t=t.return}return r}function Li(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Op(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=Vs(n,o),u!=null&&s.unshift(Us(n,u,l))):i||(u=Vs(n,o),u!=null&&s.push(Us(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var $w=/\r\n?/g,Hw=/\u0000|\uFFFD/g;function Fp(t){return(typeof t=="string"?t:""+t).replace($w,`
`).replace(Hw,"")}function Ga(t,e,n){if(e=Fp(e),Fp(t)!==e&&n)throw Error($(425))}function Ll(){}var oh=null,sh=null;function ah(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lh=typeof setTimeout=="function"?setTimeout:void 0,Ww=typeof clearTimeout=="function"?clearTimeout:void 0,jp=typeof Promise=="function"?Promise:void 0,Kw=typeof queueMicrotask=="function"?queueMicrotask:typeof jp<"u"?function(t){return jp.resolve(null).then(t).catch(Qw)}:lh;function Qw(t){setTimeout(function(){throw t})}function gc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Os(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Os(e)}function Ir(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Io=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Io,Bs="__reactProps$"+Io,Xn="__reactContainer$"+Io,uh="__reactEvents$"+Io,qw="__reactListeners$"+Io,Gw="__reactHandles$"+Io;function oi(t){var e=t[Dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xn]||n[Dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bp(t);t!==null;){if(n=t[Dn])return n;t=bp(t)}return e}t=n,n=t.parentNode}return null}function ua(t){return t=t[Dn]||t[Xn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function gu(t){return t[Bs]||null}var ch=[],Wi=-1;function Ur(t){return{current:t}}function Oe(t){0>Wi||(t.current=ch[Wi],ch[Wi]=null,Wi--)}function De(t,e){Wi++,ch[Wi]=t.current,t.current=e}var Lr={},Nt=Ur(Lr),zt=Ur(!1),fi=Lr;function ao(t,e){var n=t.type.contextTypes;if(!n)return Lr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $t(t){return t=t.childContextTypes,t!=null}function Ml(){Oe(zt),Oe(Nt)}function Up(t,e,n){if(Nt.current!==Lr)throw Error($(168));De(Nt,e),De(zt,n)}function by(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,VE(t)||"Unknown",i));return $e({},n,r)}function Ol(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lr,fi=Nt.current,De(Nt,t),De(zt,zt.current),!0}function Bp(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=by(t,e,fi),r.__reactInternalMemoizedMergedChildContext=t,Oe(zt),Oe(Nt),De(Nt,t)):Oe(zt),De(zt,n)}var Wn=null,yu=!1,yc=!1;function Uy(t){Wn===null?Wn=[t]:Wn.push(t)}function Yw(t){yu=!0,Uy(t)}function Br(){if(!yc&&Wn!==null){yc=!0;var t=0,e=Re;try{var n=Wn;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wn=null,yu=!1}catch(i){throw Wn!==null&&(Wn=Wn.slice(t+1)),hy(hd,Br),i}finally{Re=e,yc=!1}}return null}var Ki=[],Qi=0,Fl=null,jl=0,sn=[],an=0,pi=null,Kn=1,Qn="";function Zr(t,e){Ki[Qi++]=jl,Ki[Qi++]=Fl,Fl=t,jl=e}function By(t,e,n){sn[an++]=Kn,sn[an++]=Qn,sn[an++]=pi,pi=t;var r=Kn;t=Qn;var i=32-In(r)-1;r&=~(1<<i),n+=1;var o=32-In(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Kn=1<<32-In(e)+i|n<<i|r,Qn=o+t}else Kn=1<<o|n<<i|r,Qn=t}function Ed(t){t.return!==null&&(Zr(t,1),By(t,1,0))}function wd(t){for(;t===Fl;)Fl=Ki[--Qi],Ki[Qi]=null,jl=Ki[--Qi],Ki[Qi]=null;for(;t===pi;)pi=sn[--an],sn[an]=null,Qn=sn[--an],sn[an]=null,Kn=sn[--an],sn[an]=null}var Xt=null,Yt=null,je=!1,Tn=null;function zy(t,e){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Yt=Ir(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pi!==null?{id:Kn,overflow:Qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Yt=null,!0):!1;default:return!1}}function hh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dh(t){if(je){var e=Yt;if(e){var n=e;if(!zp(t,e)){if(hh(t))throw Error($(418));e=Ir(n.nextSibling);var r=Xt;e&&zp(t,e)?zy(r,n):(t.flags=t.flags&-4097|2,je=!1,Xt=t)}}else{if(hh(t))throw Error($(418));t.flags=t.flags&-4097|2,je=!1,Xt=t}}}function $p(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function Ya(t){if(t!==Xt)return!1;if(!je)return $p(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ah(t.type,t.memoizedProps)),e&&(e=Yt)){if(hh(t))throw $y(),Error($(418));for(;e;)zy(t,e),e=Ir(e.nextSibling)}if($p(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yt=Ir(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=Xt?Ir(t.stateNode.nextSibling):null;return!0}function $y(){for(var t=Yt;t;)t=Ir(t.nextSibling)}function lo(){Yt=Xt=null,je=!1}function Td(t){Tn===null?Tn=[t]:Tn.push(t)}var Xw=rr.ReactCurrentBatchConfig;function ts(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Xa(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hp(t){var e=t._init;return e(t._payload)}function Hy(t){function e(S,_){if(t){var A=S.deletions;A===null?(S.deletions=[_],S.flags|=16):A.push(_)}}function n(S,_){if(!t)return null;for(;_!==null;)e(S,_),_=_.sibling;return null}function r(S,_){for(S=new Map;_!==null;)_.key!==null?S.set(_.key,_):S.set(_.index,_),_=_.sibling;return S}function i(S,_){return S=Pr(S,_),S.index=0,S.sibling=null,S}function o(S,_,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<_?(S.flags|=2,_):A):(S.flags|=2,_)):(S.flags|=1048576,_)}function s(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,_,A,M){return _===null||_.tag!==6?(_=Ic(A,S.mode,M),_.return=S,_):(_=i(_,A),_.return=S,_)}function u(S,_,A,M){var z=A.type;return z===Ui?f(S,_,A.props.children,M,A.key):_!==null&&(_.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===fr&&Hp(z)===_.type)?(M=i(_,A.props),M.ref=ts(S,_,A),M.return=S,M):(M=_l(A.type,A.key,A.props,null,S.mode,M),M.ref=ts(S,_,A),M.return=S,M)}function h(S,_,A,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=Rc(A,S.mode,M),_.return=S,_):(_=i(_,A.children||[]),_.return=S,_)}function f(S,_,A,M,z){return _===null||_.tag!==7?(_=hi(A,S.mode,M,z),_.return=S,_):(_=i(_,A),_.return=S,_)}function m(S,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ic(""+_,S.mode,A),_.return=S,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ua:return A=_l(_.type,_.key,_.props,null,S.mode,A),A.ref=ts(S,null,_),A.return=S,A;case bi:return _=Rc(_,S.mode,A),_.return=S,_;case fr:var M=_._init;return m(S,M(_._payload),A)}if(us(_)||Yo(_))return _=hi(_,S.mode,A,null),_.return=S,_;Xa(S,_)}return null}function g(S,_,A,M){var z=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return z!==null?null:l(S,_,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ua:return A.key===z?u(S,_,A,M):null;case bi:return A.key===z?h(S,_,A,M):null;case fr:return z=A._init,g(S,_,z(A._payload),M)}if(us(A)||Yo(A))return z!==null?null:f(S,_,A,M,null);Xa(S,A)}return null}function E(S,_,A,M,z){if(typeof M=="string"&&M!==""||typeof M=="number")return S=S.get(A)||null,l(_,S,""+M,z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ua:return S=S.get(M.key===null?A:M.key)||null,u(_,S,M,z);case bi:return S=S.get(M.key===null?A:M.key)||null,h(_,S,M,z);case fr:var H=M._init;return E(S,_,A,H(M._payload),z)}if(us(M)||Yo(M))return S=S.get(A)||null,f(_,S,M,z,null);Xa(_,M)}return null}function P(S,_,A,M){for(var z=null,H=null,T=_,p=_=0,v=null;T!==null&&p<A.length;p++){T.index>p?(v=T,T=null):v=T.sibling;var w=g(S,T,A[p],M);if(w===null){T===null&&(T=v);break}t&&T&&w.alternate===null&&e(S,T),_=o(w,_,p),H===null?z=w:H.sibling=w,H=w,T=v}if(p===A.length)return n(S,T),je&&Zr(S,p),z;if(T===null){for(;p<A.length;p++)T=m(S,A[p],M),T!==null&&(_=o(T,_,p),H===null?z=T:H.sibling=T,H=T);return je&&Zr(S,p),z}for(T=r(S,T);p<A.length;p++)v=E(T,S,p,A[p],M),v!==null&&(t&&v.alternate!==null&&T.delete(v.key===null?p:v.key),_=o(v,_,p),H===null?z=v:H.sibling=v,H=v);return t&&T.forEach(function(R){return e(S,R)}),je&&Zr(S,p),z}function D(S,_,A,M){var z=Yo(A);if(typeof z!="function")throw Error($(150));if(A=z.call(A),A==null)throw Error($(151));for(var H=z=null,T=_,p=_=0,v=null,w=A.next();T!==null&&!w.done;p++,w=A.next()){T.index>p?(v=T,T=null):v=T.sibling;var R=g(S,T,w.value,M);if(R===null){T===null&&(T=v);break}t&&T&&R.alternate===null&&e(S,T),_=o(R,_,p),H===null?z=R:H.sibling=R,H=R,T=v}if(w.done)return n(S,T),je&&Zr(S,p),z;if(T===null){for(;!w.done;p++,w=A.next())w=m(S,w.value,M),w!==null&&(_=o(w,_,p),H===null?z=w:H.sibling=w,H=w);return je&&Zr(S,p),z}for(T=r(S,T);!w.done;p++,w=A.next())w=E(T,S,p,w.value,M),w!==null&&(t&&w.alternate!==null&&T.delete(w.key===null?p:w.key),_=o(w,_,p),H===null?z=w:H.sibling=w,H=w);return t&&T.forEach(function(x){return e(S,x)}),je&&Zr(S,p),z}function N(S,_,A,M){if(typeof A=="object"&&A!==null&&A.type===Ui&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Ua:e:{for(var z=A.key,H=_;H!==null;){if(H.key===z){if(z=A.type,z===Ui){if(H.tag===7){n(S,H.sibling),_=i(H,A.props.children),_.return=S,S=_;break e}}else if(H.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===fr&&Hp(z)===H.type){n(S,H.sibling),_=i(H,A.props),_.ref=ts(S,H,A),_.return=S,S=_;break e}n(S,H);break}else e(S,H);H=H.sibling}A.type===Ui?(_=hi(A.props.children,S.mode,M,A.key),_.return=S,S=_):(M=_l(A.type,A.key,A.props,null,S.mode,M),M.ref=ts(S,_,A),M.return=S,S=M)}return s(S);case bi:e:{for(H=A.key;_!==null;){if(_.key===H)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){n(S,_.sibling),_=i(_,A.children||[]),_.return=S,S=_;break e}else{n(S,_);break}else e(S,_);_=_.sibling}_=Rc(A,S.mode,M),_.return=S,S=_}return s(S);case fr:return H=A._init,N(S,_,H(A._payload),M)}if(us(A))return P(S,_,A,M);if(Yo(A))return D(S,_,A,M);Xa(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,_!==null&&_.tag===6?(n(S,_.sibling),_=i(_,A),_.return=S,S=_):(n(S,_),_=Ic(A,S.mode,M),_.return=S,S=_),s(S)):n(S,_)}return N}var uo=Hy(!0),Wy=Hy(!1),bl=Ur(null),Ul=null,qi=null,Sd=null;function Id(){Sd=qi=Ul=null}function Rd(t){var e=bl.current;Oe(bl),t._currentValue=e}function fh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function no(t,e){Ul=t,Sd=qi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(Sd!==t)if(t={context:t,memoizedValue:e,next:null},qi===null){if(Ul===null)throw Error($(308));qi=t,Ul.dependencies={lanes:0,firstContext:t}}else qi=qi.next=t;return e}var si=null;function Cd(t){si===null?si=[t]:si.push(t)}function Ky(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Cd(e)):(n.next=i.next,i.next=n),e.interleaved=n,Jn(t,r)}function Jn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pr=!1;function Ad(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Jn(t,n)}return i=r.interleaved,i===null?(e.next=e,Cd(r)):(e.next=i.next,i.next=e),r.interleaved=e,Jn(t,n)}function fl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dd(t,n)}}function Wp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bl(t,e,n,r){var i=t.updateQueue;pr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,s===null?o=h:s.next=h,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=u))}if(o!==null){var m=i.baseState;s=0,f=h=u=null,l=o;do{var g=l.lane,E=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:E,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var P=t,D=l;switch(g=e,E=n,D.tag){case 1:if(P=D.payload,typeof P=="function"){m=P.call(E,m,g);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=D.payload,g=typeof P=="function"?P.call(E,m,g):P,g==null)break e;m=$e({},m,g);break e;case 2:pr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else E={eventTime:E,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=E,u=m):f=f.next=E,s|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);gi|=s,t.lanes=s,t.memoizedState=m}}function Kp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var ca={},Vn=Ur(ca),zs=Ur(ca),$s=Ur(ca);function ai(t){if(t===ca)throw Error($(174));return t}function Pd(t,e){switch(De($s,e),De(zs,t),De(Vn,ca),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qc(e,t)}Oe(Vn),De(Vn,e)}function co(){Oe(Vn),Oe(zs),Oe($s)}function qy(t){ai($s.current);var e=ai(Vn.current),n=Qc(e,t.type);e!==n&&(De(zs,t),De(Vn,n))}function xd(t){zs.current===t&&(Oe(Vn),Oe(zs))}var Be=Ur(0);function zl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vc=[];function kd(){for(var t=0;t<vc.length;t++)vc[t]._workInProgressVersionPrimary=null;vc.length=0}var pl=rr.ReactCurrentDispatcher,_c=rr.ReactCurrentBatchConfig,mi=0,ze=null,it=null,ut=null,$l=!1,Ss=!1,Hs=0,Jw=0;function Ct(){throw Error($(321))}function Dd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cn(t[n],e[n]))return!1;return!0}function Nd(t,e,n,r,i,o){if(mi=o,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pl.current=t===null||t.memoizedState===null?n1:r1,t=n(r,i),Ss){o=0;do{if(Ss=!1,Hs=0,25<=o)throw Error($(301));o+=1,ut=it=null,e.updateQueue=null,pl.current=i1,t=n(r,i)}while(Ss)}if(pl.current=Hl,e=it!==null&&it.next!==null,mi=0,ut=it=ze=null,$l=!1,e)throw Error($(300));return t}function Vd(){var t=Hs!==0;return Hs=0,t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?ze.memoizedState=ut=t:ut=ut.next=t,ut}function dn(){if(it===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ut===null?ze.memoizedState:ut.next;if(e!==null)ut=e,it=t;else{if(t===null)throw Error($(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ut===null?ze.memoizedState=ut=t:ut=ut.next=t}return ut}function Ws(t,e){return typeof e=="function"?e(t):e}function Ec(t){var e=dn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=it,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,h=o;do{var f=h.lane;if((mi&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=m,s=r):u=u.next=m,ze.lanes|=f,gi|=f}h=h.next}while(h!==null&&h!==o);u===null?s=r:u.next=l,Cn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ze.lanes|=o,gi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wc(t){var e=dn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Cn(o,e.memoizedState)||(Bt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Gy(){}function Yy(t,e){var n=ze,r=dn(),i=e(),o=!Cn(r.memoizedState,i);if(o&&(r.memoizedState=i,Bt=!0),r=r.queue,Ld(Zy.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Ks(9,Jy.bind(null,n,r,i,e),void 0,null),ct===null)throw Error($(349));mi&30||Xy(n,e,i)}return i}function Xy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Jy(t,e,n,r){e.value=n,e.getSnapshot=r,ev(e)&&tv(t)}function Zy(t,e,n){return n(function(){ev(e)&&tv(t)})}function ev(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cn(t,n)}catch{return!0}}function tv(t){var e=Jn(t,1);e!==null&&Rn(e,t,1,-1)}function Qp(t){var e=kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:t},e.queue=t,t=t.dispatch=t1.bind(null,ze,t),[e.memoizedState,t]}function Ks(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nv(){return dn().memoizedState}function ml(t,e,n,r){var i=kn();ze.flags|=t,i.memoizedState=Ks(1|e,n,void 0,r===void 0?null:r)}function vu(t,e,n,r){var i=dn();r=r===void 0?null:r;var o=void 0;if(it!==null){var s=it.memoizedState;if(o=s.destroy,r!==null&&Dd(r,s.deps)){i.memoizedState=Ks(e,n,o,r);return}}ze.flags|=t,i.memoizedState=Ks(1|e,n,o,r)}function qp(t,e){return ml(8390656,8,t,e)}function Ld(t,e){return vu(2048,8,t,e)}function rv(t,e){return vu(4,2,t,e)}function iv(t,e){return vu(4,4,t,e)}function ov(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sv(t,e,n){return n=n!=null?n.concat([t]):null,vu(4,4,ov.bind(null,e,t),n)}function Md(){}function av(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lv(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uv(t,e,n){return mi&21?(Cn(n,e)||(n=py(),ze.lanes|=n,gi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function Zw(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=_c.transition;_c.transition={};try{t(!1),e()}finally{Re=n,_c.transition=r}}function cv(){return dn().memoizedState}function e1(t,e,n){var r=Ar(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hv(t))dv(e,n);else if(n=Ky(t,e,n,r),n!==null){var i=Ot();Rn(n,t,r,i),fv(n,e,r)}}function t1(t,e,n){var r=Ar(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hv(t))dv(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Cn(l,s)){var u=e.interleaved;u===null?(i.next=i,Cd(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Ky(t,e,i,r),n!==null&&(i=Ot(),Rn(n,t,r,i),fv(n,e,r))}}function hv(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function dv(t,e){Ss=$l=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dd(t,n)}}var Hl={readContext:hn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},n1={readContext:hn,useCallback:function(t,e){return kn().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:qp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ml(4194308,4,ov.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ml(4194308,4,t,e)},useInsertionEffect:function(t,e){return ml(4,2,t,e)},useMemo:function(t,e){var n=kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=e1.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=kn();return t={current:t},e.memoizedState=t},useState:Qp,useDebugValue:Md,useDeferredValue:function(t){return kn().memoizedState=t},useTransition:function(){var t=Qp(!1),e=t[0];return t=Zw.bind(null,t[1]),kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,i=kn();if(je){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),ct===null)throw Error($(349));mi&30||Xy(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,qp(Zy.bind(null,r,o,t),[t]),r.flags|=2048,Ks(9,Jy.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=kn(),e=ct.identifierPrefix;if(je){var n=Qn,r=Kn;n=(r&~(1<<32-In(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Jw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},r1={readContext:hn,useCallback:av,useContext:hn,useEffect:Ld,useImperativeHandle:sv,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:lv,useReducer:Ec,useRef:nv,useState:function(){return Ec(Ws)},useDebugValue:Md,useDeferredValue:function(t){var e=dn();return uv(e,it.memoizedState,t)},useTransition:function(){var t=Ec(Ws)[0],e=dn().memoizedState;return[t,e]},useMutableSource:Gy,useSyncExternalStore:Yy,useId:cv,unstable_isNewReconciler:!1},i1={readContext:hn,useCallback:av,useContext:hn,useEffect:Ld,useImperativeHandle:sv,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:lv,useReducer:wc,useRef:nv,useState:function(){return wc(Ws)},useDebugValue:Md,useDeferredValue:function(t){var e=dn();return it===null?e.memoizedState=t:uv(e,it.memoizedState,t)},useTransition:function(){var t=wc(Ws)[0],e=dn().memoizedState;return[t,e]},useMutableSource:Gy,useSyncExternalStore:Yy,useId:cv,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ph(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _u={isMounted:function(t){return(t=t._reactInternals)?Ti(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=Ar(t),o=qn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Rr(t,o,i),e!==null&&(Rn(e,t,i,r),fl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=Ar(t),o=qn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Rr(t,o,i),e!==null&&(Rn(e,t,i,r),fl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),r=Ar(t),i=qn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rr(t,i,r),e!==null&&(Rn(e,t,r,n),fl(e,t,r))}};function Gp(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!js(n,r)||!js(i,o):!0}function pv(t,e,n){var r=!1,i=Lr,o=e.contextType;return typeof o=="object"&&o!==null?o=hn(o):(i=$t(e)?fi:Nt.current,r=e.contextTypes,o=(r=r!=null)?ao(t,i):Lr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_u,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Yp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_u.enqueueReplaceState(e,e.state,null)}function mh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ad(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=hn(o):(o=$t(e)?fi:Nt.current,i.context=ao(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ph(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_u.enqueueReplaceState(i,i.state,null),Bl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ho(t,e){try{var n="",r=e;do n+=NE(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Tc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var o1=typeof WeakMap=="function"?WeakMap:Map;function mv(t,e,n){n=qn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kl||(Kl=!0,Ch=r),gh(t,e)},n}function gv(t,e,n){n=qn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){gh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){gh(t,e),typeof r!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Xp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new o1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=_1.bind(null,t,e,n),e.then(t,t))}function Jp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qn(-1,1),e.tag=2,Rr(n,e,1))),n.lanes|=1),t)}var s1=rr.ReactCurrentOwner,Bt=!1;function Mt(t,e,n,r){e.child=t===null?Wy(e,null,n,r):uo(e,t.child,n,r)}function em(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=Nd(t,e,n,r,o,i),n=Vd(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zn(t,e,i)):(je&&n&&Ed(e),e.flags|=1,Mt(t,e,r,i),e.child)}function tm(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!$d(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,yv(t,e,o,r,i)):(t=_l(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:js,n(s,r)&&t.ref===e.ref)return Zn(t,e,i)}return e.flags|=1,t=Pr(o,r),t.ref=e.ref,t.return=e,e.child=t}function yv(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(js(o,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,Zn(t,e,i)}return yh(t,e,n,r,i)}function vv(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Yi,qt),qt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(Yi,qt),qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,De(Yi,qt),qt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,De(Yi,qt),qt|=r;return Mt(t,e,i,n),e.child}function _v(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yh(t,e,n,r,i){var o=$t(n)?fi:Nt.current;return o=ao(e,o),no(e,i),n=Nd(t,e,n,r,o,i),r=Vd(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zn(t,e,i)):(je&&r&&Ed(e),e.flags|=1,Mt(t,e,n,i),e.child)}function nm(t,e,n,r,i){if($t(n)){var o=!0;Ol(e)}else o=!1;if(no(e,i),e.stateNode===null)gl(t,e),pv(e,n,r),mh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=hn(h):(h=$t(n)?fi:Nt.current,h=ao(e,h));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==h)&&Yp(e,s,r,h),pr=!1;var g=e.memoizedState;s.state=g,Bl(e,r,s,i),u=e.memoizedState,l!==r||g!==u||zt.current||pr?(typeof f=="function"&&(ph(e,n,f,r),u=e.memoizedState),(l=pr||Gp(e,n,l,r,g,u,h))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=h,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Qy(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:_n(e.type,l),s.props=h,m=e.pendingProps,g=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=hn(u):(u=$t(n)?fi:Nt.current,u=ao(e,u));var E=n.getDerivedStateFromProps;(f=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==m||g!==u)&&Yp(e,s,r,u),pr=!1,g=e.memoizedState,s.state=g,Bl(e,r,s,i);var P=e.memoizedState;l!==m||g!==P||zt.current||pr?(typeof E=="function"&&(ph(e,n,E,r),P=e.memoizedState),(h=pr||Gp(e,n,h,r,g,P,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,P,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,P,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),s.props=r,s.state=P,s.context=u,r=h):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return vh(t,e,n,r,o,i)}function vh(t,e,n,r,i,o){_v(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Bp(e,n,!1),Zn(t,e,o);r=e.stateNode,s1.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=uo(e,t.child,null,o),e.child=uo(e,null,l,o)):Mt(t,e,l,o),e.memoizedState=r.state,i&&Bp(e,n,!0),e.child}function Ev(t){var e=t.stateNode;e.pendingContext?Up(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Up(t,e.context,!1),Pd(t,e.containerInfo)}function rm(t,e,n,r,i){return lo(),Td(i),e.flags|=256,Mt(t,e,n,r),e.child}var _h={dehydrated:null,treeContext:null,retryLane:0};function Eh(t){return{baseLanes:t,cachePool:null,transitions:null}}function wv(t,e,n){var r=e.pendingProps,i=Be.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(Be,i&1),t===null)return dh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Tu(s,r,0,null),t=hi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Eh(n),e.memoizedState=_h,t):Od(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return a1(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Pr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Pr(l,o):(o=hi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Eh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=_h,r}return o=t.child,t=o.sibling,r=Pr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Od(t,e){return e=Tu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ja(t,e,n,r){return r!==null&&Td(r),uo(e,t.child,null,n),t=Od(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function a1(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Tc(Error($(422))),Ja(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Tu({mode:"visible",children:r.children},i,0,null),o=hi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&uo(e,t.child,null,s),e.child.memoizedState=Eh(s),e.memoizedState=_h,o);if(!(e.mode&1))return Ja(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error($(419)),r=Tc(o,r,void 0),Ja(t,e,s,r)}if(l=(s&t.childLanes)!==0,Bt||l){if(r=ct,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Jn(t,i),Rn(r,t,i,-1))}return zd(),r=Tc(Error($(421))),Ja(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=E1.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Yt=Ir(i.nextSibling),Xt=e,je=!0,Tn=null,t!==null&&(sn[an++]=Kn,sn[an++]=Qn,sn[an++]=pi,Kn=t.id,Qn=t.overflow,pi=e),e=Od(e,r.children),e.flags|=4096,e)}function im(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fh(t.return,e,n)}function Sc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Tv(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Mt(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&im(t,n,e);else if(t.tag===19)im(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sc(e,!0,n,null,o);break;case"together":Sc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Pr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function l1(t,e,n){switch(e.tag){case 3:Ev(e),lo();break;case 5:qy(e);break;case 1:$t(e.type)&&Ol(e);break;case 4:Pd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(bl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?wv(t,e,n):(De(Be,Be.current&1),t=Zn(t,e,n),t!==null?t.sibling:null);De(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Tv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,vv(t,e,n)}return Zn(t,e,n)}var Sv,wh,Iv,Rv;Sv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wh=function(){};Iv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ai(Vn.current);var o=null;switch(n){case"input":i=$c(t,i),r=$c(t,r),o=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),o=[];break;case"textarea":i=Kc(t,i),r=Kc(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ll)}qc(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ds.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ds.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Me("scroll",t),o||l===u||(o=[])):(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};Rv=function(t,e,n,r){n!==r&&(e.flags|=4)};function ns(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function u1(t,e,n){var r=e.pendingProps;switch(wd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return $t(e.type)&&Ml(),At(e),null;case 3:return r=e.stateNode,co(),Oe(zt),Oe(Nt),kd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ya(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(xh(Tn),Tn=null))),wh(t,e),At(e),null;case 5:xd(e);var i=ai($s.current);if(n=e.type,t!==null&&e.stateNode!=null)Iv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return At(e),null}if(t=ai(Vn.current),Ya(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Dn]=e,r[Bs]=o,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<hs.length;i++)Me(hs[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":fp(r,o),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Me("invalid",r);break;case"textarea":mp(r,o),Me("invalid",r)}qc(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ga(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ga(r.textContent,l,t),i=["children",""+l]):Ds.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Me("scroll",r)}switch(n){case"input":Ba(r),pp(r,o,!0);break;case"textarea":Ba(r),gp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ll)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Zg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Dn]=e,t[Bs]=r,Sv(t,e,!1,!1),e.stateNode=t;e:{switch(s=Gc(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<hs.length;i++)Me(hs[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":fp(t,r),i=$c(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),Me("invalid",t);break;case"textarea":mp(t,r),i=Kc(t,r),Me("invalid",t);break;default:i=r}qc(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?ny(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ey(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ns(t,u):typeof u=="number"&&Ns(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ds.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Me("scroll",t):u!=null&&sd(t,o,u,s))}switch(n){case"input":Ba(t),pp(t,r,!1);break;case"textarea":Ba(t),gp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ji(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ji(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)Rv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ai($s.current),ai(Vn.current),Ya(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dn]=e,(o=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:Ga(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ga(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dn]=e,e.stateNode=r}return At(e),null;case 13:if(Oe(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&Yt!==null&&e.mode&1&&!(e.flags&128))$y(),lo(),e.flags|=98560,o=!1;else if(o=Ya(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error($(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($(317));o[Dn]=e}else lo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),o=!1}else Tn!==null&&(xh(Tn),Tn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?st===0&&(st=3):zd())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return co(),wh(t,e),t===null&&bs(e.stateNode.containerInfo),At(e),null;case 10:return Rd(e.type._context),At(e),null;case 17:return $t(e.type)&&Ml(),At(e),null;case 19:if(Oe(Be),o=e.memoizedState,o===null)return At(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ns(o,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=zl(t),s!==null){for(e.flags|=128,ns(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Be,Be.current&1|2),e.child}t=t.sibling}o.tail!==null&&Xe()>fo&&(e.flags|=128,r=!0,ns(o,!1),e.lanes=4194304)}else{if(!r)if(t=zl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ns(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!je)return At(e),null}else 2*Xe()-o.renderingStartTime>fo&&n!==1073741824&&(e.flags|=128,r=!0,ns(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Xe(),e.sibling=null,n=Be.current,De(Be,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return Bd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qt&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function c1(t,e){switch(wd(e),e.tag){case 1:return $t(e.type)&&Ml(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return co(),Oe(zt),Oe(Nt),kd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xd(e),null;case 13:if(Oe(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));lo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Be),null;case 4:return co(),null;case 10:return Rd(e.type._context),null;case 22:case 23:return Bd(),null;case 24:return null;default:return null}}var Za=!1,kt=!1,h1=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Gi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function Th(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var om=!1;function d1(t,e){if(oh=Dl,t=ky(),_d(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,h=0,f=0,m=t,g=null;t:for(;;){for(var E;m!==n||i!==0&&m.nodeType!==3||(l=s+i),m!==o||r!==0&&m.nodeType!==3||(u=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(E=m.firstChild)!==null;)g=m,m=E;for(;;){if(m===t)break t;if(g===n&&++h===i&&(l=s),g===o&&++f===r&&(u=s),(E=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=E}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(sh={focusedElem:t,selectionRange:n},Dl=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var D=P.memoizedProps,N=P.memoizedState,S=e.stateNode,_=S.getSnapshotBeforeUpdate(e.elementType===e.type?D:_n(e.type,D),N);S.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(M){Ke(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return P=om,om=!1,P}function Is(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Th(e,n,o)}i=i.next}while(i!==r)}}function Eu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Cv(t){var e=t.alternate;e!==null&&(t.alternate=null,Cv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dn],delete e[Bs],delete e[uh],delete e[qw],delete e[Gw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Av(t){return t.tag===5||t.tag===3||t.tag===4}function sm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Av(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ih(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ll));else if(r!==4&&(t=t.child,t!==null))for(Ih(t,e,n),t=t.sibling;t!==null;)Ih(t,e,n),t=t.sibling}function Rh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rh(t,e,n),t=t.sibling;t!==null;)Rh(t,e,n),t=t.sibling}var ft=null,En=!1;function hr(t,e,n){for(n=n.child;n!==null;)Pv(t,e,n),n=n.sibling}function Pv(t,e,n){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(du,n)}catch{}switch(n.tag){case 5:kt||Gi(n,e);case 6:var r=ft,i=En;ft=null,hr(t,e,n),ft=r,En=i,ft!==null&&(En?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(En?(t=ft,n=n.stateNode,t.nodeType===8?gc(t.parentNode,n):t.nodeType===1&&gc(t,n),Os(t)):gc(ft,n.stateNode));break;case 4:r=ft,i=En,ft=n.stateNode.containerInfo,En=!0,hr(t,e,n),ft=r,En=i;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Th(n,e,s),i=i.next}while(i!==r)}hr(t,e,n);break;case 1:if(!kt&&(Gi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ke(n,e,l)}hr(t,e,n);break;case 21:hr(t,e,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,hr(t,e,n),kt=r):hr(t,e,n);break;default:hr(t,e,n)}}function am(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new h1),e.forEach(function(r){var i=w1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:ft=l.stateNode,En=!1;break e;case 3:ft=l.stateNode.containerInfo,En=!0;break e;case 4:ft=l.stateNode.containerInfo,En=!0;break e}l=l.return}if(ft===null)throw Error($(160));Pv(o,s,i),ft=null,En=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Ke(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xv(e,t),e=e.sibling}function xv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vn(e,t),xn(t),r&4){try{Is(3,t,t.return),Eu(3,t)}catch(D){Ke(t,t.return,D)}try{Is(5,t,t.return)}catch(D){Ke(t,t.return,D)}}break;case 1:vn(e,t),xn(t),r&512&&n!==null&&Gi(n,n.return);break;case 5:if(vn(e,t),xn(t),r&512&&n!==null&&Gi(n,n.return),t.flags&32){var i=t.stateNode;try{Ns(i,"")}catch(D){Ke(t,t.return,D)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Xg(i,o),Gc(l,s);var h=Gc(l,o);for(s=0;s<u.length;s+=2){var f=u[s],m=u[s+1];f==="style"?ny(i,m):f==="dangerouslySetInnerHTML"?ey(i,m):f==="children"?Ns(i,m):sd(i,f,m,h)}switch(l){case"input":Hc(i,o);break;case"textarea":Jg(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?Ji(i,!!o.multiple,E,!1):g!==!!o.multiple&&(o.defaultValue!=null?Ji(i,!!o.multiple,o.defaultValue,!0):Ji(i,!!o.multiple,o.multiple?[]:"",!1))}i[Bs]=o}catch(D){Ke(t,t.return,D)}}break;case 6:if(vn(e,t),xn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(D){Ke(t,t.return,D)}}break;case 3:if(vn(e,t),xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Os(e.containerInfo)}catch(D){Ke(t,t.return,D)}break;case 4:vn(e,t),xn(t);break;case 13:vn(e,t),xn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(bd=Xe())),r&4&&am(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(kt=(h=kt)||f,vn(e,t),kt=h):vn(e,t),xn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(Y=t,f=t.child;f!==null;){for(m=Y=f;Y!==null;){switch(g=Y,E=g.child,g.tag){case 0:case 11:case 14:case 15:Is(4,g,g.return);break;case 1:Gi(g,g.return);var P=g.stateNode;if(typeof P.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(D){Ke(r,n,D)}}break;case 5:Gi(g,g.return);break;case 22:if(g.memoizedState!==null){um(m);continue}}E!==null?(E.return=g,Y=E):um(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,u=m.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=ty("display",s))}catch(D){Ke(t,t.return,D)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(D){Ke(t,t.return,D)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:vn(e,t),xn(t),r&4&&am(t);break;case 21:break;default:vn(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Av(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ns(i,""),r.flags&=-33);var o=sm(t);Rh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=sm(t);Ih(t,l,s);break;default:throw Error($(161))}}catch(u){Ke(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function f1(t,e,n){Y=t,kv(t)}function kv(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Za;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||kt;l=Za;var h=kt;if(Za=s,(kt=u)&&!h)for(Y=i;Y!==null;)s=Y,u=s.child,s.tag===22&&s.memoizedState!==null?cm(i):u!==null?(u.return=s,Y=u):cm(i);for(;o!==null;)Y=o,kv(o),o=o.sibling;Y=i,Za=l,kt=h}lm(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):lm(t)}}function lm(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kt||Eu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Kp(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Kp(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Os(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}kt||e.flags&512&&Sh(e)}catch(g){Ke(e,e.return,g)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function um(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function cm(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Eu(4,e)}catch(u){Ke(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ke(e,i,u)}}var o=e.return;try{Sh(e)}catch(u){Ke(e,o,u)}break;case 5:var s=e.return;try{Sh(e)}catch(u){Ke(e,s,u)}}}catch(u){Ke(e,e.return,u)}if(e===t){Y=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Y=l;break}Y=e.return}}var p1=Math.ceil,Wl=rr.ReactCurrentDispatcher,Fd=rr.ReactCurrentOwner,cn=rr.ReactCurrentBatchConfig,_e=0,ct=null,tt=null,gt=0,qt=0,Yi=Ur(0),st=0,Qs=null,gi=0,wu=0,jd=0,Rs=null,Ut=null,bd=0,fo=1/0,Hn=null,Kl=!1,Ch=null,Cr=null,el=!1,vr=null,Ql=0,Cs=0,Ah=null,yl=-1,vl=0;function Ot(){return _e&6?Xe():yl!==-1?yl:yl=Xe()}function Ar(t){return t.mode&1?_e&2&&gt!==0?gt&-gt:Xw.transition!==null?(vl===0&&(vl=py()),vl):(t=Re,t!==0||(t=window.event,t=t===void 0?16:wy(t.type)),t):1}function Rn(t,e,n,r){if(50<Cs)throw Cs=0,Ah=null,Error($(185));aa(t,n,r),(!(_e&2)||t!==ct)&&(t===ct&&(!(_e&2)&&(wu|=n),st===4&&gr(t,gt)),Ht(t,r),n===1&&_e===0&&!(e.mode&1)&&(fo=Xe()+500,yu&&Br()))}function Ht(t,e){var n=t.callbackNode;XE(t,e);var r=kl(t,t===ct?gt:0);if(r===0)n!==null&&_p(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_p(n),e===1)t.tag===0?Yw(hm.bind(null,t)):Uy(hm.bind(null,t)),Kw(function(){!(_e&6)&&Br()}),n=null;else{switch(my(r)){case 1:n=hd;break;case 4:n=dy;break;case 16:n=xl;break;case 536870912:n=fy;break;default:n=xl}n=jv(n,Dv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Dv(t,e){if(yl=-1,vl=0,_e&6)throw Error($(327));var n=t.callbackNode;if(ro()&&t.callbackNode!==n)return null;var r=kl(t,t===ct?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ql(t,r);else{e=r;var i=_e;_e|=2;var o=Vv();(ct!==t||gt!==e)&&(Hn=null,fo=Xe()+500,ci(t,e));do try{y1();break}catch(l){Nv(t,l)}while(!0);Id(),Wl.current=o,_e=i,tt!==null?e=0:(ct=null,gt=0,e=st)}if(e!==0){if(e===2&&(i=eh(t),i!==0&&(r=i,e=Ph(t,i))),e===1)throw n=Qs,ci(t,0),gr(t,r),Ht(t,Xe()),n;if(e===6)gr(t,r);else{if(i=t.current.alternate,!(r&30)&&!m1(i)&&(e=ql(t,r),e===2&&(o=eh(t),o!==0&&(r=o,e=Ph(t,o))),e===1))throw n=Qs,ci(t,0),gr(t,r),Ht(t,Xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:ei(t,Ut,Hn);break;case 3:if(gr(t,r),(r&130023424)===r&&(e=bd+500-Xe(),10<e)){if(kl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ot(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=lh(ei.bind(null,t,Ut,Hn),e);break}ei(t,Ut,Hn);break;case 4:if(gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-In(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*p1(r/1960))-r,10<r){t.timeoutHandle=lh(ei.bind(null,t,Ut,Hn),r);break}ei(t,Ut,Hn);break;case 5:ei(t,Ut,Hn);break;default:throw Error($(329))}}}return Ht(t,Xe()),t.callbackNode===n?Dv.bind(null,t):null}function Ph(t,e){var n=Rs;return t.current.memoizedState.isDehydrated&&(ci(t,e).flags|=256),t=ql(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&xh(e)),t}function xh(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function m1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Cn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gr(t,e){for(e&=~jd,e&=~wu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function hm(t){if(_e&6)throw Error($(327));ro();var e=kl(t,0);if(!(e&1))return Ht(t,Xe()),null;var n=ql(t,e);if(t.tag!==0&&n===2){var r=eh(t);r!==0&&(e=r,n=Ph(t,r))}if(n===1)throw n=Qs,ci(t,0),gr(t,e),Ht(t,Xe()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ei(t,Ut,Hn),Ht(t,Xe()),null}function Ud(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(fo=Xe()+500,yu&&Br())}}function yi(t){vr!==null&&vr.tag===0&&!(_e&6)&&ro();var e=_e;_e|=1;var n=cn.transition,r=Re;try{if(cn.transition=null,Re=1,t)return t()}finally{Re=r,cn.transition=n,_e=e,!(_e&6)&&Br()}}function Bd(){qt=Yi.current,Oe(Yi)}function ci(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ww(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(wd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ml();break;case 3:co(),Oe(zt),Oe(Nt),kd();break;case 5:xd(r);break;case 4:co();break;case 13:Oe(Be);break;case 19:Oe(Be);break;case 10:Rd(r.type._context);break;case 22:case 23:Bd()}n=n.return}if(ct=t,tt=t=Pr(t.current,null),gt=qt=e,st=0,Qs=null,jd=wu=gi=0,Ut=Rs=null,si!==null){for(e=0;e<si.length;e++)if(n=si[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}si=null}return t}function Nv(t,e){do{var n=tt;try{if(Id(),pl.current=Hl,$l){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$l=!1}if(mi=0,ut=it=ze=null,Ss=!1,Hs=0,Fd.current=null,n===null||n.return===null){st=1,Qs=e,tt=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=gt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var E=Jp(s);if(E!==null){E.flags&=-257,Zp(E,s,l,o,e),E.mode&1&&Xp(o,h,e),e=E,u=h;var P=e.updateQueue;if(P===null){var D=new Set;D.add(u),e.updateQueue=D}else P.add(u);break e}else{if(!(e&1)){Xp(o,h,e),zd();break e}u=Error($(426))}}else if(je&&l.mode&1){var N=Jp(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Zp(N,s,l,o,e),Td(ho(u,l));break e}}o=u=ho(u,l),st!==4&&(st=2),Rs===null?Rs=[o]:Rs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=mv(o,u,e);Wp(o,S);break e;case 1:l=u;var _=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Cr===null||!Cr.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=gv(o,l,e);Wp(o,M);break e}}o=o.return}while(o!==null)}Mv(n)}catch(z){e=z,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function Vv(){var t=Wl.current;return Wl.current=Hl,t===null?Hl:t}function zd(){(st===0||st===3||st===2)&&(st=4),ct===null||!(gi&268435455)&&!(wu&268435455)||gr(ct,gt)}function ql(t,e){var n=_e;_e|=2;var r=Vv();(ct!==t||gt!==e)&&(Hn=null,ci(t,e));do try{g1();break}catch(i){Nv(t,i)}while(!0);if(Id(),_e=n,Wl.current=r,tt!==null)throw Error($(261));return ct=null,gt=0,st}function g1(){for(;tt!==null;)Lv(tt)}function y1(){for(;tt!==null&&!zE();)Lv(tt)}function Lv(t){var e=Fv(t.alternate,t,qt);t.memoizedProps=t.pendingProps,e===null?Mv(t):tt=e,Fd.current=null}function Mv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=c1(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,tt=null;return}}else if(n=u1(n,e,qt),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);st===0&&(st=5)}function ei(t,e,n){var r=Re,i=cn.transition;try{cn.transition=null,Re=1,v1(t,e,n,r)}finally{cn.transition=i,Re=r}return null}function v1(t,e,n,r){do ro();while(vr!==null);if(_e&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(JE(t,o),t===ct&&(tt=ct=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||el||(el=!0,jv(xl,function(){return ro(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=cn.transition,cn.transition=null;var s=Re;Re=1;var l=_e;_e|=4,Fd.current=null,d1(t,n),xv(n,t),jw(sh),Dl=!!oh,sh=oh=null,t.current=n,f1(n),$E(),_e=l,Re=s,cn.transition=o}else t.current=n;if(el&&(el=!1,vr=t,Ql=i),o=t.pendingLanes,o===0&&(Cr=null),KE(n.stateNode),Ht(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,t=Ch,Ch=null,t;return Ql&1&&t.tag!==0&&ro(),o=t.pendingLanes,o&1?t===Ah?Cs++:(Cs=0,Ah=t):Cs=0,Br(),null}function ro(){if(vr!==null){var t=my(Ql),e=cn.transition,n=Re;try{if(cn.transition=null,Re=16>t?16:t,vr===null)var r=!1;else{if(t=vr,vr=null,Ql=0,_e&6)throw Error($(331));var i=_e;for(_e|=4,Y=t.current;Y!==null;){var o=Y,s=o.child;if(Y.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(Y=h;Y!==null;){var f=Y;switch(f.tag){case 0:case 11:case 15:Is(8,f,o)}var m=f.child;if(m!==null)m.return=f,Y=m;else for(;Y!==null;){f=Y;var g=f.sibling,E=f.return;if(Cv(f),f===h){Y=null;break}if(g!==null){g.return=E,Y=g;break}Y=E}}}var P=o.alternate;if(P!==null){var D=P.child;if(D!==null){P.child=null;do{var N=D.sibling;D.sibling=null,D=N}while(D!==null)}}Y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Is(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,Y=S;break e}Y=o.return}}var _=t.current;for(Y=_;Y!==null;){s=Y;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,Y=A;else e:for(s=_;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Eu(9,l)}}catch(z){Ke(l,l.return,z)}if(l===s){Y=null;break e}var M=l.sibling;if(M!==null){M.return=l.return,Y=M;break e}Y=l.return}}if(_e=i,Br(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(du,t)}catch{}r=!0}return r}finally{Re=n,cn.transition=e}}return!1}function dm(t,e,n){e=ho(n,e),e=mv(t,e,1),t=Rr(t,e,1),e=Ot(),t!==null&&(aa(t,1,e),Ht(t,e))}function Ke(t,e,n){if(t.tag===3)dm(t,t,n);else for(;e!==null;){if(e.tag===3){dm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cr===null||!Cr.has(r))){t=ho(n,t),t=gv(e,t,1),e=Rr(e,t,1),t=Ot(),e!==null&&(aa(e,1,t),Ht(e,t));break}}e=e.return}}function _1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(gt&n)===n&&(st===4||st===3&&(gt&130023424)===gt&&500>Xe()-bd?ci(t,0):jd|=n),Ht(t,e)}function Ov(t,e){e===0&&(t.mode&1?(e=Ha,Ha<<=1,!(Ha&130023424)&&(Ha=4194304)):e=1);var n=Ot();t=Jn(t,e),t!==null&&(aa(t,e,n),Ht(t,n))}function E1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ov(t,n)}function w1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),Ov(t,n)}var Fv;Fv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,l1(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,je&&e.flags&1048576&&By(e,jl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gl(t,e),t=e.pendingProps;var i=ao(e,Nt.current);no(e,n),i=Nd(null,e,r,t,i,n);var o=Vd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(o=!0,Ol(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ad(e),i.updater=_u,e.stateNode=i,i._reactInternals=e,mh(e,r,t,n),e=vh(null,e,r,!0,o,n)):(e.tag=0,je&&o&&Ed(e),Mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=S1(r),t=_n(r,t),i){case 0:e=yh(null,e,r,t,n);break e;case 1:e=nm(null,e,r,t,n);break e;case 11:e=em(null,e,r,t,n);break e;case 14:e=tm(null,e,r,_n(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),yh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),nm(t,e,r,i,n);case 3:e:{if(Ev(e),t===null)throw Error($(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Qy(t,e),Bl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ho(Error($(423)),e),e=rm(t,e,r,n,i);break e}else if(r!==i){i=ho(Error($(424)),e),e=rm(t,e,r,n,i);break e}else for(Yt=Ir(e.stateNode.containerInfo.firstChild),Xt=e,je=!0,Tn=null,n=Wy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lo(),r===i){e=Zn(t,e,n);break e}Mt(t,e,r,n)}e=e.child}return e;case 5:return qy(e),t===null&&dh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,ah(r,i)?s=null:o!==null&&ah(r,o)&&(e.flags|=32),_v(t,e),Mt(t,e,s,n),e.child;case 6:return t===null&&dh(e),null;case 13:return wv(t,e,n);case 4:return Pd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=uo(e,null,r,n):Mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),em(t,e,r,i,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,De(bl,r._currentValue),r._currentValue=s,o!==null)if(Cn(o.value,s)){if(o.children===i.children&&!zt.current){e=Zn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=qn(-1,n&-n),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),fh(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error($(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),fh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,no(e,n),i=hn(i),r=r(i),e.flags|=1,Mt(t,e,r,n),e.child;case 14:return r=e.type,i=_n(r,e.pendingProps),i=_n(r.type,i),tm(t,e,r,i,n);case 15:return yv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_n(r,i),gl(t,e),e.tag=1,$t(r)?(t=!0,Ol(e)):t=!1,no(e,n),pv(e,r,i),mh(e,r,i,n),vh(null,e,r,!0,t,n);case 19:return Tv(t,e,n);case 22:return vv(t,e,n)}throw Error($(156,e.tag))};function jv(t,e){return hy(t,e)}function T1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,e,n,r){return new T1(t,e,n,r)}function $d(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S1(t){if(typeof t=="function")return $d(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ld)return 11;if(t===ud)return 14}return 2}function Pr(t,e){var n=t.alternate;return n===null?(n=un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _l(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")$d(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ui:return hi(n.children,i,o,e);case ad:s=8,i|=8;break;case bc:return t=un(12,n,e,i|2),t.elementType=bc,t.lanes=o,t;case Uc:return t=un(13,n,e,i),t.elementType=Uc,t.lanes=o,t;case Bc:return t=un(19,n,e,i),t.elementType=Bc,t.lanes=o,t;case qg:return Tu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kg:s=10;break e;case Qg:s=9;break e;case ld:s=11;break e;case ud:s=14;break e;case fr:s=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=un(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function hi(t,e,n,r){return t=un(7,t,r,e),t.lanes=n,t}function Tu(t,e,n,r){return t=un(22,t,r,e),t.elementType=qg,t.lanes=n,t.stateNode={isHidden:!1},t}function Ic(t,e,n){return t=un(6,t,null,e),t.lanes=n,t}function Rc(t,e,n){return e=un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oc(0),this.expirationTimes=oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hd(t,e,n,r,i,o,s,l,u){return t=new I1(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=un(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ad(o),t}function R1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bv(t){if(!t)return Lr;t=t._reactInternals;e:{if(Ti(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if($t(n))return by(t,n,e)}return e}function Uv(t,e,n,r,i,o,s,l,u){return t=Hd(n,r,!0,t,i,o,s,l,u),t.context=bv(null),n=t.current,r=Ot(),i=Ar(n),o=qn(r,i),o.callback=e??null,Rr(n,o,i),t.current.lanes=i,aa(t,i,r),Ht(t,r),t}function Su(t,e,n,r){var i=e.current,o=Ot(),s=Ar(i);return n=bv(n),e.context===null?e.context=n:e.pendingContext=n,e=qn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rr(i,e,s),t!==null&&(Rn(t,i,s,o),fl(t,i,s)),s}function Gl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wd(t,e){fm(t,e),(t=t.alternate)&&fm(t,e)}function C1(){return null}var Bv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kd(t){this._internalRoot=t}Iu.prototype.render=Kd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Su(t,e,null,null)};Iu.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yi(function(){Su(null,t,null,null)}),e[Xn]=null}};function Iu(t){this._internalRoot=t}Iu.prototype.unstable_scheduleHydration=function(t){if(t){var e=vy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mr.length&&e!==0&&e<mr[n].priority;n++);mr.splice(n,0,t),n===0&&Ey(t)}};function Qd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ru(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pm(){}function A1(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=Gl(s);o.call(h)}}var s=Uv(e,r,t,0,null,!1,!1,"",pm);return t._reactRootContainer=s,t[Xn]=s.current,bs(t.nodeType===8?t.parentNode:t),yi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Gl(u);l.call(h)}}var u=Hd(t,0,!1,null,null,!1,!1,"",pm);return t._reactRootContainer=u,t[Xn]=u.current,bs(t.nodeType===8?t.parentNode:t),yi(function(){Su(e,u,n,r)}),u}function Cu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=Gl(s);l.call(u)}}Su(e,s,t,i)}else s=A1(n,e,t,i,r);return Gl(s)}gy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cs(e.pendingLanes);n!==0&&(dd(e,n|1),Ht(e,Xe()),!(_e&6)&&(fo=Xe()+500,Br()))}break;case 13:yi(function(){var r=Jn(t,1);if(r!==null){var i=Ot();Rn(r,t,1,i)}}),Wd(t,1)}};fd=function(t){if(t.tag===13){var e=Jn(t,134217728);if(e!==null){var n=Ot();Rn(e,t,134217728,n)}Wd(t,134217728)}};yy=function(t){if(t.tag===13){var e=Ar(t),n=Jn(t,e);if(n!==null){var r=Ot();Rn(n,t,e,r)}Wd(t,e)}};vy=function(){return Re};_y=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};Xc=function(t,e,n){switch(e){case"input":if(Hc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gu(r);if(!i)throw Error($(90));Yg(r),Hc(r,i)}}}break;case"textarea":Jg(t,n);break;case"select":e=n.value,e!=null&&Ji(t,!!n.multiple,e,!1)}};oy=Ud;sy=yi;var P1={usingClientEntryPoint:!1,Events:[ua,Hi,gu,ry,iy,Ud]},rs={findFiberByHostInstance:oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x1={bundleType:rs.bundleType,version:rs.version,rendererPackageName:rs.rendererPackageName,rendererConfig:rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uy(t),t===null?null:t.stateNode},findFiberByHostInstance:rs.findFiberByHostInstance||C1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{du=tl.inject(x1),Nn=tl}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P1;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qd(e))throw Error($(200));return R1(t,e,null,n)};en.createRoot=function(t,e){if(!Qd(t))throw Error($(299));var n=!1,r="",i=Bv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Hd(t,1,!1,null,null,n,!1,r,i),t[Xn]=e.current,bs(t.nodeType===8?t.parentNode:t),new Kd(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=uy(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return yi(t)};en.hydrate=function(t,e,n){if(!Ru(e))throw Error($(200));return Cu(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!Qd(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Bv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Uv(e,null,t,1,n??null,i,!1,o,s),t[Xn]=e.current,bs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Iu(e)};en.render=function(t,e,n){if(!Ru(e))throw Error($(200));return Cu(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!Ru(t))throw Error($(40));return t._reactRootContainer?(yi(function(){Cu(null,null,t,!1,function(){t._reactRootContainer=null,t[Xn]=null})}),!0):!1};en.unstable_batchedUpdates=Ud;en.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ru(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Cu(t,e,n,!1,r)};en.version="18.3.1-next-f1338f8080-20240426";function zv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zv)}catch(t){console.error(t)}}zv(),zg.exports=en;var qd=zg.exports;const k1=kg(qd),D1=xg({__proto__:null,default:k1},[qd]);var $v,mm=qd;$v=mm.createRoot,mm.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ue(){return Ue=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ue.apply(this,arguments)}var qe;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qe||(qe={}));const gm="popstate";function N1(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return qs("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ha(i)}return L1(e,n,null,t)}function ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function po(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function V1(){return Math.random().toString(36).substr(2,8)}function ym(t,e){return{usr:t.state,key:t.key,idx:e}}function qs(t,e,n,r){return n===void 0&&(n=null),Ue({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ir(e):e,{state:n,key:e&&e.key||r||V1()})}function ha(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ir(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function L1(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=qe.Pop,u=null,h=f();h==null&&(h=0,s.replaceState(Ue({},s.state,{idx:h}),""));function f(){return(s.state||{idx:null}).idx}function m(){l=qe.Pop;let N=f(),S=N==null?null:N-h;h=N,u&&u({action:l,location:D.location,delta:S})}function g(N,S){l=qe.Push;let _=qs(D.location,N,S);h=f()+1;let A=ym(_,h),M=D.createHref(_);try{s.pushState(A,"",M)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(M)}o&&u&&u({action:l,location:D.location,delta:1})}function E(N,S){l=qe.Replace;let _=qs(D.location,N,S);h=f();let A=ym(_,h),M=D.createHref(_);s.replaceState(A,"",M),o&&u&&u({action:l,location:D.location,delta:0})}function P(N){let S=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof N=="string"?N:ha(N);return _=_.replace(/ $/,"%20"),ce(S,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,S)}let D={get action(){return l},get location(){return t(i,s)},listen(N){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(gm,m),u=N,()=>{i.removeEventListener(gm,m),u=null}},createHref(N){return e(i,N)},createURL:P,encodeLocation(N){let S=P(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:E,go(N){return s.go(N)}};return D}var Pe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pe||(Pe={}));const M1=new Set(["lazy","caseSensitive","path","id","index","children"]);function O1(t){return t.index===!0}function Gs(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],l=typeof i.id=="string"?i.id:s.join("-");if(ce(i.index!==!0||!i.children,"Cannot specify children on an index route"),ce(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),O1(i)){let u=Ue({},i,e(i),{id:l});return r[l]=u,u}else{let u=Ue({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=Gs(i.children,e,s,r)),u}})}function ii(t,e,n){return n===void 0&&(n="/"),El(t,e,n,!1)}function El(t,e,n,r){let i=typeof e=="string"?ir(e):e,o=da(i.pathname||"/",n);if(o==null)return null;let s=Hv(t);j1(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let h=G1(o);l=Q1(s[u],h,r)}return l}function F1(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Hv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(ce(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=xr([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(ce(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Hv(o.children,e,f,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:W1(h,o.index),routesMeta:f})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of Wv(o.path))i(o,s,u)}),e}function Wv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Wv(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function j1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:K1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const b1=/^:[\w-]+$/,U1=3,B1=2,z1=1,$1=10,H1=-2,vm=t=>t==="*";function W1(t,e){let n=t.split("/"),r=n.length;return n.some(vm)&&(r+=H1),e&&(r+=B1),n.filter(i=>!vm(i)).reduce((i,o)=>i+(b1.test(o)?U1:o===""?z1:$1),r)}function K1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Q1(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",m=_m({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=_m({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:xr([o,m.pathname]),pathnameBase:J1(xr([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=xr([o,m.pathnameBase]))}return s}function _m(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=q1(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,m)=>{let{paramName:g,isOptional:E}=f;if(g==="*"){let D=l[m]||"";s=o.slice(0,o.length-D.length).replace(/(.)\/+$/,"$1")}const P=l[m];return E&&!P?h[g]=void 0:h[g]=(P||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:s,pattern:t}}function q1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),po(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function G1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return po(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function da(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Y1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ir(t):t;return{pathname:n?n.startsWith("/")?n:X1(n,e):e,search:Z1(r),hash:eT(i)}}function X1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qv(t,e){let n=Kv(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qv(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ir(t):(i=Ue({},t),ce(!i.pathname||!i.pathname.includes("?"),Cc("?","pathname","search",i)),ce(!i.pathname||!i.pathname.includes("#"),Cc("#","pathname","hash",i)),ce(!i.search||!i.search.includes("#"),Cc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=Y1(i,l),h=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const xr=t=>t.join("/").replace(/\/\/+/g,"/"),J1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Z1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Yl{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Au(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Gv=["post","put","patch","delete"],tT=new Set(Gv),nT=["get",...Gv],rT=new Set(nT),iT=new Set([301,302,303,307,308]),oT=new Set([307,308]),Ac={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},sT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},is={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Gd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aT=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Yv="remix-router-transitions";function lT(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ce(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let C=t.detectErrorBoundary;i=k=>({hasErrorBoundary:C(k)})}else i=aT;let o={},s=Gs(t.routes,i,void 0,o),l,u=t.basename||"/",h=t.unstable_dataStrategy||pT,f=t.unstable_patchRoutesOnNavigation,m=Ue({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,E=new Set,P=1e3,D=new Set,N=null,S=null,_=null,A=t.hydrationData!=null,M=ii(s,t.history.location,u),z=null;if(M==null&&!f){let C=Lt(404,{pathname:t.history.location.pathname}),{matches:k,route:L}=Pm(s);M=k,z={[L.id]:C}}M&&!t.hydrationData&&Je(M,s,t.history.location.pathname).active&&(M=null);let H;if(M)if(M.some(C=>C.route.lazy))H=!1;else if(!M.some(C=>C.route.loader))H=!0;else if(m.v7_partialHydration){let C=t.hydrationData?t.hydrationData.loaderData:null,k=t.hydrationData?t.hydrationData.errors:null,L=b=>b.route.loader?typeof b.route.loader=="function"&&b.route.loader.hydrate===!0?!1:C&&C[b.route.id]!==void 0||k&&k[b.route.id]!==void 0:!0;if(k){let b=M.findIndex(q=>k[q.route.id]!==void 0);H=M.slice(0,b+1).every(L)}else H=M.every(L)}else H=t.hydrationData!=null;else if(H=!1,M=[],m.v7_partialHydration){let C=Je(null,s,t.history.location.pathname);C.active&&C.matches&&(M=C.matches)}let T,p={historyAction:t.history.action,location:t.history.location,matches:M,initialized:H,navigation:Ac,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||z,fetchers:new Map,blockers:new Map},v=qe.Pop,w=!1,R,x=!1,I=new Map,Ee=null,Et=!1,Wt=!1,bt=[],Q=new Set,G=new Map,oe=0,Ie=-1,me=new Map,Se=new Set,wt=new Map,Vt=new Map,nt=new Set,ht=new Map,bn=new Map,Wu=new Map,Un;function Ri(){if(g=t.history.listen(C=>{let{action:k,location:L,delta:b}=C;if(Un){Un(),Un=void 0;return}po(bn.size===0||b!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let q=Pi({currentLocation:p.location,nextLocation:L,historyAction:k});if(q&&b!=null){let te=new Promise(ie=>{Un=ie});t.history.go(b*-1),Pn(q,{state:"blocked",location:L,proceed(){Pn(q,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),te.then(()=>t.history.go(b))},reset(){let ie=new Map(p.blockers);ie.set(q,is),rt({blockers:ie})}});return}return Bn(k,L)}),n){xT(e,I);let C=()=>kT(e,I);e.addEventListener("pagehide",C),Ee=()=>e.removeEventListener("pagehide",C)}return p.initialized||Bn(qe.Pop,p.location,{initialHydration:!0}),T}function Vo(){g&&g(),Ee&&Ee(),E.clear(),R&&R.abort(),p.fetchers.forEach((C,k)=>$r(k)),p.blockers.forEach((C,k)=>Uo(k))}function Lo(C){return E.add(C),()=>E.delete(C)}function rt(C,k){k===void 0&&(k={}),p=Ue({},p,C);let L=[],b=[];m.v7_fetcherPersist&&p.fetchers.forEach((q,te)=>{q.state==="idle"&&(nt.has(te)?b.push(te):L.push(te))}),[...E].forEach(q=>q(p,{deletedFetchers:b,unstable_viewTransitionOpts:k.viewTransitionOpts,unstable_flushSync:k.flushSync===!0})),m.v7_fetcherPersist&&(L.forEach(q=>p.fetchers.delete(q)),b.forEach(q=>$r(q)))}function An(C,k,L){var b,q;let{flushSync:te}=L===void 0?{}:L,ie=p.actionData!=null&&p.navigation.formMethod!=null&&wn(p.navigation.formMethod)&&p.navigation.state==="loading"&&((b=C.state)==null?void 0:b._isRedirect)!==!0,W;k.actionData?Object.keys(k.actionData).length>0?W=k.actionData:W=null:ie?W=p.actionData:W=null;let ee=k.loaderData?Cm(p.loaderData,k.loaderData,k.matches||[],k.errors):p.loaderData,X=p.blockers;X.size>0&&(X=new Map(X),X.forEach((ye,Ae)=>X.set(Ae,is)));let Z=w===!0||p.navigation.formMethod!=null&&wn(p.navigation.formMethod)&&((q=C.state)==null?void 0:q._isRedirect)!==!0;l&&(s=l,l=void 0),Et||v===qe.Pop||(v===qe.Push?t.history.push(C,C.state):v===qe.Replace&&t.history.replace(C,C.state));let pe;if(v===qe.Pop){let ye=I.get(p.location.pathname);ye&&ye.has(C.pathname)?pe={currentLocation:p.location,nextLocation:C}:I.has(C.pathname)&&(pe={currentLocation:C,nextLocation:p.location})}else if(x){let ye=I.get(p.location.pathname);ye?ye.add(C.pathname):(ye=new Set([C.pathname]),I.set(p.location.pathname,ye)),pe={currentLocation:p.location,nextLocation:C}}rt(Ue({},k,{actionData:W,loaderData:ee,historyAction:v,location:C,initialized:!0,navigation:Ac,revalidation:"idle",restoreScrollPosition:zo(C,k.matches||p.matches),preventScrollReset:Z,blockers:X}),{viewTransitionOpts:pe,flushSync:te===!0}),v=qe.Pop,w=!1,x=!1,Et=!1,Wt=!1,bt=[]}async function Mo(C,k){if(typeof C=="number"){t.history.go(C);return}let L=kh(p.location,p.matches,u,m.v7_prependBasename,C,m.v7_relativeSplatPath,k==null?void 0:k.fromRouteId,k==null?void 0:k.relative),{path:b,submission:q,error:te}=Em(m.v7_normalizeFormMethod,!1,L,k),ie=p.location,W=qs(p.location,b,k&&k.state);W=Ue({},W,t.history.encodeLocation(W));let ee=k&&k.replace!=null?k.replace:void 0,X=qe.Push;ee===!0?X=qe.Replace:ee===!1||q!=null&&wn(q.formMethod)&&q.formAction===p.location.pathname+p.location.search&&(X=qe.Replace);let Z=k&&"preventScrollReset"in k?k.preventScrollReset===!0:void 0,pe=(k&&k.unstable_flushSync)===!0,ye=Pi({currentLocation:ie,nextLocation:W,historyAction:X});if(ye){Pn(ye,{state:"blocked",location:W,proceed(){Pn(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),Mo(C,k)},reset(){let Ae=new Map(p.blockers);Ae.set(ye,is),rt({blockers:Ae})}});return}return await Bn(X,W,{submission:q,pendingError:te,preventScrollReset:Z,replace:k&&k.replace,enableViewTransition:k&&k.unstable_viewTransition,flushSync:pe})}function Ku(){if(Ci(),rt({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){Bn(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}Bn(v||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation,enableViewTransition:x===!0})}}async function Bn(C,k,L){R&&R.abort(),R=null,v=C,Et=(L&&L.startUninterruptedRevalidation)===!0,Wr(p.location,p.matches),w=(L&&L.preventScrollReset)===!0,x=(L&&L.enableViewTransition)===!0;let b=l||s,q=L&&L.overrideNavigation,te=ii(b,k,u),ie=(L&&L.flushSync)===!0,W=Je(te,b,k.pathname);if(W.active&&W.matches&&(te=W.matches),!te){let{error:de,notFoundMatches:Ze,route:Ne}=Hr(k.pathname);An(k,{matches:Ze,loaderData:{},errors:{[Ne.id]:de}},{flushSync:ie});return}if(p.initialized&&!Wt&&ET(p.location,k)&&!(L&&L.submission&&wn(L.submission.formMethod))){An(k,{matches:te},{flushSync:ie});return}R=new AbortController;let ee=Mi(t.history,k,R.signal,L&&L.submission),X;if(L&&L.pendingError)X=[Xi(te).route.id,{type:Pe.error,error:L.pendingError}];else if(L&&L.submission&&wn(L.submission.formMethod)){let de=await Ea(ee,k,L.submission,te,W.active,{replace:L.replace,flushSync:ie});if(de.shortCircuited)return;if(de.pendingActionResult){let[Ze,Ne]=de.pendingActionResult;if(Gt(Ne)&&Au(Ne.error)&&Ne.error.status===404){R=null,An(k,{matches:de.matches,loaderData:{},errors:{[Ze]:Ne.error}});return}}te=de.matches||te,X=de.pendingActionResult,q=Pc(k,L.submission),ie=!1,W.active=!1,ee=Mi(t.history,ee.url,ee.signal)}let{shortCircuited:Z,matches:pe,loaderData:ye,errors:Ae}=await Oo(ee,k,te,W.active,q,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,ie,X);Z||(R=null,An(k,Ue({matches:pe||te},Am(X),{loaderData:ye,errors:Ae})))}async function Ea(C,k,L,b,q,te){te===void 0&&(te={}),Ci();let ie=AT(k,L);if(rt({navigation:ie},{flushSync:te.flushSync===!0}),q){let X=await Kr(b,k.pathname,C.signal);if(X.type==="aborted")return{shortCircuited:!0};if(X.type==="error"){let{boundaryId:Z,error:pe}=rn(k.pathname,X);return{matches:X.partialMatches,pendingActionResult:[Z,{type:Pe.error,error:pe}]}}else if(X.matches)b=X.matches;else{let{notFoundMatches:Z,error:pe,route:ye}=Hr(k.pathname);return{matches:Z,pendingActionResult:[ye.id,{type:Pe.error,error:pe}]}}}let W,ee=ds(b,k);if(!ee.route.action&&!ee.route.lazy)W={type:Pe.error,error:Lt(405,{method:C.method,pathname:k.pathname,routeId:ee.route.id})};else if(W=(await Qe("action",p,C,[ee],b,null))[ee.route.id],C.signal.aborted)return{shortCircuited:!0};if(li(W)){let X;return te&&te.replace!=null?X=te.replace:X=Sm(W.response.headers.get("Location"),new URL(C.url),u)===p.location.pathname+p.location.search,await Fe(C,W,!0,{submission:L,replace:X}),{shortCircuited:!0}}if(_r(W))throw Lt(400,{type:"defer-action"});if(Gt(W)){let X=Xi(b,ee.route.id);return(te&&te.replace)!==!0&&(v=qe.Push),{matches:b,pendingActionResult:[X.route.id,W]}}return{matches:b,pendingActionResult:[ee.route.id,W]}}async function Oo(C,k,L,b,q,te,ie,W,ee,X,Z){let pe=q||Pc(k,te),ye=te||ie||km(pe),Ae=!Et&&(!m.v7_partialHydration||!ee);if(b){if(Ae){let ke=Fo(Z);rt(Ue({navigation:pe},ke!==void 0?{actionData:ke}:{}),{flushSync:X})}let ae=await Kr(L,k.pathname,C.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let{boundaryId:ke,error:St}=rn(k.pathname,ae);return{matches:ae.partialMatches,loaderData:{},errors:{[ke]:St}}}else if(ae.matches)L=ae.matches;else{let{error:ke,notFoundMatches:St,route:Ve}=Hr(k.pathname);return{matches:St,loaderData:{},errors:{[Ve.id]:ke}}}}let de=l||s,[Ze,Ne]=wm(t.history,p,L,ye,k,m.v7_partialHydration&&ee===!0,m.v7_skipActionErrorRevalidation,Wt,bt,Q,nt,wt,Se,de,u,Z);if(xi(ae=>!(L&&L.some(ke=>ke.route.id===ae))||Ze&&Ze.some(ke=>ke.route.id===ae)),Ie=++oe,Ze.length===0&&Ne.length===0){let ae=Ia();return An(k,Ue({matches:L,loaderData:{},errors:Z&&Gt(Z[1])?{[Z[0]]:Z[1].error}:null},Am(Z),ae?{fetchers:new Map(p.fetchers)}:{}),{flushSync:X}),{shortCircuited:!0}}if(Ae){let ae={};if(!b){ae.navigation=pe;let ke=Fo(Z);ke!==void 0&&(ae.actionData=ke)}Ne.length>0&&(ae.fetchers=Qu(Ne)),rt(ae,{flushSync:X})}Ne.forEach(ae=>{G.has(ae.key)&&nn(ae.key),ae.controller&&G.set(ae.key,ae.controller)});let ar=()=>Ne.forEach(ae=>nn(ae.key));R&&R.signal.addEventListener("abort",ar);let{loaderResults:Kt,fetcherResults:on}=await zr(p,L,Ze,Ne,C);if(C.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",ar),Ne.forEach(ae=>G.delete(ae.key));let Tt=nl(Kt);if(Tt)return await Fe(C,Tt.result,!0,{replace:W}),{shortCircuited:!0};if(Tt=nl(on),Tt)return Se.add(Tt.key),await Fe(C,Tt.result,!0,{replace:W}),{shortCircuited:!0};let{loaderData:lr,errors:mn}=Rm(p,L,Ze,Kt,Z,Ne,on,ht);ht.forEach((ae,ke)=>{ae.subscribe(St=>{(St||ae.done)&&ht.delete(ke)})}),m.v7_partialHydration&&ee&&p.errors&&Object.entries(p.errors).filter(ae=>{let[ke]=ae;return!Ze.some(St=>St.route.id===ke)}).forEach(ae=>{let[ke,St]=ae;mn=Object.assign(mn||{},{[ke]:St})});let qr=Ia(),Gr=Ai(Ie),Yr=qr||Gr||Ne.length>0;return Ue({matches:L,loaderData:lr,errors:mn},Yr?{fetchers:new Map(p.fetchers)}:{})}function Fo(C){if(C&&!Gt(C[1]))return{[C[0]]:C[1].data};if(p.actionData)return Object.keys(p.actionData).length===0?null:p.actionData}function Qu(C){return C.forEach(k=>{let L=p.fetchers.get(k.key),b=os(void 0,L?L.data:void 0);p.fetchers.set(k.key,b)}),new Map(p.fetchers)}function jo(C,k,L,b){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");G.has(C)&&nn(C);let q=(b&&b.unstable_flushSync)===!0,te=l||s,ie=kh(p.location,p.matches,u,m.v7_prependBasename,L,m.v7_relativeSplatPath,k,b==null?void 0:b.relative),W=ii(te,ie,u),ee=Je(W,te,ie);if(ee.active&&ee.matches&&(W=ee.matches),!W){pn(C,k,Lt(404,{pathname:ie}),{flushSync:q});return}let{path:X,submission:Z,error:pe}=Em(m.v7_normalizeFormMethod,!0,ie,b);if(pe){pn(C,k,pe,{flushSync:q});return}let ye=ds(W,X);if(w=(b&&b.preventScrollReset)===!0,Z&&wn(Z.formMethod)){bo(C,k,X,ye,W,ee.active,q,Z);return}wt.set(C,{routeId:k,path:X}),wa(C,k,X,ye,W,ee.active,q,Z)}async function bo(C,k,L,b,q,te,ie,W){Ci(),wt.delete(C);function ee(Ve){if(!Ve.route.action&&!Ve.route.lazy){let gn=Lt(405,{method:W.formMethod,pathname:L,routeId:k});return pn(C,k,gn,{flushSync:ie}),!0}return!1}if(!te&&ee(b))return;let X=p.fetchers.get(C);fn(C,PT(W,X),{flushSync:ie});let Z=new AbortController,pe=Mi(t.history,L,Z.signal,W);if(te){let Ve=await Kr(q,L,pe.signal);if(Ve.type==="aborted")return;if(Ve.type==="error"){let{error:gn}=rn(L,Ve);pn(C,k,gn,{flushSync:ie});return}else if(Ve.matches){if(q=Ve.matches,b=ds(q,L),ee(b))return}else{pn(C,k,Lt(404,{pathname:L}),{flushSync:ie});return}}G.set(C,Z);let ye=oe,de=(await Qe("action",p,pe,[b],q,C))[b.route.id];if(pe.signal.aborted){G.get(C)===Z&&G.delete(C);return}if(m.v7_fetcherPersist&&nt.has(C)){if(li(de)||Gt(de)){fn(C,dr(void 0));return}}else{if(li(de))if(G.delete(C),Ie>ye){fn(C,dr(void 0));return}else return Se.add(C),fn(C,os(W)),Fe(pe,de,!1,{fetcherSubmission:W});if(Gt(de)){pn(C,k,de.error);return}}if(_r(de))throw Lt(400,{type:"defer-action"});let Ze=p.navigation.location||p.location,Ne=Mi(t.history,Ze,Z.signal),ar=l||s,Kt=p.navigation.state!=="idle"?ii(ar,p.navigation.location,u):p.matches;ce(Kt,"Didn't find any matches after fetcher action");let on=++oe;me.set(C,on);let Tt=os(W,de.data);p.fetchers.set(C,Tt);let[lr,mn]=wm(t.history,p,Kt,W,Ze,!1,m.v7_skipActionErrorRevalidation,Wt,bt,Q,nt,wt,Se,ar,u,[b.route.id,de]);mn.filter(Ve=>Ve.key!==C).forEach(Ve=>{let gn=Ve.key,Ca=p.fetchers.get(gn),Aa=os(void 0,Ca?Ca.data:void 0);p.fetchers.set(gn,Aa),G.has(gn)&&nn(gn),Ve.controller&&G.set(gn,Ve.controller)}),rt({fetchers:new Map(p.fetchers)});let qr=()=>mn.forEach(Ve=>nn(Ve.key));Z.signal.addEventListener("abort",qr);let{loaderResults:Gr,fetcherResults:Yr}=await zr(p,Kt,lr,mn,Ne);if(Z.signal.aborted)return;Z.signal.removeEventListener("abort",qr),me.delete(C),G.delete(C),mn.forEach(Ve=>G.delete(Ve.key));let ae=nl(Gr);if(ae)return Fe(Ne,ae.result,!1);if(ae=nl(Yr),ae)return Se.add(ae.key),Fe(Ne,ae.result,!1);let{loaderData:ke,errors:St}=Rm(p,Kt,lr,Gr,void 0,mn,Yr,ht);if(p.fetchers.has(C)){let Ve=dr(de.data);p.fetchers.set(C,Ve)}Ai(on),p.navigation.state==="loading"&&on>Ie?(ce(v,"Expected pending action"),R&&R.abort(),An(p.navigation.location,{matches:Kt,loaderData:ke,errors:St,fetchers:new Map(p.fetchers)})):(rt({errors:St,loaderData:Cm(p.loaderData,ke,Kt,St),fetchers:new Map(p.fetchers)}),Wt=!1)}async function wa(C,k,L,b,q,te,ie,W){let ee=p.fetchers.get(C);fn(C,os(W,ee?ee.data:void 0),{flushSync:ie});let X=new AbortController,Z=Mi(t.history,L,X.signal);if(te){let de=await Kr(q,L,Z.signal);if(de.type==="aborted")return;if(de.type==="error"){let{error:Ze}=rn(L,de);pn(C,k,Ze,{flushSync:ie});return}else if(de.matches)q=de.matches,b=ds(q,L);else{pn(C,k,Lt(404,{pathname:L}),{flushSync:ie});return}}G.set(C,X);let pe=oe,Ae=(await Qe("loader",p,Z,[b],q,C))[b.route.id];if(_r(Ae)&&(Ae=await Yd(Ae,Z.signal,!0)||Ae),G.get(C)===X&&G.delete(C),!Z.signal.aborted){if(nt.has(C)){fn(C,dr(void 0));return}if(li(Ae))if(Ie>pe){fn(C,dr(void 0));return}else{Se.add(C),await Fe(Z,Ae,!1);return}if(Gt(Ae)){pn(C,k,Ae.error);return}ce(!_r(Ae),"Unhandled fetcher deferred data"),fn(C,dr(Ae.data))}}async function Fe(C,k,L,b){let{submission:q,fetcherSubmission:te,replace:ie}=b===void 0?{}:b;k.response.headers.has("X-Remix-Revalidate")&&(Wt=!0);let W=k.response.headers.get("Location");ce(W,"Expected a Location header on the redirect Response"),W=Sm(W,new URL(C.url),u);let ee=qs(p.location,W,{_isRedirect:!0});if(n){let de=!1;if(k.response.headers.has("X-Remix-Reload-Document"))de=!0;else if(Gd.test(W)){const Ze=t.history.createURL(W);de=Ze.origin!==e.location.origin||da(Ze.pathname,u)==null}if(de){ie?e.location.replace(W):e.location.assign(W);return}}R=null;let X=ie===!0||k.response.headers.has("X-Remix-Replace")?qe.Replace:qe.Push,{formMethod:Z,formAction:pe,formEncType:ye}=p.navigation;!q&&!te&&Z&&pe&&ye&&(q=km(p.navigation));let Ae=q||te;if(oT.has(k.response.status)&&Ae&&wn(Ae.formMethod))await Bn(X,ee,{submission:Ue({},Ae,{formAction:W}),preventScrollReset:w,enableViewTransition:L?x:void 0});else{let de=Pc(ee,q);await Bn(X,ee,{overrideNavigation:de,fetcherSubmission:te,preventScrollReset:w,enableViewTransition:L?x:void 0})}}async function Qe(C,k,L,b,q,te){let ie,W={};try{ie=await mT(h,C,k,L,b,q,te,o,i)}catch(ee){return b.forEach(X=>{W[X.route.id]={type:Pe.error,error:ee}}),W}for(let[ee,X]of Object.entries(ie))if(TT(X)){let Z=X.result;W[ee]={type:Pe.redirect,response:vT(Z,L,ee,q,u,m.v7_relativeSplatPath)}}else W[ee]=await yT(X);return W}async function zr(C,k,L,b,q){let te=C.matches,ie=Qe("loader",C,q,L,k,null),W=Promise.all(b.map(async Z=>{if(Z.matches&&Z.match&&Z.controller){let ye=(await Qe("loader",C,Mi(t.history,Z.path,Z.controller.signal),[Z.match],Z.matches,Z.key))[Z.match.route.id];return{[Z.key]:ye}}else return Promise.resolve({[Z.key]:{type:Pe.error,error:Lt(404,{pathname:Z.path})}})})),ee=await ie,X=(await W).reduce((Z,pe)=>Object.assign(Z,pe),{});return await Promise.all([RT(k,ee,q.signal,te,C.loaderData),CT(k,X,b)]),{loaderResults:ee,fetcherResults:X}}function Ci(){Wt=!0,bt.push(...xi()),wt.forEach((C,k)=>{G.has(k)&&(Q.add(k),nn(k))})}function fn(C,k,L){L===void 0&&(L={}),p.fetchers.set(C,k),rt({fetchers:new Map(p.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function pn(C,k,L,b){b===void 0&&(b={});let q=Xi(p.matches,k);$r(C),rt({errors:{[q.route.id]:L},fetchers:new Map(p.fetchers)},{flushSync:(b&&b.flushSync)===!0})}function or(C){return m.v7_fetcherPersist&&(Vt.set(C,(Vt.get(C)||0)+1),nt.has(C)&&nt.delete(C)),p.fetchers.get(C)||sT}function $r(C){let k=p.fetchers.get(C);G.has(C)&&!(k&&k.state==="loading"&&me.has(C))&&nn(C),wt.delete(C),me.delete(C),Se.delete(C),nt.delete(C),Q.delete(C),p.fetchers.delete(C)}function Ta(C){if(m.v7_fetcherPersist){let k=(Vt.get(C)||0)-1;k<=0?(Vt.delete(C),nt.add(C)):Vt.set(C,k)}else $r(C);rt({fetchers:new Map(p.fetchers)})}function nn(C){let k=G.get(C);ce(k,"Expected fetch controller: "+C),k.abort(),G.delete(C)}function Sa(C){for(let k of C){let L=or(k),b=dr(L.data);p.fetchers.set(k,b)}}function Ia(){let C=[],k=!1;for(let L of Se){let b=p.fetchers.get(L);ce(b,"Expected fetcher: "+L),b.state==="loading"&&(Se.delete(L),C.push(L),k=!0)}return Sa(C),k}function Ai(C){let k=[];for(let[L,b]of me)if(b<C){let q=p.fetchers.get(L);ce(q,"Expected fetcher: "+L),q.state==="loading"&&(nn(L),me.delete(L),k.push(L))}return Sa(k),k.length>0}function Ra(C,k){let L=p.blockers.get(C)||is;return bn.get(C)!==k&&bn.set(C,k),L}function Uo(C){p.blockers.delete(C),bn.delete(C)}function Pn(C,k){let L=p.blockers.get(C)||is;ce(L.state==="unblocked"&&k.state==="blocked"||L.state==="blocked"&&k.state==="blocked"||L.state==="blocked"&&k.state==="proceeding"||L.state==="blocked"&&k.state==="unblocked"||L.state==="proceeding"&&k.state==="unblocked","Invalid blocker state transition: "+L.state+" -> "+k.state);let b=new Map(p.blockers);b.set(C,k),rt({blockers:b})}function Pi(C){let{currentLocation:k,nextLocation:L,historyAction:b}=C;if(bn.size===0)return;bn.size>1&&po(!1,"A router only supports one blocker at a time");let q=Array.from(bn.entries()),[te,ie]=q[q.length-1],W=p.blockers.get(te);if(!(W&&W.state==="proceeding")&&ie({currentLocation:k,nextLocation:L,historyAction:b}))return te}function Hr(C){let k=Lt(404,{pathname:C}),L=l||s,{matches:b,route:q}=Pm(L);return xi(),{notFoundMatches:b,route:q,error:k}}function rn(C,k){return{boundaryId:Xi(k.partialMatches).route.id,error:Lt(400,{type:"route-discovery",pathname:C,message:k.error!=null&&"message"in k.error?k.error:String(k.error)})}}function xi(C){let k=[];return ht.forEach((L,b)=>{(!C||C(b))&&(L.cancel(),k.push(b),ht.delete(b))}),k}function ki(C,k,L){if(N=C,_=k,S=L||null,!A&&p.navigation===Ac){A=!0;let b=zo(p.location,p.matches);b!=null&&rt({restoreScrollPosition:b})}return()=>{N=null,_=null,S=null}}function Bo(C,k){return S&&S(C,k.map(b=>F1(b,p.loaderData)))||C.key}function Wr(C,k){if(N&&_){let L=Bo(C,k);N[L]=_()}}function zo(C,k){if(N){let L=Bo(C,k),b=N[L];if(typeof b=="number")return b}return null}function Je(C,k,L){if(f){if(D.has(L))return{active:!1,matches:C};if(C){if(Object.keys(C[0].params).length>0)return{active:!0,matches:El(k,L,u,!0)}}else return{active:!0,matches:El(k,L,u,!0)||[]}}return{active:!1,matches:null}}async function Kr(C,k,L){let b=C;for(;;){let q=l==null,te=l||s;try{await dT(f,k,b,te,o,i,Wu,L)}catch(ee){return{type:"error",error:ee,partialMatches:b}}finally{q&&(s=[...s])}if(L.aborted)return{type:"aborted"};let ie=ii(te,k,u);if(ie)return sr(k,D),{type:"success",matches:ie};let W=El(te,k,u,!0);if(!W||b.length===W.length&&b.every((ee,X)=>ee.route.id===W[X].route.id))return sr(k,D),{type:"success",matches:null};b=W}}function sr(C,k){if(k.size>=P){let L=k.values().next().value;k.delete(L)}k.add(C)}function Qr(C){o={},l=Gs(C,i,void 0,o)}function qu(C,k){let L=l==null;Jv(C,k,l||s,o,i),L&&(s=[...s],rt({}))}return T={get basename(){return u},get future(){return m},get state(){return p},get routes(){return s},get window(){return e},initialize:Ri,subscribe:Lo,enableScrollRestoration:ki,navigate:Mo,fetch:jo,revalidate:Ku,createHref:C=>t.history.createHref(C),encodeLocation:C=>t.history.encodeLocation(C),getFetcher:or,deleteFetcher:Ta,dispose:Vo,getBlocker:Ra,deleteBlocker:Uo,patchRoutes:qu,_internalFetchControllers:G,_internalActiveDeferreds:ht,_internalSetRoutes:Qr},T}function uT(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function kh(t,e,n,r,i,o,s,l){let u,h;if(s){u=[];for(let m of e)if(u.push(m),m.route.id===s){h=m;break}}else u=e,h=e[e.length-1];let f=qv(i||".",Qv(u,o),da(t.pathname,n)||t.pathname,l==="path");return i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&h&&h.route.index&&!Xd(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:xr([n,f.pathname])),ha(f)}function Em(t,e,n,r){if(!r||!uT(r))return{path:n};if(r.formMethod&&!IT(r.formMethod))return{path:n,error:Lt(405,{method:r.formMethod})};let i=()=>({path:n,error:Lt(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),l=Zv(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!wn(s))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((E,P)=>{let[D,N]=P;return""+E+D+"="+N+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!wn(s))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}ce(typeof FormData=="function","FormData is not available in this environment");let u,h;if(r.formData)u=Dh(r.formData),h=r.formData;else if(r.body instanceof FormData)u=Dh(r.body),h=r.body;else if(r.body instanceof URLSearchParams)u=r.body,h=Im(u);else if(r.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(r.body),h=Im(u)}catch{return i()}let f={formMethod:s,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(wn(f.formMethod))return{path:n,submission:f};let m=ir(n);return e&&m.search&&Xd(m.search)&&u.append("index",""),m.search="?"+u,{path:ha(m),submission:f}}function cT(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function wm(t,e,n,r,i,o,s,l,u,h,f,m,g,E,P,D){let N=D?Gt(D[1])?D[1].error:D[1].data:void 0,S=t.createURL(e.location),_=t.createURL(i),A=D&&Gt(D[1])?D[0]:void 0,M=A?cT(n,A):n,z=D?D[1].statusCode:void 0,H=s&&z&&z>=400,T=M.filter((v,w)=>{let{route:R}=v;if(R.lazy)return!0;if(R.loader==null)return!1;if(o)return typeof R.loader!="function"||R.loader.hydrate?!0:e.loaderData[R.id]===void 0&&(!e.errors||e.errors[R.id]===void 0);if(hT(e.loaderData,e.matches[w],v)||u.some(Ee=>Ee===v.route.id))return!0;let x=e.matches[w],I=v;return Tm(v,Ue({currentUrl:S,currentParams:x.params,nextUrl:_,nextParams:I.params},r,{actionResult:N,actionStatus:z,defaultShouldRevalidate:H?!1:l||S.pathname+S.search===_.pathname+_.search||S.search!==_.search||Xv(x,I)}))}),p=[];return m.forEach((v,w)=>{if(o||!n.some(Et=>Et.route.id===v.routeId)||f.has(w))return;let R=ii(E,v.path,P);if(!R){p.push({key:w,routeId:v.routeId,path:v.path,matches:null,match:null,controller:null});return}let x=e.fetchers.get(w),I=ds(R,v.path),Ee=!1;g.has(w)?Ee=!1:h.has(w)?(h.delete(w),Ee=!0):x&&x.state!=="idle"&&x.data===void 0?Ee=l:Ee=Tm(I,Ue({currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:N,actionStatus:z,defaultShouldRevalidate:H?!1:l})),Ee&&p.push({key:w,routeId:v.routeId,path:v.path,matches:R,match:I,controller:new AbortController})}),[T,p]}function hT(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Xv(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Tm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function dT(t,e,n,r,i,o,s,l){let u=[e,...n.map(h=>h.route.id)].join("-");try{let h=s.get(u);h||(h=t({path:e,matches:n,patch:(f,m)=>{l.aborted||Jv(f,m,r,i,o)}}),s.set(u,h)),h&&wT(h)&&await h}finally{s.delete(u)}}function Jv(t,e,n,r,i){if(t){var o;let s=r[t];ce(s,"No route found to patch children into: routeId = "+t);let l=Gs(e,i,[t,"patch",String(((o=s.children)==null?void 0:o.length)||"0")],r);s.children?s.children.push(...l):s.children=l}else{let s=Gs(e,i,["patch",String(n.length||"0")],r);n.push(...s)}}async function fT(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ce(i,"No route found in manifest");let o={};for(let s in r){let u=i[s]!==void 0&&s!=="hasErrorBoundary";po(!u,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!u&&!M1.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Ue({},e(i),{lazy:void 0}))}async function pT(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function mT(t,e,n,r,i,o,s,l,u,h){let f=o.map(E=>E.route.lazy?fT(E.route,u,l):void 0),m=o.map((E,P)=>{let D=f[P],N=i.some(_=>_.route.id===E.route.id);return Ue({},E,{shouldLoad:N,resolve:async _=>(_&&r.method==="GET"&&(E.route.lazy||E.route.loader)&&(N=!0),N?gT(e,r,E,D,_,h):Promise.resolve({type:Pe.data,result:void 0}))})}),g=await t({matches:m,request:r,params:o[0].params,fetcherKey:s,context:h});try{await Promise.all(f)}catch{}return g}async function gT(t,e,n,r,i,o){let s,l,u=h=>{let f,m=new Promise((P,D)=>f=D);l=()=>f(),e.signal.addEventListener("abort",l);let g=P=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):h({request:e,params:n.params,context:o},...P!==void 0?[P]:[]),E=(async()=>{try{return{type:"data",result:await(i?i(D=>g(D)):g())}}catch(P){return{type:"error",result:P}}})();return Promise.race([E,m])};try{let h=n.route[t];if(r)if(h){let f,[m]=await Promise.all([u(h).catch(g=>{f=g}),r]);if(f!==void 0)throw f;s=m}else if(await r,h=n.route[t],h)s=await u(h);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw Lt(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Pe.data,result:void 0};else if(h)s=await u(h);else{let f=new URL(e.url),m=f.pathname+f.search;throw Lt(404,{pathname:m})}ce(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:Pe.error,result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return s}async function yT(t){let{result:e,type:n}=t;if(e_(e)){let h;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(f){return{type:Pe.error,error:f}}return n===Pe.error?{type:Pe.error,error:new Yl(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:Pe.data,data:h,statusCode:e.status,headers:e.headers}}if(n===Pe.error){if(xm(e)){var r;if(e.data instanceof Error){var i;return{type:Pe.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Yl(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Pe.error,error:e,statusCode:Au(e)?e.status:void 0}}if(ST(e)){var o,s;return{type:Pe.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}if(xm(e)){var l,u;return{type:Pe.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Pe.data,data:e}}function vT(t,e,n,r,i,o){let s=t.headers.get("Location");if(ce(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Gd.test(s)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);s=kh(new URL(e.url),l,i,!0,s,o),t.headers.set("Location",s)}return t}function Sm(t,e,n){if(Gd.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=da(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Mi(t,e,n,r){let i=t.createURL(Zv(e)).toString(),o={signal:n};if(r&&wn(r.formMethod)){let{formMethod:s,formEncType:l}=r;o.method=s.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=Dh(r.formData):o.body=r.formData}return new Request(i,o)}function Dh(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Im(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function _T(t,e,n,r,i){let o={},s=null,l,u=!1,h={},f=n&&Gt(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,E=e[g];if(ce(!li(E),"Cannot handle redirect results in processLoaderData"),Gt(E)){let P=E.error;f!==void 0&&(P=f,f=void 0),s=s||{};{let D=Xi(t,g);s[D.route.id]==null&&(s[D.route.id]=P)}o[g]=void 0,u||(u=!0,l=Au(E.error)?E.error.status:500),E.headers&&(h[g]=E.headers)}else _r(E)?(r.set(g,E.deferredData),o[g]=E.deferredData.data,E.statusCode!=null&&E.statusCode!==200&&!u&&(l=E.statusCode),E.headers&&(h[g]=E.headers)):(o[g]=E.data,E.statusCode&&E.statusCode!==200&&!u&&(l=E.statusCode),E.headers&&(h[g]=E.headers))}),f!==void 0&&n&&(s={[n[0]]:f},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:h}}function Rm(t,e,n,r,i,o,s,l){let{loaderData:u,errors:h}=_T(e,r,i,l);return o.forEach(f=>{let{key:m,match:g,controller:E}=f,P=s[m];if(ce(P,"Did not find corresponding fetcher result"),!(E&&E.signal.aborted))if(Gt(P)){let D=Xi(t.matches,g==null?void 0:g.route.id);h&&h[D.route.id]||(h=Ue({},h,{[D.route.id]:P.error})),t.fetchers.delete(m)}else if(li(P))ce(!1,"Unhandled fetcher revalidation redirect");else if(_r(P))ce(!1,"Unhandled fetcher deferred data");else{let D=dr(P.data);t.fetchers.set(m,D)}}),{loaderData:u,errors:h}}function Cm(t,e,n,r){let i=Ue({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Am(t){return t?Gt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Xi(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Pm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Lt(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",o==="route-discovery"?u='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+s):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?u="defer() is not supported in actions":o==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new Yl(t||500,l,new Error(u),!0)}function nl(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(li(i))return{key:r,result:i}}}function Zv(t){let e=typeof t=="string"?ir(t):t;return ha(Ue({},e,{hash:""}))}function ET(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function wT(t){return typeof t=="object"&&t!=null&&"then"in t}function TT(t){return e_(t.result)&&iT.has(t.result.status)}function _r(t){return t.type===Pe.deferred}function Gt(t){return t.type===Pe.error}function li(t){return(t&&t.type)===Pe.redirect}function xm(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function ST(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function e_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function IT(t){return rT.has(t.toLowerCase())}function wn(t){return tT.has(t.toLowerCase())}async function RT(t,e,n,r,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[l,u]=o[s],h=t.find(g=>(g==null?void 0:g.route.id)===l);if(!h)continue;let f=r.find(g=>g.route.id===h.route.id),m=f!=null&&!Xv(f,h)&&(i&&i[h.route.id])!==void 0;_r(u)&&m&&await Yd(u,n,!1).then(g=>{g&&(e[l]=g)})}}async function CT(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],l=e[i];t.find(h=>(h==null?void 0:h.route.id)===o)&&_r(l)&&(ce(s,"Expected an AbortController for revalidating fetcher deferred result"),await Yd(l,s.signal,!0).then(h=>{h&&(e[i]=h)}))}}async function Yd(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Pe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Pe.error,error:i}}return{type:Pe.data,data:t.deferredData.data}}}function Xd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ds(t,e){let n=typeof e=="string"?ir(e).search:e.search;if(t[t.length-1].route.index&&Xd(n||""))return t[t.length-1];let r=Kv(t);return r[r.length-1]}function km(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Pc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function AT(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function os(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function PT(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function dr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function xT(t,e){try{let n=t.sessionStorage.getItem(Yv);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function kT(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Yv,JSON.stringify(n))}catch(r){po(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ys(){return Ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ys.apply(this,arguments)}const Pu=F.createContext(null),t_=F.createContext(null),xu=F.createContext(null),ku=F.createContext(null),Ro=F.createContext({outlet:null,matches:[],isDataRoute:!1}),n_=F.createContext(null);function Du(){return F.useContext(ku)!=null}function Jd(){return Du()||ce(!1),F.useContext(ku).location}function r_(t){F.useContext(xu).static||F.useLayoutEffect(t)}function Co(){let{isDataRoute:t}=F.useContext(Ro);return t?zT():DT()}function DT(){Du()||ce(!1);let t=F.useContext(Pu),{basename:e,future:n,navigator:r}=F.useContext(xu),{matches:i}=F.useContext(Ro),{pathname:o}=Jd(),s=JSON.stringify(Qv(i,n.v7_relativeSplatPath)),l=F.useRef(!1);return r_(()=>{l.current=!0}),F.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let m=qv(h,JSON.parse(s),o,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:xr([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,s,o,t])}function NT(t,e){return i_(t,e)}function i_(t,e,n,r){Du()||ce(!1);let{navigator:i}=F.useContext(xu),{matches:o}=F.useContext(Ro),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let h=Jd(),f;if(e){var m;let N=typeof e=="string"?ir(e):e;u==="/"||(m=N.pathname)!=null&&m.startsWith(u)||ce(!1),f=N}else f=h;let g=f.pathname||"/",E=g;if(u!=="/"){let N=u.replace(/^\//,"").split("/");E="/"+g.replace(/^\//,"").split("/").slice(N.length).join("/")}let P=ii(t,{pathname:E}),D=FT(P&&P.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:xr([u,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:xr([u,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),o,n,r);return e&&D?F.createElement(ku.Provider,{value:{location:Ys({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:qe.Pop}},D):D}function VT(){let t=BT(),e=Au(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,null)}const LT=F.createElement(VT,null);class MT extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(Ro.Provider,{value:this.props.routeContext},F.createElement(n_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OT(t){let{routeContext:e,match:n,children:r}=t,i=F.useContext(Pu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(Ro.Provider,{value:e},r)}function FT(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||ce(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:g,errors:E}=n,P=m.route.loader&&g[m.route.id]===void 0&&(!E||E[m.route.id]===void 0);if(m.route.lazy||P){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,m,g)=>{let E,P=!1,D=null,N=null;n&&(E=l&&m.route.id?l[m.route.id]:void 0,D=m.route.errorElement||LT,u&&(h<0&&g===0?($T("route-fallback"),P=!0,N=null):h===g&&(P=!0,N=m.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,g+1)),_=()=>{let A;return E?A=D:P?A=N:m.route.Component?A=F.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=f,F.createElement(OT,{match:m,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?F.createElement(MT,{location:n.location,revalidation:n.revalidation,component:D,error:E,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}var o_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(o_||{}),Xl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Xl||{});function jT(t){let e=F.useContext(Pu);return e||ce(!1),e}function bT(t){let e=F.useContext(t_);return e||ce(!1),e}function UT(t){let e=F.useContext(Ro);return e||ce(!1),e}function s_(t){let e=UT(),n=e.matches[e.matches.length-1];return n.route.id||ce(!1),n.route.id}function BT(){var t;let e=F.useContext(n_),n=bT(Xl.UseRouteError),r=s_(Xl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zT(){let{router:t}=jT(o_.UseNavigateStable),e=s_(Xl.UseNavigateStable),n=F.useRef(!1);return r_(()=>{n.current=!0}),F.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ys({fromRouteId:e},o)))},[t,e])}const Dm={};function $T(t,e,n){Dm[t]||(Dm[t]=!0)}function fs(t){ce(!1)}function HT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qe.Pop,navigator:o,static:s=!1,future:l}=t;Du()&&ce(!1);let u=e.replace(/^\/*/,"/"),h=F.useMemo(()=>({basename:u,navigator:o,static:s,future:Ys({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=ir(r));let{pathname:f="/",search:m="",hash:g="",state:E=null,key:P="default"}=r,D=F.useMemo(()=>{let N=da(f,u);return N==null?null:{location:{pathname:N,search:m,hash:g,state:E,key:P},navigationType:i}},[u,f,m,g,E,P,i]);return D==null?null:F.createElement(xu.Provider,{value:h},F.createElement(ku.Provider,{children:n,value:D}))}function WT(t){let{children:e,location:n}=t;return NT(Nh(e),n)}new Promise(()=>{});function Nh(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let o=[...e,i];if(r.type===F.Fragment){n.push.apply(n,Nh(r.props.children,o));return}r.type!==fs&&ce(!1),!r.props.index||!r.props.children||ce(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Nh(r.props.children,o)),n.push(s)}),n}function KT(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:F.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:F.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:F.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(this,arguments)}function Vh(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function QT(t,e){let n=Vh(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}const qT="6";try{window.__reactRouterVersion=qT}catch{}function GT(t,e){return lT({basename:void 0,future:Jl({},void 0,{v7_prependBasename:!0}),history:N1({window:void 0}),hydrationData:YT(),routes:t,mapRouteProperties:KT,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function YT(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Jl({},e,{errors:XT(e.errors)})),e}function XT(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Yl(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const JT=F.createContext({isTransitioning:!1}),ZT=F.createContext(new Map),eS="startTransition",Nm=_E[eS],tS="flushSync",Vm=D1[tS];function nS(t){Nm?Nm(t):t()}function ss(t){Vm?Vm(t):t()}let rS=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function iS(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=F.useState(n.state),[s,l]=F.useState(),[u,h]=F.useState({isTransitioning:!1}),[f,m]=F.useState(),[g,E]=F.useState(),[P,D]=F.useState(),N=F.useRef(new Map),{v7_startTransition:S}=r||{},_=F.useCallback(p=>{S?nS(p):p()},[S]),A=F.useCallback((p,v)=>{let{deletedFetchers:w,unstable_flushSync:R,unstable_viewTransitionOpts:x}=v;w.forEach(Ee=>N.current.delete(Ee)),p.fetchers.forEach((Ee,Et)=>{Ee.data!==void 0&&N.current.set(Et,Ee.data)});let I=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!x||I){R?ss(()=>o(p)):_(()=>o(p));return}if(R){ss(()=>{g&&(f&&f.resolve(),g.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:x.currentLocation,nextLocation:x.nextLocation})});let Ee=n.window.document.startViewTransition(()=>{ss(()=>o(p))});Ee.finished.finally(()=>{ss(()=>{m(void 0),E(void 0),l(void 0),h({isTransitioning:!1})})}),ss(()=>E(Ee));return}g?(f&&f.resolve(),g.skipTransition(),D({state:p,currentLocation:x.currentLocation,nextLocation:x.nextLocation})):(l(p),h({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}))},[n.window,g,f,N,_]);F.useLayoutEffect(()=>n.subscribe(A),[n,A]),F.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new rS)},[u]),F.useEffect(()=>{if(f&&s&&n.window){let p=s,v=f.promise,w=n.window.document.startViewTransition(async()=>{_(()=>o(p)),await v});w.finished.finally(()=>{m(void 0),E(void 0),l(void 0),h({isTransitioning:!1})}),E(w)}},[_,s,f,n.window]),F.useEffect(()=>{f&&s&&i.location.key===s.location.key&&f.resolve()},[f,g,i.location,s]),F.useEffect(()=>{!u.isTransitioning&&P&&(l(P.state),h({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}),D(void 0))},[u.isTransitioning,P]),F.useEffect(()=>{},[]);let M=F.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:p=>n.navigate(p),push:(p,v,w)=>n.navigate(p,{state:v,preventScrollReset:w==null?void 0:w.preventScrollReset}),replace:(p,v,w)=>n.navigate(p,{replace:!0,state:v,preventScrollReset:w==null?void 0:w.preventScrollReset})}),[n]),z=n.basename||"/",H=F.useMemo(()=>({router:n,navigator:M,static:!1,basename:z}),[n,M,z]),T=F.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return F.createElement(F.Fragment,null,F.createElement(Pu.Provider,{value:H},F.createElement(t_.Provider,{value:i},F.createElement(ZT.Provider,{value:N.current},F.createElement(JT.Provider,{value:u},F.createElement(HT,{basename:z,location:i.location,navigationType:i.historyAction,navigator:M,future:T},i.initialized||n.future.v7_partialHydration?F.createElement(oS,{routes:n.routes,future:n.future,state:i}):e))))),null)}const oS=F.memo(sS);function sS(t){let{routes:e,future:n,state:r}=t;return i_(e,void 0,r,n)}var Lm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Lm||(Lm={}));var Mm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Mm||(Mm={}));function a_(t){let e=F.useRef(Vh(t)),n=F.useRef(!1),r=Jd(),i=F.useMemo(()=>QT(r.search,n.current?null:e.current),[r.search]),o=Co(),s=F.useCallback((l,u)=>{const h=Vh(typeof l=="function"?l(i):l);n.current=!0,o("?"+h,u)},[o,i]);return[i,s]}var Om={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},aS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},u_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=o>>2,m=(o&3)<<4|l>>4;let g=(l&15)<<2|h>>6,E=h&63;u||(E=64,s||(g=64)),r.push(n[f],n[m],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||h==null||m==null)throw new lS;const g=o<<2|l>>4;if(r.push(g),h!==64){const E=l<<4&240|h>>2;if(r.push(E),m!==64){const P=h<<6&192|m;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uS=function(t){const e=l_(t);return u_.encodeByteArray(e,!0)},Zl=function(t){return uS(t).replace(/\./g,"")},cS=function(t){try{return u_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=()=>hS().__FIREBASE_DEFAULTS__,fS=()=>{if(typeof process>"u"||typeof Om>"u")return;const t=Om.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cS(t[1]);return e&&JSON.parse(e)},Zd=()=>{try{return dS()||fS()||pS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mS=t=>{var e,n;return(n=(e=Zd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gS=t=>{const e=mS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},c_=()=>{var t;return(t=Zd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zl(JSON.stringify(n)),Zl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ES(){var t;const e=(t=Zd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wS(){return!ES()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TS(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="FirebaseError";class Ao extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IS,Object.setPrototypeOf(this,Ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h_.prototype.create)}}class h_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?RS(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Ao(i,l,r)}}function RS(t,e){return t.replace(CS,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const CS=/\{\$([^}]+)}/g;function Lh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Fm(o)&&Fm(s)){if(!Lh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t){return t&&t._delegate?t._delegate:t}class Js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xS(e))try{this.getOrInitializeService({instanceIdentifier:ti})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ti){return this.instances.has(e)}getOptions(e=ti){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ti){return this.component?this.component.multipleInstances?e:ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PS(t){return t===ti?void 0:t}function xS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const DS={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},NS=ve.INFO,VS={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},LS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VS[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d_{constructor(e){this.name=e,this._logLevel=NS,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const MS=(t,e)=>e.some(n=>t instanceof n);let jm,bm;function OS(){return jm||(jm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FS(){return bm||(bm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f_=new WeakMap,Mh=new WeakMap,p_=new WeakMap,xc=new WeakMap,ef=new WeakMap;function jS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(kr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&f_.set(n,t)}).catch(()=>{}),ef.set(e,t),e}function bS(t){if(Mh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Mh.set(t,e)}let Oh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||p_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function US(t){Oh=t(Oh)}function BS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kc(this),e,...n);return p_.set(r,e.sort?e.sort():[e]),kr(r)}:FS().includes(t)?function(...e){return t.apply(kc(this),e),kr(f_.get(this))}:function(...e){return kr(t.apply(kc(this),e))}}function zS(t){return typeof t=="function"?BS(t):(t instanceof IDBTransaction&&bS(t),MS(t,OS())?new Proxy(t,Oh):t)}function kr(t){if(t instanceof IDBRequest)return jS(t);if(xc.has(t))return xc.get(t);const e=zS(t);return e!==t&&(xc.set(t,e),ef.set(e,t)),e}const kc=t=>ef.get(t);function $S(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=kr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(kr(s.result),u.oldVersion,u.newVersion,kr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const HS=["get","getKey","getAll","getAllKeys","count"],WS=["put","add","delete","clear"],Dc=new Map;function Um(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dc.get(e))return Dc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=WS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HS.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return Dc.set(e,o),o}US(t=>({...t,get:(e,n,r)=>Um(e,n)||t.get(e,n,r),has:(e,n)=>!!Um(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fh="@firebase/app",Bm="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new d_("@firebase/app"),qS="@firebase/app-compat",GS="@firebase/analytics-compat",YS="@firebase/analytics",XS="@firebase/app-check-compat",JS="@firebase/app-check",ZS="@firebase/auth",eI="@firebase/auth-compat",tI="@firebase/database",nI="@firebase/data-connect",rI="@firebase/database-compat",iI="@firebase/functions",oI="@firebase/functions-compat",sI="@firebase/installations",aI="@firebase/installations-compat",lI="@firebase/messaging",uI="@firebase/messaging-compat",cI="@firebase/performance",hI="@firebase/performance-compat",dI="@firebase/remote-config",fI="@firebase/remote-config-compat",pI="@firebase/storage",mI="@firebase/storage-compat",gI="@firebase/firestore",yI="@firebase/vertexai-preview",vI="@firebase/firestore-compat",_I="firebase",EI="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="[DEFAULT]",wI={[Fh]:"fire-core",[qS]:"fire-core-compat",[YS]:"fire-analytics",[GS]:"fire-analytics-compat",[JS]:"fire-app-check",[XS]:"fire-app-check-compat",[ZS]:"fire-auth",[eI]:"fire-auth-compat",[tI]:"fire-rtdb",[nI]:"fire-data-connect",[rI]:"fire-rtdb-compat",[iI]:"fire-fn",[oI]:"fire-fn-compat",[sI]:"fire-iid",[aI]:"fire-iid-compat",[lI]:"fire-fcm",[uI]:"fire-fcm-compat",[cI]:"fire-perf",[hI]:"fire-perf-compat",[dI]:"fire-rc",[fI]:"fire-rc-compat",[pI]:"fire-gcs",[mI]:"fire-gcs-compat",[gI]:"fire-fst",[vI]:"fire-fst-compat",[yI]:"fire-vertex","fire-js":"fire-js",[_I]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new Map,TI=new Map,bh=new Map;function zm(t,e){try{t.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tu(t){const e=t.name;if(bh.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;bh.set(e,t);for(const n of eu.values())zm(n,t);for(const n of TI.values())zm(n,t);return!0}function SI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new h_("app","Firebase",II);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=EI;function m_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=c_()),!n)throw Dr.create("no-options");const o=eu.get(i);if(o){if(Lh(n,o.options)&&Lh(r,o.config))return o;throw Dr.create("duplicate-app",{appName:i})}const s=new kS(i);for(const u of bh.values())s.addComponent(u);const l=new RI(n,r,s);return eu.set(i,l),l}function AI(t=jh){const e=eu.get(t);if(!e&&t===jh&&c_())return m_();if(!e)throw Dr.create("no-app",{appName:t});return e}function io(t,e,n){var r;let i=(r=wI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(l.join(" "));return}tu(new Js(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="firebase-heartbeat-database",xI=1,Zs="firebase-heartbeat-store";let Nc=null;function g_(){return Nc||(Nc=$S(PI,xI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zs)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),Nc}async function kI(t){try{const n=(await g_()).transaction(Zs),r=await n.objectStore(Zs).get(y_(t));return await n.done,r}catch(e){if(e instanceof Ao)er.warn(e.message);else{const n=Dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});er.warn(n.message)}}}async function $m(t,e){try{const r=(await g_()).transaction(Zs,"readwrite");await r.objectStore(Zs).put(e,y_(t)),await r.done}catch(n){if(n instanceof Ao)er.warn(n.message);else{const r=Dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});er.warn(r.message)}}}function y_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=1024,NI=30*24*60*60*1e3;class VI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Hm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=NI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){er.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hm(),{heartbeatsToSend:r,unsentEntries:i}=LI(this._heartbeatsCache.heartbeats),o=Zl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return er.warn(n),""}}}function Hm(){return new Date().toISOString().substring(0,10)}function LI(t,e=DI){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Wm(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TS()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $m(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $m(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Wm(t){return Zl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){tu(new Js("platform-logger",e=>new KS(e),"PRIVATE")),tu(new Js("heartbeat",e=>new VI(e),"PRIVATE")),io(Fh,Bm,t),io(Fh,Bm,"esm2017"),io("fire-js","")}OI("");var Km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var di,v_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,p){function v(){}v.prototype=p.prototype,T.D=p.prototype,T.prototype=new v,T.prototype.constructor=T,T.C=function(w,R,x){for(var I=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)I[Ee-2]=arguments[Ee];return p.prototype[R].apply(w,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,p,v){v||(v=0);var w=Array(16);if(typeof p=="string")for(var R=0;16>R;++R)w[R]=p.charCodeAt(v++)|p.charCodeAt(v++)<<8|p.charCodeAt(v++)<<16|p.charCodeAt(v++)<<24;else for(R=0;16>R;++R)w[R]=p[v++]|p[v++]<<8|p[v++]<<16|p[v++]<<24;p=T.g[0],v=T.g[1],R=T.g[2];var x=T.g[3],I=p+(x^v&(R^x))+w[0]+3614090360&4294967295;p=v+(I<<7&4294967295|I>>>25),I=x+(R^p&(v^R))+w[1]+3905402710&4294967295,x=p+(I<<12&4294967295|I>>>20),I=R+(v^x&(p^v))+w[2]+606105819&4294967295,R=x+(I<<17&4294967295|I>>>15),I=v+(p^R&(x^p))+w[3]+3250441966&4294967295,v=R+(I<<22&4294967295|I>>>10),I=p+(x^v&(R^x))+w[4]+4118548399&4294967295,p=v+(I<<7&4294967295|I>>>25),I=x+(R^p&(v^R))+w[5]+1200080426&4294967295,x=p+(I<<12&4294967295|I>>>20),I=R+(v^x&(p^v))+w[6]+2821735955&4294967295,R=x+(I<<17&4294967295|I>>>15),I=v+(p^R&(x^p))+w[7]+4249261313&4294967295,v=R+(I<<22&4294967295|I>>>10),I=p+(x^v&(R^x))+w[8]+1770035416&4294967295,p=v+(I<<7&4294967295|I>>>25),I=x+(R^p&(v^R))+w[9]+2336552879&4294967295,x=p+(I<<12&4294967295|I>>>20),I=R+(v^x&(p^v))+w[10]+4294925233&4294967295,R=x+(I<<17&4294967295|I>>>15),I=v+(p^R&(x^p))+w[11]+2304563134&4294967295,v=R+(I<<22&4294967295|I>>>10),I=p+(x^v&(R^x))+w[12]+1804603682&4294967295,p=v+(I<<7&4294967295|I>>>25),I=x+(R^p&(v^R))+w[13]+4254626195&4294967295,x=p+(I<<12&4294967295|I>>>20),I=R+(v^x&(p^v))+w[14]+2792965006&4294967295,R=x+(I<<17&4294967295|I>>>15),I=v+(p^R&(x^p))+w[15]+1236535329&4294967295,v=R+(I<<22&4294967295|I>>>10),I=p+(R^x&(v^R))+w[1]+4129170786&4294967295,p=v+(I<<5&4294967295|I>>>27),I=x+(v^R&(p^v))+w[6]+3225465664&4294967295,x=p+(I<<9&4294967295|I>>>23),I=R+(p^v&(x^p))+w[11]+643717713&4294967295,R=x+(I<<14&4294967295|I>>>18),I=v+(x^p&(R^x))+w[0]+3921069994&4294967295,v=R+(I<<20&4294967295|I>>>12),I=p+(R^x&(v^R))+w[5]+3593408605&4294967295,p=v+(I<<5&4294967295|I>>>27),I=x+(v^R&(p^v))+w[10]+38016083&4294967295,x=p+(I<<9&4294967295|I>>>23),I=R+(p^v&(x^p))+w[15]+3634488961&4294967295,R=x+(I<<14&4294967295|I>>>18),I=v+(x^p&(R^x))+w[4]+3889429448&4294967295,v=R+(I<<20&4294967295|I>>>12),I=p+(R^x&(v^R))+w[9]+568446438&4294967295,p=v+(I<<5&4294967295|I>>>27),I=x+(v^R&(p^v))+w[14]+3275163606&4294967295,x=p+(I<<9&4294967295|I>>>23),I=R+(p^v&(x^p))+w[3]+4107603335&4294967295,R=x+(I<<14&4294967295|I>>>18),I=v+(x^p&(R^x))+w[8]+1163531501&4294967295,v=R+(I<<20&4294967295|I>>>12),I=p+(R^x&(v^R))+w[13]+2850285829&4294967295,p=v+(I<<5&4294967295|I>>>27),I=x+(v^R&(p^v))+w[2]+4243563512&4294967295,x=p+(I<<9&4294967295|I>>>23),I=R+(p^v&(x^p))+w[7]+1735328473&4294967295,R=x+(I<<14&4294967295|I>>>18),I=v+(x^p&(R^x))+w[12]+2368359562&4294967295,v=R+(I<<20&4294967295|I>>>12),I=p+(v^R^x)+w[5]+4294588738&4294967295,p=v+(I<<4&4294967295|I>>>28),I=x+(p^v^R)+w[8]+2272392833&4294967295,x=p+(I<<11&4294967295|I>>>21),I=R+(x^p^v)+w[11]+1839030562&4294967295,R=x+(I<<16&4294967295|I>>>16),I=v+(R^x^p)+w[14]+4259657740&4294967295,v=R+(I<<23&4294967295|I>>>9),I=p+(v^R^x)+w[1]+2763975236&4294967295,p=v+(I<<4&4294967295|I>>>28),I=x+(p^v^R)+w[4]+1272893353&4294967295,x=p+(I<<11&4294967295|I>>>21),I=R+(x^p^v)+w[7]+4139469664&4294967295,R=x+(I<<16&4294967295|I>>>16),I=v+(R^x^p)+w[10]+3200236656&4294967295,v=R+(I<<23&4294967295|I>>>9),I=p+(v^R^x)+w[13]+681279174&4294967295,p=v+(I<<4&4294967295|I>>>28),I=x+(p^v^R)+w[0]+3936430074&4294967295,x=p+(I<<11&4294967295|I>>>21),I=R+(x^p^v)+w[3]+3572445317&4294967295,R=x+(I<<16&4294967295|I>>>16),I=v+(R^x^p)+w[6]+76029189&4294967295,v=R+(I<<23&4294967295|I>>>9),I=p+(v^R^x)+w[9]+3654602809&4294967295,p=v+(I<<4&4294967295|I>>>28),I=x+(p^v^R)+w[12]+3873151461&4294967295,x=p+(I<<11&4294967295|I>>>21),I=R+(x^p^v)+w[15]+530742520&4294967295,R=x+(I<<16&4294967295|I>>>16),I=v+(R^x^p)+w[2]+3299628645&4294967295,v=R+(I<<23&4294967295|I>>>9),I=p+(R^(v|~x))+w[0]+4096336452&4294967295,p=v+(I<<6&4294967295|I>>>26),I=x+(v^(p|~R))+w[7]+1126891415&4294967295,x=p+(I<<10&4294967295|I>>>22),I=R+(p^(x|~v))+w[14]+2878612391&4294967295,R=x+(I<<15&4294967295|I>>>17),I=v+(x^(R|~p))+w[5]+4237533241&4294967295,v=R+(I<<21&4294967295|I>>>11),I=p+(R^(v|~x))+w[12]+1700485571&4294967295,p=v+(I<<6&4294967295|I>>>26),I=x+(v^(p|~R))+w[3]+2399980690&4294967295,x=p+(I<<10&4294967295|I>>>22),I=R+(p^(x|~v))+w[10]+4293915773&4294967295,R=x+(I<<15&4294967295|I>>>17),I=v+(x^(R|~p))+w[1]+2240044497&4294967295,v=R+(I<<21&4294967295|I>>>11),I=p+(R^(v|~x))+w[8]+1873313359&4294967295,p=v+(I<<6&4294967295|I>>>26),I=x+(v^(p|~R))+w[15]+4264355552&4294967295,x=p+(I<<10&4294967295|I>>>22),I=R+(p^(x|~v))+w[6]+2734768916&4294967295,R=x+(I<<15&4294967295|I>>>17),I=v+(x^(R|~p))+w[13]+1309151649&4294967295,v=R+(I<<21&4294967295|I>>>11),I=p+(R^(v|~x))+w[4]+4149444226&4294967295,p=v+(I<<6&4294967295|I>>>26),I=x+(v^(p|~R))+w[11]+3174756917&4294967295,x=p+(I<<10&4294967295|I>>>22),I=R+(p^(x|~v))+w[2]+718787259&4294967295,R=x+(I<<15&4294967295|I>>>17),I=v+(x^(R|~p))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+p&4294967295,T.g[1]=T.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+x&4294967295}r.prototype.u=function(T,p){p===void 0&&(p=T.length);for(var v=p-this.blockSize,w=this.B,R=this.h,x=0;x<p;){if(R==0)for(;x<=v;)i(this,T,x),x+=this.blockSize;if(typeof T=="string"){for(;x<p;)if(w[R++]=T.charCodeAt(x++),R==this.blockSize){i(this,w),R=0;break}}else for(;x<p;)if(w[R++]=T[x++],R==this.blockSize){i(this,w),R=0;break}}this.h=R,this.o+=p},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var p=1;p<T.length-8;++p)T[p]=0;var v=8*this.o;for(p=T.length-8;p<T.length;++p)T[p]=v&255,v/=256;for(this.u(T),T=Array(16),p=v=0;4>p;++p)for(var w=0;32>w;w+=8)T[v++]=this.g[p]>>>w&255;return T};function o(T,p){var v=l;return Object.prototype.hasOwnProperty.call(v,T)?v[T]:v[T]=p(T)}function s(T,p){this.h=p;for(var v=[],w=!0,R=T.length-1;0<=R;R--){var x=T[R]|0;w&&x==p||(v[R]=x,w=!1)}this.g=v}var l={};function u(T){return-128<=T&&128>T?o(T,function(p){return new s([p|0],0>p?-1:0)}):new s([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return N(h(-T));for(var p=[],v=1,w=0;T>=v;w++)p[w]=T/v|0,v*=4294967296;return new s(p,0)}function f(T,p){if(T.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(T.charAt(0)=="-")return N(f(T.substring(1),p));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=h(Math.pow(p,8)),w=m,R=0;R<T.length;R+=8){var x=Math.min(8,T.length-R),I=parseInt(T.substring(R,R+x),p);8>x?(x=h(Math.pow(p,x)),w=w.j(x).add(h(I))):(w=w.j(v),w=w.add(h(I)))}return w}var m=u(0),g=u(1),E=u(16777216);t=s.prototype,t.m=function(){if(D(this))return-N(this).m();for(var T=0,p=1,v=0;v<this.g.length;v++){var w=this.i(v);T+=(0<=w?w:4294967296+w)*p,p*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P(this))return"0";if(D(this))return"-"+N(this).toString(T);for(var p=h(Math.pow(T,6)),v=this,w="";;){var R=M(v,p).g;v=S(v,R.j(p));var x=((0<v.g.length?v.g[0]:v.h)>>>0).toString(T);if(v=R,P(v))return x+w;for(;6>x.length;)x="0"+x;w=x+w}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function P(T){if(T.h!=0)return!1;for(var p=0;p<T.g.length;p++)if(T.g[p]!=0)return!1;return!0}function D(T){return T.h==-1}t.l=function(T){return T=S(this,T),D(T)?-1:P(T)?0:1};function N(T){for(var p=T.g.length,v=[],w=0;w<p;w++)v[w]=~T.g[w];return new s(v,~T.h).add(g)}t.abs=function(){return D(this)?N(this):this},t.add=function(T){for(var p=Math.max(this.g.length,T.g.length),v=[],w=0,R=0;R<=p;R++){var x=w+(this.i(R)&65535)+(T.i(R)&65535),I=(x>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);w=I>>>16,x&=65535,I&=65535,v[R]=I<<16|x}return new s(v,v[v.length-1]&-2147483648?-1:0)};function S(T,p){return T.add(N(p))}t.j=function(T){if(P(this)||P(T))return m;if(D(this))return D(T)?N(this).j(N(T)):N(N(this).j(T));if(D(T))return N(this.j(N(T)));if(0>this.l(E)&&0>T.l(E))return h(this.m()*T.m());for(var p=this.g.length+T.g.length,v=[],w=0;w<2*p;w++)v[w]=0;for(w=0;w<this.g.length;w++)for(var R=0;R<T.g.length;R++){var x=this.i(w)>>>16,I=this.i(w)&65535,Ee=T.i(R)>>>16,Et=T.i(R)&65535;v[2*w+2*R]+=I*Et,_(v,2*w+2*R),v[2*w+2*R+1]+=x*Et,_(v,2*w+2*R+1),v[2*w+2*R+1]+=I*Ee,_(v,2*w+2*R+1),v[2*w+2*R+2]+=x*Ee,_(v,2*w+2*R+2)}for(w=0;w<p;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=p;w<2*p;w++)v[w]=0;return new s(v,0)};function _(T,p){for(;(T[p]&65535)!=T[p];)T[p+1]+=T[p]>>>16,T[p]&=65535,p++}function A(T,p){this.g=T,this.h=p}function M(T,p){if(P(p))throw Error("division by zero");if(P(T))return new A(m,m);if(D(T))return p=M(N(T),p),new A(N(p.g),N(p.h));if(D(p))return p=M(T,N(p)),new A(N(p.g),p.h);if(30<T.g.length){if(D(T)||D(p))throw Error("slowDivide_ only works with positive integers.");for(var v=g,w=p;0>=w.l(T);)v=z(v),w=z(w);var R=H(v,1),x=H(w,1);for(w=H(w,2),v=H(v,2);!P(w);){var I=x.add(w);0>=I.l(T)&&(R=R.add(v),x=I),w=H(w,1),v=H(v,1)}return p=S(T,R.j(p)),new A(R,p)}for(R=m;0<=T.l(p);){for(v=Math.max(1,Math.floor(T.m()/p.m())),w=Math.ceil(Math.log(v)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),x=h(v),I=x.j(p);D(I)||0<I.l(T);)v-=w,x=h(v),I=x.j(p);P(x)&&(x=g),R=R.add(x),T=S(T,I)}return new A(R,T)}t.A=function(T){return M(this,T).h},t.and=function(T){for(var p=Math.max(this.g.length,T.g.length),v=[],w=0;w<p;w++)v[w]=this.i(w)&T.i(w);return new s(v,this.h&T.h)},t.or=function(T){for(var p=Math.max(this.g.length,T.g.length),v=[],w=0;w<p;w++)v[w]=this.i(w)|T.i(w);return new s(v,this.h|T.h)},t.xor=function(T){for(var p=Math.max(this.g.length,T.g.length),v=[],w=0;w<p;w++)v[w]=this.i(w)^T.i(w);return new s(v,this.h^T.h)};function z(T){for(var p=T.g.length+1,v=[],w=0;w<p;w++)v[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(v,T.h)}function H(T,p){var v=p>>5;p%=32;for(var w=T.g.length-v,R=[],x=0;x<w;x++)R[x]=0<p?T.i(x+v)>>>p|T.i(x+v+1)<<32-p:T.i(x+v);return new s(R,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,v_=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=f,di=s}).apply(typeof Km<"u"?Km:typeof self<"u"?self:typeof window<"u"?window:{});var rl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var __,ps,E_,wl,Uh,w_,T_,S_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,c,d){return a==Array.prototype||a==Object.prototype||(a[c]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof rl=="object"&&rl];for(var c=0;c<a.length;++c){var d=a[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,c){if(c)e:{var d=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var V=a[y];if(!(V in d))break e;d=d[V]}a=a[a.length-1],y=d[a],c=c(y),c!=y&&c!=null&&e(d,a,{configurable:!0,writable:!0,value:c})}}function o(a,c){a instanceof String&&(a+="");var d=0,y=!1,V={next:function(){if(!y&&d<a.length){var O=d++;return{value:c(O,a[O]),done:!1}}return y=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return o(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var c=typeof a;return c=c!="object"?c:a?Array.isArray(a)?"array":c:"null",c=="array"||c=="object"&&typeof a.length=="number"}function h(a){var c=typeof a;return c=="object"&&a!=null||c=="function"}function f(a,c,d){return a.call.apply(a.bind,arguments)}function m(a,c,d){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,y),a.apply(c,V)}}return function(){return a.apply(c,arguments)}}function g(a,c,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function E(a,c){var d=Array.prototype.slice.call(arguments,1);return function(){var y=d.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function P(a,c){function d(){}d.prototype=c.prototype,a.aa=c.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(y,V,O){for(var K=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)K[xe-2]=arguments[xe];return c.prototype[V].apply(y,K)}}function D(a){const c=a.length;if(0<c){const d=Array(c);for(let y=0;y<c;y++)d[y]=a[y];return d}return[]}function N(a,c){for(let d=1;d<arguments.length;d++){const y=arguments[d];if(u(y)){const V=a.length||0,O=y.length||0;a.length=V+O;for(let K=0;K<O;K++)a[V+K]=y[K]}else a.push(y)}}class S{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function _(a){return/^[\s\xa0]*$/.test(a)}function A(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function M(a){return M[" "](a),a}M[" "]=function(){};var z=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function H(a,c,d){for(const y in a)c.call(d,a[y],y,a)}function T(a,c){for(const d in a)c.call(void 0,a[d],d,a)}function p(a){const c={};for(const d in a)c[d]=a[d];return c}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,c){let d,y;for(let V=1;V<arguments.length;V++){y=arguments[V];for(d in y)a[d]=y[d];for(let O=0;O<v.length;O++)d=v[O],Object.prototype.hasOwnProperty.call(y,d)&&(a[d]=y[d])}}function R(a){var c=1;a=a.split(":");const d=[];for(;0<c&&a.length;)d.push(a.shift()),c--;return a.length&&d.push(a.join(":")),d}function x(a){l.setTimeout(()=>{throw a},0)}function I(){var a=G;let c=null;return a.g&&(c=a.g,a.g=a.g.next,a.g||(a.h=null),c.next=null),c}class Ee{constructor(){this.h=this.g=null}add(c,d){const y=Et.get();y.set(c,d),this.h?this.h.next=y:this.g=y,this.h=y}}var Et=new S(()=>new Wt,a=>a.reset());class Wt{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let bt,Q=!1,G=new Ee,oe=()=>{const a=l.Promise.resolve(void 0);bt=()=>{a.then(Ie)}};var Ie=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(d){x(d)}var c=Et;c.j(a),100>c.h&&(c.h++,a.next=c.g,c.g=a)}Q=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(a,c){this.type=a,this.g=this.target=c,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var wt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,c=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,c),l.removeEventListener("test",d,c)}catch{}return a}();function Vt(a,c){if(Se.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=c,c=a.relatedTarget){if(z){e:{try{M(c.nodeName);var V=!0;break e}catch{}V=!1}V||(c=null)}}else d=="mouseover"?c=a.fromElement:d=="mouseout"&&(c=a.toElement);this.relatedTarget=c,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:nt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Vt.aa.h.call(this)}}P(Vt,Se);var nt={2:"touch",3:"pen",4:"mouse"};Vt.prototype.h=function(){Vt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),bn=0;function Wu(a,c,d,y,V){this.listener=a,this.proxy=null,this.src=c,this.type=d,this.capture=!!y,this.ha=V,this.key=++bn,this.da=this.fa=!1}function Un(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ri(a){this.src=a,this.g={},this.h=0}Ri.prototype.add=function(a,c,d,y,V){var O=a.toString();a=this.g[O],a||(a=this.g[O]=[],this.h++);var K=Lo(a,c,y,V);return-1<K?(c=a[K],d||(c.fa=!1)):(c=new Wu(c,this.src,O,!!y,V),c.fa=d,a.push(c)),c};function Vo(a,c){var d=c.type;if(d in a.g){var y=a.g[d],V=Array.prototype.indexOf.call(y,c,void 0),O;(O=0<=V)&&Array.prototype.splice.call(y,V,1),O&&(Un(c),a.g[d].length==0&&(delete a.g[d],a.h--))}}function Lo(a,c,d,y){for(var V=0;V<a.length;++V){var O=a[V];if(!O.da&&O.listener==c&&O.capture==!!d&&O.ha==y)return V}return-1}var rt="closure_lm_"+(1e6*Math.random()|0),An={};function Mo(a,c,d,y,V){if(Array.isArray(c)){for(var O=0;O<c.length;O++)Mo(a,c[O],d,y,V);return null}return d=wa(d),a&&a[ht]?a.K(c,d,h(y)?!!y.capture:!!y,V):Ku(a,c,d,!1,y,V)}function Ku(a,c,d,y,V,O){if(!c)throw Error("Invalid event type");var K=h(V)?!!V.capture:!!V,xe=jo(a);if(xe||(a[rt]=xe=new Ri(a)),d=xe.add(c,d,y,K,O),d.proxy)return d;if(y=Bn(),d.proxy=y,y.src=a,y.listener=d,a.addEventListener)wt||(V=K),V===void 0&&(V=!1),a.addEventListener(c.toString(),y,V);else if(a.attachEvent)a.attachEvent(Fo(c.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return d}function Bn(){function a(d){return c.call(a.src,a.listener,d)}const c=Qu;return a}function Ea(a,c,d,y,V){if(Array.isArray(c))for(var O=0;O<c.length;O++)Ea(a,c[O],d,y,V);else y=h(y)?!!y.capture:!!y,d=wa(d),a&&a[ht]?(a=a.i,c=String(c).toString(),c in a.g&&(O=a.g[c],d=Lo(O,d,y,V),-1<d&&(Un(O[d]),Array.prototype.splice.call(O,d,1),O.length==0&&(delete a.g[c],a.h--)))):a&&(a=jo(a))&&(c=a.g[c.toString()],a=-1,c&&(a=Lo(c,d,y,V)),(d=-1<a?c[a]:null)&&Oo(d))}function Oo(a){if(typeof a!="number"&&a&&!a.da){var c=a.src;if(c&&c[ht])Vo(c.i,a);else{var d=a.type,y=a.proxy;c.removeEventListener?c.removeEventListener(d,y,a.capture):c.detachEvent?c.detachEvent(Fo(d),y):c.addListener&&c.removeListener&&c.removeListener(y),(d=jo(c))?(Vo(d,a),d.h==0&&(d.src=null,c[rt]=null)):Un(a)}}}function Fo(a){return a in An?An[a]:An[a]="on"+a}function Qu(a,c){if(a.da)a=!0;else{c=new Vt(c,this);var d=a.listener,y=a.ha||a.src;a.fa&&Oo(a),a=d.call(y,c)}return a}function jo(a){return a=a[rt],a instanceof Ri?a:null}var bo="__closure_events_fn_"+(1e9*Math.random()>>>0);function wa(a){return typeof a=="function"?a:(a[bo]||(a[bo]=function(c){return a.handleEvent(c)}),a[bo])}function Fe(){me.call(this),this.i=new Ri(this),this.M=this,this.F=null}P(Fe,me),Fe.prototype[ht]=!0,Fe.prototype.removeEventListener=function(a,c,d,y){Ea(this,a,c,d,y)};function Qe(a,c){var d,y=a.F;if(y)for(d=[];y;y=y.F)d.push(y);if(a=a.M,y=c.type||c,typeof c=="string")c=new Se(c,a);else if(c instanceof Se)c.target=c.target||a;else{var V=c;c=new Se(y,a),w(c,V)}if(V=!0,d)for(var O=d.length-1;0<=O;O--){var K=c.g=d[O];V=zr(K,y,!0,c)&&V}if(K=c.g=a,V=zr(K,y,!0,c)&&V,V=zr(K,y,!1,c)&&V,d)for(O=0;O<d.length;O++)K=c.g=d[O],V=zr(K,y,!1,c)&&V}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var a=this.i,c;for(c in a.g){for(var d=a.g[c],y=0;y<d.length;y++)Un(d[y]);delete a.g[c],a.h--}}this.F=null},Fe.prototype.K=function(a,c,d,y){return this.i.add(String(a),c,!1,d,y)},Fe.prototype.L=function(a,c,d,y){return this.i.add(String(a),c,!0,d,y)};function zr(a,c,d,y){if(c=a.i.g[String(c)],!c)return!0;c=c.concat();for(var V=!0,O=0;O<c.length;++O){var K=c[O];if(K&&!K.da&&K.capture==d){var xe=K.listener,dt=K.ha||K.src;K.fa&&Vo(a.i,K),V=xe.call(dt,y)!==!1&&V}}return V&&!y.defaultPrevented}function Ci(a,c,d){if(typeof a=="function")d&&(a=g(a,d));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(a,c||0)}function fn(a){a.g=Ci(()=>{a.g=null,a.i&&(a.i=!1,fn(a))},a.l);const c=a.h;a.h=null,a.m.apply(null,c)}class pn extends me{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:fn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(a){me.call(this),this.h=a,this.g={}}P(or,me);var $r=[];function Ta(a){H(a.g,function(c,d){this.g.hasOwnProperty(d)&&Oo(c)},a),a.g={}}or.prototype.N=function(){or.aa.N.call(this),Ta(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nn=l.JSON.stringify,Sa=l.JSON.parse,Ia=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Ai(){}Ai.prototype.h=null;function Ra(a){return a.h||(a.h=a.i())}function Uo(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){Se.call(this,"d")}P(Pi,Se);function Hr(){Se.call(this,"c")}P(Hr,Se);var rn={},xi=null;function ki(){return xi=xi||new Fe}rn.La="serverreachability";function Bo(a){Se.call(this,rn.La,a)}P(Bo,Se);function Wr(a){const c=ki();Qe(c,new Bo(c))}rn.STAT_EVENT="statevent";function zo(a,c){Se.call(this,rn.STAT_EVENT,a),this.stat=c}P(zo,Se);function Je(a){const c=ki();Qe(c,new zo(c,a))}rn.Ma="timingevent";function Kr(a,c){Se.call(this,rn.Ma,a),this.size=c}P(Kr,Se);function sr(a,c){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},c)}function Qr(){this.g=!0}Qr.prototype.xa=function(){this.g=!1};function qu(a,c,d,y,V,O){a.info(function(){if(a.g)if(O)for(var K="",xe=O.split("&"),dt=0;dt<xe.length;dt++){var we=xe[dt].split("=");if(1<we.length){var It=we[0];we=we[1];var Rt=It.split("_");K=2<=Rt.length&&Rt[1]=="type"?K+(It+"="+we+"&"):K+(It+"=redacted&")}}else K=null;else K=O;return"XMLHTTP REQ ("+y+") [attempt "+V+"]: "+c+`
`+d+`
`+K})}function C(a,c,d,y,V,O,K){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+V+"]: "+c+`
`+d+`
`+O+" "+K})}function k(a,c,d,y){a.info(function(){return"XMLHTTP TEXT ("+c+"): "+b(a,d)+(y?" "+y:"")})}function L(a,c){a.info(function(){return"TIMEOUT: "+c})}Qr.prototype.info=function(){};function b(a,c){if(!a.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var y=d[a];if(!(2>y.length)){var V=y[1];if(Array.isArray(V)&&!(1>V.length)){var O=V[0];if(O!="noop"&&O!="stop"&&O!="close")for(var K=1;K<V.length;K++)V[K]=""}}}}return nn(d)}catch{return c}}var q={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},te={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ie;function W(){}P(W,Ai),W.prototype.g=function(){return new XMLHttpRequest},W.prototype.i=function(){return{}},ie=new W;function ee(a,c,d,y){this.j=a,this.i=c,this.l=d,this.R=y||1,this.U=new or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new X}function X(){this.i=null,this.g="",this.h=!1}var Z={},pe={};function ye(a,c,d){a.L=1,a.v=ka(zn(c)),a.m=d,a.P=!0,Ae(a,null)}function Ae(a,c){a.F=Date.now(),Ne(a),a.A=zn(a.v);var d=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),bf(d.i,"t",y),a.C=0,d=a.j.J,a.h=new X,a.g=rp(a.j,d?c:null,!a.m),0<a.O&&(a.M=new pn(g(a.Y,a,a.g),a.O)),c=a.U,d=a.g,y=a.ca;var V="readystatechange";Array.isArray(V)||(V&&($r[0]=V.toString()),V=$r);for(var O=0;O<V.length;O++){var K=Mo(d,V[O],y||c.handleEvent,!1,c.h||c);if(!K)break;c.g[K.key]=K}c=a.H?p(a.H):{},a.m?(a.u||(a.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,c)):(a.u="GET",a.g.ea(a.A,a.u,null,c)),Wr(),qu(a.i,a.u,a.A,a.l,a.R,a.m)}ee.prototype.ca=function(a){a=a.target;const c=this.M;c&&$n(a)==3?c.j():this.Y(a)},ee.prototype.Y=function(a){try{if(a==this.g)e:{const Rt=$n(this.g);var c=this.g.Ba();const Vi=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Kf(this.g)))){this.J||Rt!=4||c==7||(c==8||0>=Vi?Wr(3):Wr(2)),Kt(this);var d=this.g.Z();this.X=d;t:if(de(this)){var y=Kf(this.g);a="";var V=y.length,O=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tt(this),on(this);var K="";break t}this.h.i=new l.TextDecoder}for(c=0;c<V;c++)this.h.h=!0,a+=this.h.i.decode(y[c],{stream:!(O&&c==V-1)});y.length=0,this.h.g+=a,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=d==200,C(this.i,this.u,this.A,this.l,this.R,Rt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,dt=this.g;if((xe=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(xe)){var we=xe;break t}}we=null}if(d=we)k(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lr(this,d);else{this.o=!1,this.s=3,Je(12),Tt(this),on(this);break e}}if(this.P){d=!0;let yn;for(;!this.J&&this.C<K.length;)if(yn=Ze(this,K),yn==pe){Rt==4&&(this.s=4,Je(14),d=!1),k(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Z){this.s=4,Je(15),k(this.i,this.l,K,"[Invalid Chunk]"),d=!1;break}else k(this.i,this.l,yn,null),lr(this,yn);if(de(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||K.length!=0||this.h.h||(this.s=1,Je(16),d=!1),this.o=this.o&&d,!d)k(this.i,this.l,K,"[Invalid Chunked Response]"),Tt(this),on(this);else if(0<K.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Ju(It),It.M=!0,Je(11))}}else k(this.i,this.l,K,null),lr(this,K);Rt==4&&Tt(this),this.o&&!this.J&&(Rt==4?Zf(this.j,this):(this.o=!1,Ne(this)))}else tE(this.g),d==400&&0<K.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),Tt(this),on(this)}}}catch{}finally{}};function de(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Ze(a,c){var d=a.C,y=c.indexOf(`
`,d);return y==-1?pe:(d=Number(c.substring(d,y)),isNaN(d)?Z:(y+=1,y+d>c.length?pe:(c=c.slice(y,y+d),a.C=y+d,c)))}ee.prototype.cancel=function(){this.J=!0,Tt(this)};function Ne(a){a.S=Date.now()+a.I,ar(a,a.I)}function ar(a,c){if(a.B!=null)throw Error("WatchDog timer not null");a.B=sr(g(a.ba,a),c)}function Kt(a){a.B&&(l.clearTimeout(a.B),a.B=null)}ee.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(L(this.i,this.A),this.L!=2&&(Wr(),Je(17)),Tt(this),this.s=2,on(this)):ar(this,this.S-a)};function on(a){a.j.G==0||a.J||Zf(a.j,a)}function Tt(a){Kt(a);var c=a.M;c&&typeof c.ma=="function"&&c.ma(),a.M=null,Ta(a.U),a.g&&(c=a.g,a.g=null,c.abort(),c.ma())}function lr(a,c){try{var d=a.j;if(d.G!=0&&(d.g==a||ae(d.h,a))){if(!a.K&&ae(d.h,a)&&d.G==3){try{var y=d.Da.g.parse(c)}catch{y=null}if(Array.isArray(y)&&y.length==3){var V=y;if(V[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)Oa(d),La(d);else break e;Xu(d),Je(18)}}else d.za=V[1],0<d.za-d.T&&37500>V[2]&&d.F&&d.v==0&&!d.C&&(d.C=sr(g(d.Za,d),6e3));if(1>=Yr(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Jr(d,11)}else if((a.K||d.g==a)&&Oa(d),!_(c))for(V=d.Da.g.parse(c),c=0;c<V.length;c++){let we=V[c];if(d.T=we[0],we=we[1],d.G==2)if(we[0]=="c"){d.K=we[1],d.ia=we[2];const It=we[3];It!=null&&(d.la=It,d.j.info("VER="+d.la));const Rt=we[4];Rt!=null&&(d.Aa=Rt,d.j.info("SVER="+d.Aa));const Vi=we[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(y=1.5*Vi,d.L=y,d.j.info("backChannelRequestTimeoutMs_="+y)),y=d;const yn=a.g;if(yn){const ja=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var O=y.h;O.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(ke(O,O.h),O.h=null))}if(y.D){const Zu=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zu&&(y.ya=Zu,Le(y.I,y.D,Zu))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),y=d;var K=a;if(y.qa=np(y,y.J?y.ia:null,y.W),K.K){St(y.h,K);var xe=K,dt=y.L;dt&&(xe.I=dt),xe.B&&(Kt(xe),Ne(xe)),y.g=K}else Xf(y);0<d.i.length&&Ma(d)}else we[0]!="stop"&&we[0]!="close"||Jr(d,7);else d.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Jr(d,7):Yu(d):we[0]!="noop"&&d.l&&d.l.ta(we),d.v=0)}}Wr(4)}catch{}}var mn=class{constructor(a,c){this.g=a,this.map=c}};function qr(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gr(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Yr(a){return a.h?1:a.g?a.g.size:0}function ae(a,c){return a.h?a.h==c:a.g?a.g.has(c):!1}function ke(a,c){a.g?a.g.add(c):a.h=c}function St(a,c){a.h&&a.h==c?a.h=null:a.g&&a.g.has(c)&&a.g.delete(c)}qr.prototype.cancel=function(){if(this.i=Ve(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ve(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let c=a.i;for(const d of a.g.values())c=c.concat(d.D);return c}return D(a.i)}function gn(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var c=[],d=a.length,y=0;y<d;y++)c.push(a[y]);return c}c=[],d=0;for(y in a)c[d++]=a[y];return c}function Ca(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var c=[];a=a.length;for(var d=0;d<a;d++)c.push(d);return c}c=[],d=0;for(const y in a)c[d++]=y;return c}}}function Aa(a,c){if(a.forEach&&typeof a.forEach=="function")a.forEach(c,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,c,void 0);else for(var d=Ca(a),y=gn(a),V=y.length,O=0;O<V;O++)c.call(void 0,y[O],d&&d[O],a)}var Lf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function z0(a,c){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var y=a[d].indexOf("="),V=null;if(0<=y){var O=a[d].substring(0,y);V=a[d].substring(y+1)}else O=a[d];c(O,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Xr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Xr){this.h=a.h,Pa(this,a.j),this.o=a.o,this.g=a.g,xa(this,a.s),this.l=a.l;var c=a.i,d=new Wo;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),Mf(this,d),this.m=a.m}else a&&(c=String(a).match(Lf))?(this.h=!1,Pa(this,c[1]||"",!0),this.o=$o(c[2]||""),this.g=$o(c[3]||"",!0),xa(this,c[4]),this.l=$o(c[5]||"",!0),Mf(this,c[6]||"",!0),this.m=$o(c[7]||"")):(this.h=!1,this.i=new Wo(null,this.h))}Xr.prototype.toString=function(){var a=[],c=this.j;c&&a.push(Ho(c,Of,!0),":");var d=this.g;return(d||c=="file")&&(a.push("//"),(c=this.o)&&a.push(Ho(c,Of,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(Ho(d,d.charAt(0)=="/"?W0:H0,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",Ho(d,Q0)),a.join("")};function zn(a){return new Xr(a)}function Pa(a,c,d){a.j=d?$o(c,!0):c,a.j&&(a.j=a.j.replace(/:$/,""))}function xa(a,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);a.s=c}else a.s=null}function Mf(a,c,d){c instanceof Wo?(a.i=c,q0(a.i,a.h)):(d||(c=Ho(c,K0)),a.i=new Wo(c,a.h))}function Le(a,c,d){a.i.set(c,d)}function ka(a){return Le(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function $o(a,c){return a?c?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ho(a,c,d){return typeof a=="string"?(a=encodeURI(a).replace(c,$0),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function $0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Of=/[#\/\?@]/g,H0=/[#\?:]/g,W0=/[#\?]/g,K0=/[#\?@]/g,Q0=/#/g;function Wo(a,c){this.h=this.g=null,this.i=a||null,this.j=!!c}function ur(a){a.g||(a.g=new Map,a.h=0,a.i&&z0(a.i,function(c,d){a.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}t=Wo.prototype,t.add=function(a,c){ur(this),this.i=null,a=Di(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(c),this.h+=1,this};function Ff(a,c){ur(a),c=Di(a,c),a.g.has(c)&&(a.i=null,a.h-=a.g.get(c).length,a.g.delete(c))}function jf(a,c){return ur(a),c=Di(a,c),a.g.has(c)}t.forEach=function(a,c){ur(this),this.g.forEach(function(d,y){d.forEach(function(V){a.call(c,V,y,this)},this)},this)},t.na=function(){ur(this);const a=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let y=0;y<c.length;y++){const V=a[y];for(let O=0;O<V.length;O++)d.push(c[y])}return d},t.V=function(a){ur(this);let c=[];if(typeof a=="string")jf(this,a)&&(c=c.concat(this.g.get(Di(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)c=c.concat(a[d])}return c},t.set=function(a,c){return ur(this),this.i=null,a=Di(this,a),jf(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[c]),this.h+=1,this},t.get=function(a,c){return a?(a=this.V(a),0<a.length?String(a[0]):c):c};function bf(a,c,d){Ff(a,c),0<d.length&&(a.i=null,a.g.set(Di(a,c),D(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var y=c[d];const O=encodeURIComponent(String(y)),K=this.V(y);for(y=0;y<K.length;y++){var V=O;K[y]!==""&&(V+="="+encodeURIComponent(String(K[y]))),a.push(V)}}return this.i=a.join("&")};function Di(a,c){return c=String(c),a.j&&(c=c.toLowerCase()),c}function q0(a,c){c&&!a.j&&(ur(a),a.i=null,a.g.forEach(function(d,y){var V=y.toLowerCase();y!=V&&(Ff(this,y),bf(this,V,d))},a)),a.j=c}function G0(a,c){const d=new Qr;if(l.Image){const y=new Image;y.onload=E(cr,d,"TestLoadImage: loaded",!0,c,y),y.onerror=E(cr,d,"TestLoadImage: error",!1,c,y),y.onabort=E(cr,d,"TestLoadImage: abort",!1,c,y),y.ontimeout=E(cr,d,"TestLoadImage: timeout",!1,c,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else c(!1)}function Y0(a,c){const d=new Qr,y=new AbortController,V=setTimeout(()=>{y.abort(),cr(d,"TestPingServer: timeout",!1,c)},1e4);fetch(a,{signal:y.signal}).then(O=>{clearTimeout(V),O.ok?cr(d,"TestPingServer: ok",!0,c):cr(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(V),cr(d,"TestPingServer: error",!1,c)})}function cr(a,c,d,y,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),y(d)}catch{}}function X0(){this.g=new Ia}function J0(a,c,d){const y=d||"";try{Aa(a,function(V,O){let K=V;h(V)&&(K=nn(V)),c.push(y+O+"="+encodeURIComponent(K))})}catch(V){throw c.push(y+"type="+encodeURIComponent("_badmap")),V}}function Da(a){this.l=a.Ub||null,this.j=a.eb||!1}P(Da,Ai),Da.prototype.g=function(){return new Na(this.l,this.j)},Da.prototype.i=function(a){return function(){return a}}({});function Na(a,c){Fe.call(this),this.D=a,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Na,Fe),t=Na.prototype,t.open=function(a,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=c,this.readyState=1,Qo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(c.body=a),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Qo(this)),this.g&&(this.readyState=3,Qo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uf(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uf(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var c=a.value?a.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!a.done}))&&(this.response=this.responseText+=c)}a.done?Ko(this):Qo(this),this.readyState==3&&Uf(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ko(this))},t.Qa=function(a){this.g&&(this.response=a,Ko(this))},t.ga=function(){this.g&&Ko(this)};function Ko(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Qo(a)}t.setRequestHeader=function(a,c){this.u.append(a,c)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=c.next();return a.join(`\r
`)};function Qo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Bf(a){let c="";return H(a,function(d,y){c+=y,c+=":",c+=d,c+=`\r
`}),c}function Gu(a,c,d){e:{for(y in d){var y=!1;break e}y=!0}y||(d=Bf(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):Le(a,c,d))}function We(a){Fe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(We,Fe);var Z0=/^https?$/i,eE=["POST","PUT"];t=We.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,c,d,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);c=c?c.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ie.g(),this.v=this.o?Ra(this.o):Ra(ie),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(c,String(a),!0),this.B=!1}catch(O){zf(this,O);return}if(a=d||"",d=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var V in y)d.set(V,y[V]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const O of y.keys())d.set(O,y.get(O));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(d.keys()).find(O=>O.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(eE,c,void 0))||y||V||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,K]of d)this.g.setRequestHeader(O,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wf(this),this.u=!0,this.g.send(a),this.u=!1}catch(O){zf(this,O)}};function zf(a,c){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=c,a.m=5,$f(a),Va(a)}function $f(a){a.A||(a.A=!0,Qe(a,"complete"),Qe(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Qe(this,"complete"),Qe(this,"abort"),Va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Hf(this):this.bb())},t.bb=function(){Hf(this)};function Hf(a){if(a.h&&typeof s<"u"&&(!a.v[1]||$n(a)!=4||a.Z()!=2)){if(a.u&&$n(a)==4)Ci(a.Ea,0,a);else if(Qe(a,"readystatechange"),$n(a)==4){a.h=!1;try{const K=a.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var y;if(y=K===0){var V=String(a.D).match(Lf)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),y=!Z0.test(V?V.toLowerCase():"")}d=y}if(d)Qe(a,"complete"),Qe(a,"success");else{a.m=6;try{var O=2<$n(a)?a.g.statusText:""}catch{O=""}a.l=O+" ["+a.Z()+"]",$f(a)}}finally{Va(a)}}}}function Va(a,c){if(a.g){Wf(a);const d=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,c||Qe(a,"ready");try{d.onreadystatechange=y}catch{}}}function Wf(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function $n(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var c=this.g.responseText;return a&&c.indexOf(a)==0&&(c=c.substring(a.length)),Sa(c)}};function Kf(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function tE(a){const c={};a=(a.g&&2<=$n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(_(a[y]))continue;var d=R(a[y]);const V=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const O=c[V]||[];c[V]=O,O.push(d)}T(c,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qo(a,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||c}function Qf(a){this.Aa=0,this.i=[],this.j=new Qr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qo("baseRetryDelayMs",5e3,a),this.cb=qo("retryDelaySeedMs",1e4,a),this.Wa=qo("forwardChannelMaxRetries",2,a),this.wa=qo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new qr(a&&a.concurrentRequestLimit),this.Da=new X0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qf.prototype,t.la=8,t.G=1,t.connect=function(a,c,d,y){Je(0),this.W=a,this.H=c||{},d&&y!==void 0&&(this.H.OSID=d,this.H.OAID=y),this.F=this.X,this.I=np(this,null,this.W),Ma(this)};function Yu(a){if(qf(a),a.G==3){var c=a.U++,d=zn(a.I);if(Le(d,"SID",a.K),Le(d,"RID",c),Le(d,"TYPE","terminate"),Go(a,d),c=new ee(a,a.j,c),c.L=2,c.v=ka(zn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=c.v,d=!0),d||(c.g=rp(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Ne(c)}tp(a)}function La(a){a.g&&(Ju(a),a.g.cancel(),a.g=null)}function qf(a){La(a),a.u&&(l.clearTimeout(a.u),a.u=null),Oa(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ma(a){if(!Gr(a.h)&&!a.s){a.s=!0;var c=a.Ga;bt||oe(),Q||(bt(),Q=!0),G.add(c,a),a.B=0}}function nE(a,c){return Yr(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=c.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=sr(g(a.Ga,a,c),ep(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new ee(this,this.j,a);let O=this.o;if(this.S&&(O?(O=p(O),w(O,this.S)):O=this.S),this.m!==null||this.O||(V.H=O,O=null),this.P)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var y=this.i[d];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(c+=y,4096<c){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=Yf(this,V,c),d=zn(this.I),Le(d,"RID",a),Le(d,"CVER",22),this.D&&Le(d,"X-HTTP-Session-Id",this.D),Go(this,d),O&&(this.O?c="headers="+encodeURIComponent(String(Bf(O)))+"&"+c:this.m&&Gu(d,this.m,O)),ke(this.h,V),this.Ua&&Le(d,"TYPE","init"),this.P?(Le(d,"$req",c),Le(d,"SID","null"),V.T=!0,ye(V,d,null)):ye(V,d,c),this.G=2}}else this.G==3&&(a?Gf(this,a):this.i.length==0||Gr(this.h)||Gf(this))};function Gf(a,c){var d;c?d=c.l:d=a.U++;const y=zn(a.I);Le(y,"SID",a.K),Le(y,"RID",d),Le(y,"AID",a.T),Go(a,y),a.m&&a.o&&Gu(y,a.m,a.o),d=new ee(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),c&&(a.i=c.D.concat(a.i)),c=Yf(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ke(a.h,d),ye(d,y,c)}function Go(a,c){a.H&&H(a.H,function(d,y){Le(c,y,d)}),a.l&&Aa({},function(d,y){Le(c,y,d)})}function Yf(a,c,d){d=Math.min(a.i.length,d);var y=a.l?g(a.l.Na,a.l,a):null;e:{var V=a.i;let O=-1;for(;;){const K=["count="+d];O==-1?0<d?(O=V[0].g,K.push("ofs="+O)):O=0:K.push("ofs="+O);let xe=!0;for(let dt=0;dt<d;dt++){let we=V[dt].g;const It=V[dt].map;if(we-=O,0>we)O=Math.max(0,V[dt].g-100),xe=!1;else try{J0(It,K,"req"+we+"_")}catch{y&&y(It)}}if(xe){y=K.join("&");break e}}}return a=a.i.splice(0,d),c.D=a,y}function Xf(a){if(!a.g&&!a.u){a.Y=1;var c=a.Fa;bt||oe(),Q||(bt(),Q=!0),G.add(c,a),a.v=0}}function Xu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=sr(g(a.Fa,a),ep(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Jf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=sr(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),La(this),Jf(this))};function Ju(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Jf(a){a.g=new ee(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var c=zn(a.qa);Le(c,"RID","rpc"),Le(c,"SID",a.K),Le(c,"AID",a.T),Le(c,"CI",a.F?"0":"1"),!a.F&&a.ja&&Le(c,"TO",a.ja),Le(c,"TYPE","xmlhttp"),Go(a,c),a.m&&a.o&&Gu(c,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=ka(zn(c)),d.m=null,d.P=!0,Ae(d,a)}t.Za=function(){this.C!=null&&(this.C=null,La(this),Xu(this),Je(19))};function Oa(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Zf(a,c){var d=null;if(a.g==c){Oa(a),Ju(a),a.g=null;var y=2}else if(ae(a.h,c))d=c.D,St(a.h,c),y=1;else return;if(a.G!=0){if(c.o)if(y==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var V=a.B;y=ki(),Qe(y,new Kr(y,d)),Ma(a)}else Xf(a);else if(V=c.s,V==3||V==0&&0<c.X||!(y==1&&nE(a,c)||y==2&&Xu(a)))switch(d&&0<d.length&&(c=a.h,c.i=c.i.concat(d)),V){case 1:Jr(a,5);break;case 4:Jr(a,10);break;case 3:Jr(a,6);break;default:Jr(a,2)}}}function ep(a,c){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*c}function Jr(a,c){if(a.j.info("Error code "+c),c==2){var d=g(a.fb,a),y=a.Xa;const V=!y;y=new Xr(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Pa(y,"https"),ka(y),V?G0(y.toString(),d):Y0(y.toString(),d)}else Je(2);a.G=0,a.l&&a.l.sa(c),tp(a),qf(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function tp(a){if(a.G=0,a.ka=[],a.l){const c=Ve(a.h);(c.length!=0||a.i.length!=0)&&(N(a.ka,c),N(a.ka,a.i),a.h.i.length=0,D(a.i),a.i.length=0),a.l.ra()}}function np(a,c,d){var y=d instanceof Xr?zn(d):new Xr(d);if(y.g!="")c&&(y.g=c+"."+y.g),xa(y,y.s);else{var V=l.location;y=V.protocol,c=c?c+"."+V.hostname:V.hostname,V=+V.port;var O=new Xr(null);y&&Pa(O,y),c&&(O.g=c),V&&xa(O,V),d&&(O.l=d),y=O}return d=a.D,c=a.ya,d&&c&&Le(y,d,c),Le(y,"VER",a.la),Go(a,y),y}function rp(a,c,d){if(c&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=a.Ca&&!a.pa?new We(new Da({eb:d})):new We(a.pa),c.Ha(a.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ip(){}t=ip.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fa(){}Fa.prototype.g=function(a,c){return new Qt(a,c)};function Qt(a,c){Fe.call(this),this.g=new Qf(c),this.l=a,this.h=c&&c.messageUrlParams||null,a=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(a?a["X-WebChannel-Content-Type"]=c.messageContentType:a={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(a?a["X-WebChannel-Client-Profile"]=c.va:a={"X-WebChannel-Client-Profile":c.va}),this.g.S=a,(a=c&&c.Sb)&&!_(a)&&(this.g.m=a),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!_(c)&&(this.g.D=c,a=this.h,a!==null&&c in a&&(a=this.h,c in a&&delete a[c])),this.j=new Ni(this)}P(Qt,Fe),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Yu(this.g)},Qt.prototype.o=function(a){var c=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=nn(a),a=d);c.i.push(new mn(c.Ya++,a)),c.G==3&&Ma(c)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Yu(this.g),delete this.g,Qt.aa.N.call(this)};function op(a){Pi.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var c=a.__sm__;if(c){e:{for(const d in c){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,c=c!==null&&a in c?c[a]:void 0),this.data=c}else this.data=a}P(op,Pi);function sp(){Hr.call(this),this.status=1}P(sp,Hr);function Ni(a){this.g=a}P(Ni,ip),Ni.prototype.ua=function(){Qe(this.g,"a")},Ni.prototype.ta=function(a){Qe(this.g,new op(a))},Ni.prototype.sa=function(a){Qe(this.g,new sp)},Ni.prototype.ra=function(){Qe(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,S_=function(){return new Fa},T_=function(){return ki()},w_=rn,Uh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},q.NO_ERROR=0,q.TIMEOUT=8,q.HTTP_ERROR=6,wl=q,te.COMPLETE="complete",E_=te,Uo.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,ps=Uo,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,__=We}).apply(typeof rl<"u"?rl:typeof self<"u"?self:typeof window<"u"?window:{});const Qm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new d_("@firebase/firestore");function as(){return vi.logLevel}function J(t,...e){if(vi.logLevel<=ve.DEBUG){const n=e.map(tf);vi.debug(`Firestore (${Po}): ${t}`,...n)}}function tr(t,...e){if(vi.logLevel<=ve.ERROR){const n=e.map(tf);vi.error(`Firestore (${Po}): ${t}`,...n)}}function mo(t,...e){if(vi.logLevel<=ve.WARN){const n=e.map(tf);vi.warn(`Firestore (${Po}): ${t}`,...n)}}function tf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: `+t;throw tr(e),new Error(e)}function Ce(t,e){t||se()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Ao{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class jI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bI{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Gn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new I_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new xt(e)}}class UI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class BI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new UI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $I{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ce(this.o===void 0);const r=o=>{o.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,J("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new zI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=HI(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function go(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new at(0,0))}static max(){return new le(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ea.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class be extends ea{construct(e,n,r){return new be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new be(n)}static emptyPath(){return new be([])}}const WI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends ea{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return WI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ne(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ne(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ne(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new ne(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(be.fromString(e))}static fromName(e){return new re(be.fromString(e).popFirst(5))}static empty(){return new re(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new be(e.slice()))}}function KI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Mr(i,re.empty(),e)}function QI(t){return new Mr(t.readTime,t.key,-1)}class Mr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mr(le.min(),re.empty(),-1)}static max(){return new Mr(le.max(),re.empty(),-1)}}function qI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==GI)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const h=u;n(e[h]).next(f=>{s[h]=f,++l,l===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new B((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function XI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}nf.oe=-1;function Nu(t){return t==null}function nu(t){return t===0&&1/t==-1/0}function JI(t){return typeof t=="number"&&Number.isInteger(t)&&!nu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new il(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new il(this.root,e,this.comparator,!1)}getReverseIterator(){return new il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new il(this.root,e,this.comparator,!0)}}class il{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??pt.RED,this.left=i??pt.EMPTY,this.right=o??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new pt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,o){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gm(this.data.getIterator())}getIteratorFrom(e){return new Gm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class Gm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new yt(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new A_("Invalid base64 string: "+o):o}}(e);return new _t(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const ZI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(Ce(!!t),typeof t=="string"){let e=0;const n=ZI.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _i(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function of(t){const e=t.mapValue.fields.__previous_value__;return rf(e)?of(e):e}function ta(t){const e=Or(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n,r,i,o,s,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class na{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new na("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof na&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ei(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rf(t)?4:nR(t)?9007199254740991:tR(t)?10:11:se()}function Fn(t,e){if(t===e)return!0;const n=Ei(t);if(n!==Ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ta(t).isEqual(ta(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Or(i.timestampValue),l=Or(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return _i(i.bytesValue).isEqual(_i(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ye(i.geoPointValue.latitude)===Ye(o.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ye(i.integerValue)===Ye(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ye(i.doubleValue),l=Ye(o.doubleValue);return s===l?nu(s)===nu(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return go(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(qm(s)!==qm(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!Fn(s[u],l[u])))return!1;return!0}(t,e);default:return se()}}function ra(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function yo(t,e){if(t===e)return 0;const n=Ei(t),r=Ei(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Ye(o.integerValue||o.doubleValue),u=Ye(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Ym(t.timestampValue,e.timestampValue);case 4:return Ym(ta(t),ta(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(o,s){const l=_i(o),u=_i(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=Te(l[h],u[h]);if(f!==0)return f}return Te(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=Te(Ye(o.latitude),Ye(s.latitude));return l!==0?l:Te(Ye(o.longitude),Ye(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Xm(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,u,h,f;const m=o.fields||{},g=s.fields||{},E=(l=m.value)===null||l===void 0?void 0:l.arrayValue,P=(u=g.value)===null||u===void 0?void 0:u.arrayValue,D=Te(((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0,((f=P==null?void 0:P.values)===null||f===void 0?void 0:f.length)||0);return D!==0?D:Xm(E,P)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===ol.mapValue&&s===ol.mapValue)return 0;if(o===ol.mapValue)return 1;if(s===ol.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),h=s.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=Te(u[m],f[m]);if(g!==0)return g;const E=yo(l[u[m]],h[f[m]]);if(E!==0)return E}return Te(u.length,f.length)}(t.mapValue,e.mapValue);default:throw se()}}function Ym(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Or(t),r=Or(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function Xm(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=yo(n[i],r[i]);if(o)return o}return Te(n.length,r.length)}function vo(t){return Bh(t)}function Bh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Or(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _i(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Bh(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Bh(n.fields[s])}`;return i+"}"}(t.mapValue):se()}function zh(t){return!!t&&"integerValue"in t}function sf(t){return!!t&&"arrayValue"in t}function Jm(t){return!!t&&"nullValue"in t}function Zm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tl(t){return!!t&&"mapValue"in t}function tR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function As(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=As(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=As(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=As(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=As(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Tl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Tl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ln(As(this.value))}}function P_(t){const e=[];return xo(t.fields,(n,r)=>{const i=new mt([n]);if(Tl(r)){const o=P_(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Dt(e,0,le.min(),le.min(),le.min(),ln.empty(),0)}static newFoundDocument(e,n,r,i){return new Dt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Dt(e,2,n,le.min(),le.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,le.min(),le.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.position=e,this.inclusive=n}}function eg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=re.comparator(re.fromName(s.referenceValue),n.key):r=yo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function tg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function rR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{}class ot extends x_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oR(e,n,r):n==="array-contains"?new lR(e,r):n==="in"?new uR(e,r):n==="not-in"?new cR(e,r):n==="array-contains-any"?new hR(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sR(e,r):new aR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yo(n,this.value)):n!==null&&Ei(this.value)===Ei(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends x_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new jn(e,n)}matches(e){return k_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function k_(t){return t.op==="and"}function D_(t){return iR(t)&&k_(t)}function iR(t){for(const e of t.filters)if(e instanceof jn)return!1;return!0}function $h(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+vo(t.value);if(D_(t))return t.filters.map(e=>$h(e)).join(",");{const e=t.filters.map(n=>$h(n)).join(",");return`${t.op}(${e})`}}function N_(t,e){return t instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&Fn(r.value,i.value)}(t,e):t instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&N_(s,i.filters[l]),!0):!1}(t,e):void se()}function V_(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`}(t):t instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(V_).join(" ,")+"}"}(t):"Filter"}class oR extends ot{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class sR extends ot{constructor(e,n){super(e,"in",n),this.keys=L_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aR extends ot{constructor(e,n){super(e,"not-in",n),this.keys=L_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function L_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class lR extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sf(n)&&ra(n.arrayValue,this.value)}}class uR extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ra(this.value.arrayValue,n)}}class cR extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ra(this.value.arrayValue,n)}}class hR extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ra(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function ng(t,e=null,n=[],r=[],i=null,o=null,s=null){return new dR(t,e,n,r,i,o,s)}function af(t){const e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$h(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Nu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vo(r)).join(",")),e.ue=n}return e.ue}function lf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!N_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tg(t.startAt,e.startAt)&&tg(t.endAt,e.endAt)}function Hh(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fR(t,e,n,r,i,o,s,l){return new Vu(t,e,n,r,i,o,s,l)}function uf(t){return new Vu(t)}function rg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pR(t){return t.collectionGroup!==null}function Ps(t){const e=ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new yt(mt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new iu(o,r))}),n.has(mt.keyField().canonicalString())||e.ce.push(new iu(mt.keyField(),r))}return e.ce}function Ln(t){const e=ue(t);return e.le||(e.le=mR(e,Ps(t))),e.le}function mR(t,e){if(t.limitType==="F")return ng(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new iu(i.field,o)});const n=t.endAt?new ru(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ru(t.startAt.position,t.startAt.inclusive):null;return ng(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wh(t,e,n){return new Vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lu(t,e){return lf(Ln(t),Ln(e))&&t.limitType===e.limitType}function M_(t){return`${af(Ln(t))}|lt:${t.limitType}`}function Oi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>V_(i)).join(", ")}]`),Nu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vo(i)).join(",")),`Target(${r})`}(Ln(t))}; limitType=${t.limitType})`}function Mu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Ps(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const h=eg(s,l,u);return s.inclusive?h<=0:h<0}(r.startAt,Ps(r),i)||r.endAt&&!function(s,l,u){const h=eg(s,l,u);return s.inclusive?h>=0:h>0}(r.endAt,Ps(r),i))}(t,e)}function gR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function O_(t){return(e,n)=>{let r=!1;for(const i of Ps(t)){const o=yR(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function yR(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),h=l.data.field(o);return u!==null&&h!==null?yo(u,h):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return C_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new He(re.comparator);function nr(){return vR}const F_=new He(re.comparator);function ms(...t){let e=F_;for(const n of t)e=e.insert(n.key,n);return e}function j_(t){let e=F_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ui(){return xs()}function b_(){return xs()}function xs(){return new ko(t=>t.toString(),(t,e)=>t.isEqual(e))}const _R=new He(re.comparator),ER=new yt(re.comparator);function fe(...t){let e=ER;for(const n of t)e=e.add(n);return e}const wR=new yt(Te);function TR(){return wR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nu(e)?"-0":e}}function U_(t){return{integerValue:""+t}}function SR(t,e){return JI(e)?U_(e):cf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this._=void 0}}function IR(t,e,n){return t instanceof ou?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&rf(o)&&(o=of(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ia?z_(t,e):t instanceof oa?$_(t,e):function(i,o){const s=B_(i,o),l=ig(s)+ig(i.Pe);return zh(s)&&zh(i.Pe)?U_(l):cf(i.serializer,l)}(t,e)}function RR(t,e,n){return t instanceof ia?z_(t,e):t instanceof oa?$_(t,e):n}function B_(t,e){return t instanceof su?function(r){return zh(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ou extends Ou{}class ia extends Ou{constructor(e){super(),this.elements=e}}function z_(t,e){const n=H_(e);for(const r of t.elements)n.some(i=>Fn(i,r))||n.push(r);return{arrayValue:{values:n}}}class oa extends Ou{constructor(e){super(),this.elements=e}}function $_(t,e){let n=H_(e);for(const r of t.elements)n=n.filter(i=>!Fn(i,r));return{arrayValue:{values:n}}}class su extends Ou{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function ig(t){return Ye(t.integerValue||t.doubleValue)}function H_(t){return sf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function CR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ia&&i instanceof ia||r instanceof oa&&i instanceof oa?go(r.elements,i.elements,Fn):r instanceof su&&i instanceof su?Fn(r.Pe,i.Pe):r instanceof ou&&i instanceof ou}(t.transform,e.transform)}class AR{constructor(e,n){this.version=e,this.transformResults=n}}class Mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fu{}function W_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hf(t.key,Mn.none()):new ma(t.key,t.data,Mn.none());{const n=t.data,r=ln.empty();let i=new yt(mt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Si(t.key,r,new Sn(i.toArray()),Mn.none())}}function PR(t,e,n){t instanceof ma?function(i,o,s){const l=i.value.clone(),u=sg(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Si?function(i,o,s){if(!Sl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=sg(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(K_(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ks(t,e,n,r){return t instanceof ma?function(o,s,l,u){if(!Sl(o.precondition,s))return l;const h=o.value.clone(),f=ag(o.fieldTransforms,u,s);return h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Si?function(o,s,l,u){if(!Sl(o.precondition,s))return l;const h=ag(o.fieldTransforms,u,s),f=s.data;return f.setAll(K_(o)),f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,s,l){return Sl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function xR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=B_(r.transform,i||null);o!=null&&(n===null&&(n=ln.empty()),n.set(r.field,o))}return n||null}function og(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&go(r,i,(o,s)=>CR(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ma extends Fu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Si extends Fu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function K_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sg(t,e,n){const r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,RR(s,l,n[i]))}return r}function ag(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,IR(o,s,e))}return r}class hf extends Fu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kR extends Fu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&PR(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ks(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ks(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=b_();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=W_(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(n,r)=>og(n,r))&&go(this.baseMutations,e.baseMutations,(n,r)=>og(n,r))}}class df{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return _R}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new df(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,ge;function LR(t){switch(t){default:return se();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function Q_(t){if(t===void 0)return tr("GRPC error has no .code"),U.UNKNOWN;switch(t){case et.OK:return U.OK;case et.CANCELLED:return U.CANCELLED;case et.UNKNOWN:return U.UNKNOWN;case et.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case et.INTERNAL:return U.INTERNAL;case et.UNAVAILABLE:return U.UNAVAILABLE;case et.UNAUTHENTICATED:return U.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case et.NOT_FOUND:return U.NOT_FOUND;case et.ALREADY_EXISTS:return U.ALREADY_EXISTS;case et.PERMISSION_DENIED:return U.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case et.ABORTED:return U.ABORTED;case et.OUT_OF_RANGE:return U.OUT_OF_RANGE;case et.UNIMPLEMENTED:return U.UNIMPLEMENTED;case et.DATA_LOSS:return U.DATA_LOSS;default:return se()}}(ge=et||(et={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new di([4294967295,4294967295],0);function lg(t){const e=MR().encode(t),n=new v_;return n.update(e),new Uint8Array(n.digest())}function ug(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new di([n,r],0),new di([i,o],0)]}class ff{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gs(`Invalid padding: ${n}`);if(r<0)throw new gs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=di.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(di.fromNumber(r)));return i.compare(OR)===1&&(i=new di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=lg(e),[r,i]=ug(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new ff(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=lg(e),[r,i]=ug(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ga.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ju(le.min(),i,new He(Te),nr(),fe())}}class ga{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ga(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class q_{constructor(e,n){this.targetId=e,this.me=n}}class G_{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cg{constructor(){this.fe=0,this.ge=dg(),this.pe=_t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fe(),n=fe(),r=fe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new ga(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=dg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class FR{constructor(e){this.Le=e,this.Be=new Map,this.ke=nr(),this.qe=hg(),this.Qe=new He(Te)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Hh(o))if(r===0){const s=new re(o.path);this.Ue(n,s,Dt.newNoDocument(s,le.min()))}else Ce(r===1);else{const s=this.Ye(n);if(s!==r){const l=this.Ze(e),u=l?this.Xe(l,e,s):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=_i(r).toUint8Array()}catch(u){if(u instanceof A_)return mo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new ff(s,i,o)}catch(u){return mo(u instanceof gs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&Hh(l.target)){const u=new re(l.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Dt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=fe();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new ju(e,n,this.Qe,this.ke,r);return this.ke=nr(),this.qe=hg(),this.Qe=new He(Te),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new cg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new yt(Te),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function hg(){return new He(re.comparator)}function dg(){return new He(re.comparator)}const jR={asc:"ASCENDING",desc:"DESCENDING"},bR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UR={and:"AND",or:"OR"};class BR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kh(t,e){return t.useProto3Json||Nu(e)?e:{value:e}}function au(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zR(t,e){return au(t,e.toTimestamp())}function On(t){return Ce(!!t),le.fromTimestamp(function(n){const r=Or(n);return new at(r.seconds,r.nanos)}(t))}function pf(t,e){return Qh(t,e).canonicalString()}function Qh(t,e){const n=function(i){return new be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function X_(t){const e=be.fromString(t);return Ce(n0(e)),e}function qh(t,e){return pf(t.databaseId,e.path)}function Vc(t,e){const n=X_(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(Z_(n))}function J_(t,e){return pf(t.databaseId,e)}function $R(t){const e=X_(t);return e.length===4?be.emptyPath():Z_(e)}function Gh(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Z_(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fg(t,e,n){return{name:qh(t,e),fields:n.value.mapValue.fields}}function HR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,f){return h.useProto3Json?(Ce(f===void 0||typeof f=="string"),_t.fromBase64String(f||"")):(Ce(f===void 0||f instanceof Buffer||f instanceof Uint8Array),_t.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(h){const f=h.code===void 0?U.UNKNOWN:Q_(h.code);return new ne(f,h.message||"")}(s);n=new G_(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vc(t,r.document.name),o=On(r.document.updateTime),s=r.document.createTime?On(r.document.createTime):le.min(),l=new ln({mapValue:{fields:r.document.fields}}),u=Dt.newFoundDocument(i,o,s,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new Il(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vc(t,r.document),o=r.readTime?On(r.readTime):le.min(),s=Dt.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Il([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vc(t,r.document),o=r.removedTargetIds||[];n=new Il([],o,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new VR(i,o),l=r.targetId;n=new q_(l,s)}}return n}function WR(t,e){let n;if(e instanceof ma)n={update:fg(t,e.key,e.value)};else if(e instanceof hf)n={delete:qh(t,e.key)};else if(e instanceof Si)n={update:fg(t,e.key,e.data),updateMask:eC(e.fieldMask)};else{if(!(e instanceof kR))return se();n={verify:qh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof ou)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ia)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof oa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof su)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:zR(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(t,e.precondition)),n}function KR(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?On(i.updateTime):On(o);return s.isEqual(le.min())&&(s=On(o)),new AR(s,i.transformResults||[])}(n,e))):[]}function QR(t,e){return{documents:[J_(t,e.path)]}}function qR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=J_(t,i);const o=function(h){if(h.length!==0)return t0(jn.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(h){if(h.length!==0)return h.map(f=>function(g){return{field:Fi(g.field),direction:XR(g.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Kh(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function GR(t){let e=$R(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(m){const g=e0(m);return g instanceof jn&&D_(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(g=>function(P){return new iu(ji(P.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,Nu(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,E=m.values||[];return new ru(E,g)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const g=!m.before,E=m.values||[];return new ru(E,g)}(n.endAt)),fR(e,i,s,o,l,"F",u,h)}function YR(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function e0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ji(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ji(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ji(n.unaryFilter.field);return ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ji(n.unaryFilter.field);return ot.create(s,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return ot.create(ji(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(r=>e0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function XR(t){return jR[t]}function JR(t){return bR[t]}function ZR(t){return UR[t]}function Fi(t){return{fieldPath:t.canonicalString()}}function ji(t){return mt.fromServerFormat(t.fieldPath)}function t0(t){return t instanceof ot?function(n){if(n.op==="=="){if(Zm(n.value))return{unaryFilter:{field:Fi(n.field),op:"IS_NAN"}};if(Jm(n.value))return{unaryFilter:{field:Fi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zm(n.value))return{unaryFilter:{field:Fi(n.field),op:"IS_NOT_NAN"}};if(Jm(n.value))return{unaryFilter:{field:Fi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fi(n.field),op:JR(n.op),value:n.value}}}(t):t instanceof jn?function(n){const r=n.getFilters().map(i=>t0(i));return r.length===1?r[0]:{compositeFilter:{op:ZR(n.op),filters:r}}}(t):se()}function eC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function n0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,r,i,o=le.min(),s=le.min(),l=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.ct=e}}function nC(t){const e=GR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.un=new iC}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Mr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Mr.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class iC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(be.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new _o(0)}static kn(){return new _o(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.changes=new ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ks(r.mutation,i,Sn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=ui();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ms();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=nr();const s=xs(),l=function(){return xs()}();return n.forEach((u,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof Si)?o=o.insert(h.key,h):f!==void 0?(s.set(h.key,f.mutation.getFieldMask()),ks(f.mutation,h,f.mutation.getFieldMask(),at.now())):s.set(h.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,f)=>s.set(h,f)),n.forEach((h,f)=>{var m;return l.set(h,new sC(f,(m=s.get(h))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=xs();let i=new He((s,l)=>s-l),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||Sn.empty();f=l.applyToLocalView(h,f),r.set(u,f);const m=(i.get(l.batchId)||fe()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,m=b_();f.forEach(g=>{if(!o.has(g)){const E=W_(n.get(g),r.get(g));E!==null&&m.set(g,E),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,m))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):B.resolve(ui());let l=-1,u=o;return s.next(h=>B.forEach(h,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),o.get(f)?B.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,fe())).next(f=>({batchId:l,changes:j_(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=ms();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=ms();return this.indexManager.getCollectionParents(e,o).next(l=>B.forEach(l,u=>{const h=function(m,g){return new Vu(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((m,g)=>{s=s.insert(m,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,h)=>{const f=h.getKey();s.get(f)===null&&(s=s.insert(f,Dt.newInvalidDocument(f)))});let l=ms();return s.forEach((u,h)=>{const f=o.get(u);f!==void 0&&ks(f.mutation,h,Sn.empty(),at.now()),Mu(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:On(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:nC(i.bundledQuery),readTime:On(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.overlays=new He(re.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ui();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=ui(),o=n.length+1,s=new re(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new He((h,f)=>h-f);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=o.get(h.largestBatchId);f===null&&(f=ui(),o=o.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=ui(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return B.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new NR(n,r));let o=this.Ir.get(n);o===void 0&&(o=fe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this.Tr=new yt(lt.Er),this.dr=new yt(lt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new lt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new lt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new re(new be([])),r=new lt(n,e),i=new lt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new re(new be([])),r=new lt(n,e),i=new lt(n,e+1);let o=fe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new lt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return re.comparator(e.key,n.key)||Te(e.wr,n.wr)}static Ar(e,n){return Te(e.wr,n.wr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new yt(lt.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new DR(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.br=this.br.add(new lt(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const l=this.Dr(s.wr);o.push(l)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(Te);return n.forEach(i=>{const o=new lt(i,0),s=new lt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],l=>{r=r.add(l.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;re.isDocumentKey(o)||(o=o.child(""));const s=new lt(new re(o),0);let l=new yt(Te);return this.br.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.wr)),!0)},s),B.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,i=>{const o=new lt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new lt(n,0),i=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.Mr=e,this.docs=function(){return new He(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=nr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Dt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=nr();const s=n.path,l=new re(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||qI(QI(f),r)<=0||(i.has(f.key)||Mu(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,i){se()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fC(this)}getSize(e){return B.resolve(this.size)}}class fC extends oC{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.persistence=e,this.Nr=new ko(n=>af(n),lf),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Lr=0,this.Br=new mf,this.targetCount=0,this.kr=_o.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new nf(0),this.Kr=!1,this.Kr=!0,this.$r=new cC,this.referenceDelegate=e(this),this.Ur=new pC(this),this.indexManager=new rC,this.remoteDocumentCache=function(i){return new dC(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new tC(n),this.Gr=new lC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new hC(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new gC(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class gC extends YI{constructor(e){super(),this.currentSequenceNumber=e}}class gf{constructor(e){this.persistence=e,this.Jr=new mf,this.Yr=null}static Zr(e){return new gf(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const i=re.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,le.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=fe(),i=fe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new yf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return wS()?8:XI(_S())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new yC;return this.Xi(e,n,s).next(l=>{if(o.result=l,this.zi)return this.es(e,n,s,l.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(as()<=ve.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Oi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(as()<=ve.DEBUG&&J("QueryEngine","Query:",Oi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(as()<=ve.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Oi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ln(n))):B.resolve())}Yi(e,n){if(rg(n))return B.resolve(null);let r=Ln(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wh(n,null,"F"),r=Ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=fe(...o);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.ts(n,l);return this.ns(n,h,s,u.readTime)?this.Yi(e,Wh(n,null,"F")):this.rs(e,h,n,u)}))})))}Zi(e,n,r,i){return rg(n)||i.isEqual(le.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?B.resolve(null):(as()<=ve.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Oi(n)),this.rs(e,s,n,KI(i,-1)).next(l=>l))})}ts(e,n){let r=new yt(O_(e));return n.forEach((i,o)=>{Mu(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return as()<=ve.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Oi(n)),this.Ji.getDocumentsMatchingQuery(e,n,Mr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new He(Te),this._s=new ko(o=>af(o),lf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function EC(t,e,n,r){return new _C(t,e,n,r)}async function r0(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=fe();for(const h of i){s.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of o){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({hs:h,removedBatchIds:s,addedBatchIds:l}))})})}function wC(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const m=h.batch,g=m.keys();let E=B.resolve();return g.forEach(P=>{E=E.next(()=>f.getEntry(u,P)).next(D=>{const N=h.docVersions.get(P);Ce(N!==null),D.version.compareTo(N)<0&&(m.applyToRemoteDocument(D,h),D.isValidDocument()&&(D.setReadTime(h.commitVersion),f.addEntry(D)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=fe();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function i0(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function TC(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((f,m)=>{const g=i.get(m);if(!g)return;l.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,m)));let E=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(_t.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,r)),i=i.insert(m,E),function(D,N,S){return D.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,E,f)&&l.push(n.Ur.updateTargetData(o,E))});let u=nr(),h=fe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(SC(o,s,e.documentUpdates).next(f=>{u=f.Ps,h=f.Is})),!r.isEqual(le.min())){const f=n.Ur.getLastRemoteSnapshotVersion(o).next(m=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(f)}return B.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,h)).next(()=>u)}).then(o=>(n.os=i,o))}function SC(t,e,n){let r=fe(),i=fe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=nr();return n.forEach((l,u)=>{const h=o.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function IC(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RC(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Er(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Yh(t,e,n){const r=ue(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!pa(s))throw s;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function pg(t,e,n){const r=ue(t);let i=le.min(),o=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,h,f){const m=ue(u),g=m._s.get(f);return g!==void 0?B.resolve(m.os.get(g)):m.Ur.getTargetData(h,f)}(r,s,Ln(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:le.min(),n?o:fe())).next(l=>(CC(r,gR(e),l),{documents:l,Ts:o})))}function CC(t,e,n){let r=t.us.get(e)||le.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class mg{constructor(){this.activeTargetIds=TR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AC{constructor(){this.so=new mg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new mg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl=null;function Lc(){return sl===null?sl=function(){return 268435456+Math.round(2147483648*Math.random())}():sl++,"0x"+sl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class DC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const l=Lc(),u=this.xo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,o,s),this.No(n,u,h,i).then(f=>(J("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw mo("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,l){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Po}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=xC[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Lc();return new Promise((s,l)=>{const u=new __;u.setWithCredentials(!0),u.listenOnce(E_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case wl.NO_ERROR:const f=u.getResponseJson();J(Pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case wl.TIMEOUT:J(Pt,`RPC '${e}' ${o} timed out`),l(new ne(U.DEADLINE_EXCEEDED,"Request time out"));break;case wl.HTTP_ERROR:const m=u.getStatus();if(J(Pt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const P=function(N){const S=N.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(S)>=0?S:U.UNKNOWN}(E.status);l(new ne(P,E.message))}else l(new ne(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ne(U.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{J(Pt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);J(Pt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=Lc(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=S_(),l=T_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");J(Pt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=s.createWebChannel(f,u);let g=!1,E=!1;const P=new kC({Io:N=>{E?J(Pt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(J(Pt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),J(Pt,`RPC '${e}' stream ${i} sending:`,N),m.send(N))},To:()=>m.close()}),D=(N,S,_)=>{N.listen(S,A=>{try{_(A)}catch(M){setTimeout(()=>{throw M},0)}})};return D(m,ps.EventType.OPEN,()=>{E||(J(Pt,`RPC '${e}' stream ${i} transport opened.`),P.yo())}),D(m,ps.EventType.CLOSE,()=>{E||(E=!0,J(Pt,`RPC '${e}' stream ${i} transport closed`),P.So())}),D(m,ps.EventType.ERROR,N=>{E||(E=!0,mo(Pt,`RPC '${e}' stream ${i} transport errored:`,N),P.So(new ne(U.UNAVAILABLE,"The operation could not be completed")))}),D(m,ps.EventType.MESSAGE,N=>{var S;if(!E){const _=N.data[0];Ce(!!_);const A=_,M=A.error||((S=A[0])===null||S===void 0?void 0:S.error);if(M){J(Pt,`RPC '${e}' stream ${i} received error:`,M);const z=M.status;let H=function(v){const w=et[v];if(w!==void 0)return Q_(w)}(z),T=M.message;H===void 0&&(H=U.INTERNAL,T="Unknown error status: "+z+" with message "+M.message),E=!0,P.So(new ne(H,T)),m.close()}else J(Pt,`RPC '${e}' stream ${i} received:`,_),P.bo(_)}}),D(l,w_.STAT_EVENT,N=>{N.stat===Uh.PROXY?J(Pt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Uh.NOPROXY&&J(Pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.wo()},0),P}}function Mc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){return new BR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n,r,i,o,s,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new o0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ne(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NC extends s0{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=HR(this.serializer,e),r=function(o){if(!("targetChange"in o))return le.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?On(s.readTime):le.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Gh(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=Hh(u)?{documents:QR(o,u)}:{query:qR(o,u)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=Y_(o,s.resumeToken);const h=Kh(o,s.expectedCount);h!==null&&(l.expectedCount=h)}else if(s.snapshotVersion.compareTo(le.min())>0){l.readTime=au(o,s.snapshotVersion.toTimestamp());const h=Kh(o,s.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=YR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Gh(this.serializer),n.removeTarget=e,this.a_(n)}}class VC extends s0{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=KR(e.writeResults,e.commitTime),r=On(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Gh(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>WR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ne(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Qh(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(U.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,Qh(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(U.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class MC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(tr(n),this.D_=!1):J("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Ii(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=ue(u);h.L_.add(4),await ya(h),h.q_.set("Unknown"),h.L_.delete(4),await Uu(h)}(this))})}),this.q_=new MC(r,i)}}async function Uu(t){if(Ii(t))for(const e of t.B_)await e(!0)}async function ya(t){for(const e of t.B_)await e(!1)}function a0(t,e){const n=ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),wf(n)?Ef(n):Do(n).r_()&&_f(n,e))}function vf(t,e){const n=ue(t),r=Do(n);n.N_.delete(e),r.r_()&&l0(n,e),n.N_.size===0&&(r.r_()?r.o_():Ii(n)&&n.q_.set("Unknown"))}function _f(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(t).A_(e)}function l0(t,e){t.Q_.xe(e),Do(t).R_(e)}function Ef(t){t.Q_=new FR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Do(t).start(),t.q_.v_()}function wf(t){return Ii(t)&&!Do(t).n_()&&t.N_.size>0}function Ii(t){return ue(t).L_.size===0}function u0(t){t.Q_=void 0}async function FC(t){t.q_.set("Online")}async function jC(t){t.N_.forEach((e,n)=>{_f(t,e)})}async function bC(t,e){u0(t),wf(t)?(t.q_.M_(e),Ef(t)):t.q_.set("Unknown")}async function UC(t,e,n){if(t.q_.set("Online"),e instanceof G_&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lu(t,r)}else if(e instanceof Il?t.Q_.Ke(e):e instanceof q_?t.Q_.He(e):t.Q_.We(e),!n.isEqual(le.min()))try{const r=await i0(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.Q_.rt(s);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.N_.get(h);f&&o.N_.set(h,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,h)=>{const f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(_t.EMPTY_BYTE_STRING,f.snapshotVersion)),l0(o,u);const m=new Er(f.target,u,h,f.sequenceNumber);_f(o,m)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await lu(t,r)}}async function lu(t,e,n){if(!pa(e))throw e;t.L_.add(1),await ya(t),t.q_.set("Offline"),n||(n=()=>i0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Uu(t)})}function c0(t,e){return e().catch(n=>lu(t,n,e))}async function Bu(t){const e=ue(t),n=Fr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;BC(e);)try{const i=await IC(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,zC(e,i)}catch(i){await lu(e,i)}h0(e)&&d0(e)}function BC(t){return Ii(t)&&t.O_.length<10}function zC(t,e){t.O_.push(e);const n=Fr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function h0(t){return Ii(t)&&!Fr(t).n_()&&t.O_.length>0}function d0(t){Fr(t).start()}async function $C(t){Fr(t).p_()}async function HC(t){const e=Fr(t);for(const n of t.O_)e.m_(n.mutations)}async function WC(t,e,n){const r=t.O_.shift(),i=df.from(r,e,n);await c0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bu(t)}async function KC(t,e){e&&Fr(t).V_&&await async function(r,i){if(function(s){return LR(s)&&s!==U.ABORTED}(i.code)){const o=r.O_.shift();Fr(r).s_(),await c0(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Bu(r)}}(t,e),h0(t)&&d0(t)}async function yg(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Ii(n);n.L_.add(3),await ya(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Uu(n)}async function QC(t,e){const n=ue(t);e?(n.L_.delete(2),await Uu(n)):e||(n.L_.add(2),await ya(n),n.q_.set("Unknown"))}function Do(t){return t.K_||(t.K_=function(n,r,i){const o=ue(n);return o.w_(),new NC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:FC.bind(null,t),Ro:jC.bind(null,t),mo:bC.bind(null,t),d_:UC.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),wf(t)?Ef(t):t.q_.set("Unknown")):(await t.K_.stop(),u0(t))})),t.K_}function Fr(t){return t.U_||(t.U_=function(n,r,i){const o=ue(n);return o.w_(),new VC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:$C.bind(null,t),mo:KC.bind(null,t),f_:HC.bind(null,t),g_:WC.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Bu(t)):(await t.U_.stop(),t.O_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new Tf(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sf(t,e){if(tr("AsyncQueue",`${e}: ${t}`),pa(t))return new ne(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=ms(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new oo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.W_=new He(re.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Eo{constructor(e,n,r,i,o,s,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new Eo(e,n,oo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class GC{constructor(){this.queries=_g(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ue(n),o=i.queries;i.queries=_g(),o.forEach((s,l)=>{for(const u of l.j_)u.onError(r)})})(this,new ne(U.ABORTED,"Firestore shutting down"))}}function _g(){return new ko(t=>M_(t),Lu)}async function f0(t,e){const n=ue(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new qC,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=Sf(s,`Initialization of query '${Oi(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&If(n)}async function p0(t,e){const n=ue(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YC(t,e){const n=ue(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.j_)l.X_(i)&&(r=!0);s.z_=i}}r&&If(n)}function XC(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function If(t){t.Y_.forEach(e=>{e.next()})}var Xh,Eg;(Eg=Xh||(Xh={})).ea="default",Eg.Cache="cache";class m0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Xh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.key=e}}class y0{constructor(e){this.key=e}}class JC{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fe(),this.mutatedKeys=fe(),this.Aa=O_(e),this.Ra=new oo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new vg,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const g=i.get(f),E=Mu(this.query,m)?m:null,P=!!g&&this.mutatedKeys.has(g.key),D=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;g&&E?g.data.isEqual(E.data)?P!==D&&(r.track({type:3,doc:E}),N=!0):this.ga(g,E)||(r.track({type:2,doc:E}),N=!0,(u&&this.Aa(E,u)>0||h&&this.Aa(E,h)<0)&&(l=!0)):!g&&E?(r.track({type:0,doc:E}),N=!0):g&&!E&&(r.track({type:1,doc:g}),N=!0,(u||h)&&(l=!0)),N&&(E?(s=s.add(E),o=D?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:l,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((f,m)=>function(E,P){const D=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return D(E)-D(P)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,h=u!==this.Ea;return this.Ea=u,s.length!==0||h?{snapshot:new Eo(this.query,e.Ra,o,s,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new y0(r))}),this.da.forEach(r=>{e.has(r)||n.push(new g0(r))}),n}ba(e){this.Ta=e.Ts,this.da=fe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Eo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class ZC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eA{constructor(e){this.key=e,this.va=!1}}class tA{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ko(l=>M_(l),Lu),this.Ma=new Map,this.xa=new Set,this.Oa=new He(re.comparator),this.Na=new Map,this.La=new mf,this.Ba={},this.ka=new Map,this.qa=_o.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function nA(t,e,n=!0){const r=S0(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await v0(r,e,n,!0),i}async function rA(t,e){const n=S0(t);await v0(n,e,!0,!1)}async function v0(t,e,n,r){const i=await RC(t.localStore,Ln(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await iA(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&a0(t.remoteStore,i),l}async function iA(t,e,n,r,i){t.Ka=(m,g,E)=>async function(D,N,S,_){let A=N.view.ma(S);A.ns&&(A=await pg(D.localStore,N.query,!1).then(({documents:T})=>N.view.ma(T,A)));const M=_&&_.targetChanges.get(N.targetId),z=_&&_.targetMismatches.get(N.targetId)!=null,H=N.view.applyChanges(A,D.isPrimaryClient,M,z);return Tg(D,N.targetId,H.wa),H.snapshot}(t,m,g,E);const o=await pg(t.localStore,e,!0),s=new JC(e,o.Ts),l=s.ma(o.documents),u=ga.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=s.applyChanges(l,t.isPrimaryClient,u);Tg(t,n,h.wa);const f=new ZC(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function oA(t,e,n){const r=ue(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Lu(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vf(r.remoteStore,i.targetId),Jh(r,i.targetId)}).catch(fa)):(Jh(r,i.targetId),await Yh(r.localStore,i.targetId,!0))}async function sA(t,e){const n=ue(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vf(n.remoteStore,r.targetId))}async function aA(t,e,n){const r=pA(t);try{const i=await function(s,l){const u=ue(s),h=at.now(),f=l.reduce((E,P)=>E.add(P.key),fe());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let P=nr(),D=fe();return u.cs.getEntries(E,f).next(N=>{P=N,P.forEach((S,_)=>{_.isValidDocument()||(D=D.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,P)).next(N=>{m=N;const S=[];for(const _ of l){const A=xR(_,m.get(_.key).overlayedDocument);A!=null&&S.push(new Si(_.key,A,P_(A.value.mapValue),Mn.exists(!0)))}return u.mutationQueue.addMutationBatch(E,h,S,l)}).next(N=>{g=N;const S=N.applyToLocalDocumentSet(m,D);return u.documentOverlayCache.saveOverlays(E,N.batchId,S)})}).then(()=>({batchId:g.batchId,changes:j_(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let h=s.Ba[s.currentUser.toKey()];h||(h=new He(Te)),h=h.insert(l,u),s.Ba[s.currentUser.toKey()]=h}(r,i.batchId,n),await va(r,i.changes),await Bu(r.remoteStore)}catch(i){const o=Sf(i,"Failed to persist write");n.reject(o)}}async function _0(t,e){const n=ue(t);try{const r=await TC(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ce(s.va):i.removedDocuments.size>0&&(Ce(s.va),s.va=!1))}),await va(n,r,e)}catch(r){await fa(r)}}function wg(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const l=s.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=ue(s);u.onlineState=l;let h=!1;u.queries.forEach((f,m)=>{for(const g of m.j_)g.Z_(l)&&(h=!0)}),h&&If(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lA(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new He(re.comparator);s=s.insert(o,Dt.newNoDocument(o,le.min()));const l=fe().add(o),u=new ju(le.min(),new Map,new He(Te),s,l);await _0(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Rf(r)}else await Yh(r.localStore,e,!1).then(()=>Jh(r,e,n)).catch(fa)}async function uA(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await wC(n.localStore,e);w0(n,r,null),E0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await va(n,i)}catch(i){await fa(i)}}async function cA(t,e,n){const r=ue(t);try{const i=await function(s,l){const u=ue(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(m=>(Ce(m!==null),f=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);w0(r,e,n),E0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await va(r,i)}catch(i){await fa(i)}}function E0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function w0(t,e,n){const r=ue(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Jh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||T0(t,r)})}function T0(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(vf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Rf(t))}function Tg(t,e,n){for(const r of n)r instanceof g0?(t.La.addReference(r.key,e),hA(t,r)):r instanceof y0?(J("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||T0(t,r.key)):se()}function hA(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(J("SyncEngine","New document in limbo: "+n),t.xa.add(r),Rf(t))}function Rf(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new re(be.fromString(e)),r=t.qa.next();t.Na.set(r,new eA(n)),t.Oa=t.Oa.insert(n,r),a0(t.remoteStore,new Er(Ln(uf(n.path)),r,"TargetPurposeLimboResolution",nf.oe))}}async function va(t,e,n){const r=ue(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{s.push(r.Ka(u,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){i.push(h);const m=yf.Wi(u.targetId,h);o.push(m)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(u,h){const f=ue(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>B.forEach(h,g=>B.forEach(g.$i,E=>f.persistence.referenceDelegate.addReference(m,g.targetId,E)).next(()=>B.forEach(g.Ui,E=>f.persistence.referenceDelegate.removeReference(m,g.targetId,E)))))}catch(m){if(!pa(m))throw m;J("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const E=f.os.get(g),P=E.snapshotVersion,D=E.withLastLimboFreeSnapshotVersion(P);f.os=f.os.insert(g,D)}}}(r.localStore,o))}async function dA(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await r0(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(l=>{l.forEach(u=>{u.reject(new ne(U.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await va(n,r.hs)}}function fA(t,e){const n=ue(t),r=n.Na.get(e);if(r&&r.va)return fe().add(r.key);{let i=fe();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const l=n.Fa.get(s);i=i.unionWith(l.view.Va)}return i}}function S0(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lA.bind(null,e),e.Ca.d_=YC.bind(null,e.eventManager),e.Ca.$a=XC.bind(null,e.eventManager),e}function pA(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cA.bind(null,e),e}class uu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return EC(this.persistence,new vC,e.initialUser,this.serializer)}Ga(e){return new mC(gf.Zr,this.serializer)}Wa(e){return new AC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uu.provider={build:()=>new uu};class Zh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dA.bind(null,this.syncEngine),await QC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GC}()}createDatastore(e){const n=bu(e.databaseInfo.databaseId),r=function(o){return new DC(o)}(e.databaseInfo);return function(o,s,l,u){return new LC(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new OC(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>wg(this.syncEngine,n,0),function(){return gg.D()?new gg:new PC}())}createSyncEngine(e,n){return function(i,o,s,l,u,h,f){const m=new tA(i,o,s,l,u,h);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ue(i);J("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await ya(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zh.provider={build:()=>new Zh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=R_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{J("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Oc(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await r0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Sg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gA(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>yg(e.remoteStore,i)),t._onlineComponents=e}async function gA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await Oc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Oc(t,new uu)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await Oc(t,new uu);return t._offlineComponents}async function R0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await Sg(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await Sg(t,new Zh))),t._onlineComponents}function yA(t){return R0(t).then(e=>e.syncEngine)}async function C0(t){const e=await R0(t),n=e.eventManager;return n.onListen=nA.bind(null,e.syncEngine),n.onUnlisten=oA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sA.bind(null,e.syncEngine),n}function vA(t,e,n={}){const r=new Gn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,h){const f=new I0({next:g=>{f.Za(),s.enqueueAndForget(()=>p0(o,m));const E=g.docs.has(l);!E&&g.fromCache?h.reject(new ne(U.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&g.fromCache&&u&&u.source==="server"?h.reject(new ne(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new m0(uf(l.path),f,{includeMetadataChanges:!0,_a:!0});return f0(o,m)}(await C0(t),t.asyncQueue,e,n,r)),r.promise}function _A(t,e,n={}){const r=new Gn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,h){const f=new I0({next:g=>{f.Za(),s.enqueueAndForget(()=>p0(o,m)),g.fromCache&&u.source==="server"?h.reject(new ne(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new m0(l,f,{includeMetadataChanges:!0,_a:!0});return f0(o,m)}(await C0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t,e,n){if(!n)throw new ne(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EA(t,e,n,r){if(e===!0&&r===!0)throw new ne(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rg(t){if(!re.isDocumentKey(t))throw new ne(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cg(t){if(re.isDocumentKey(t))throw new ne(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cf(t);throw new ne(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ne(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ag({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ag(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FI;switch(r.type){case"firstParty":return new BI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ig.get(n);r&&(J("ComponentProvider","Removing Datastore"),Ig.delete(n),r.terminate())}(this),Promise.resolve()}}function wA(t,e,n,r={}){var i;const o=(t=jr(t,zu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=xt.MOCK_USER;else{l=vS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ne(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new xt(h)}t._authCredentials=new jI(new I_(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $u(this.firestore,e,this._query)}}class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class Nr extends $u{constructor(e,n,r){super(e,n,uf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new re(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function TA(t,e,...n){if(t=Xs(t),P0("collection","path",e),t instanceof zu){const r=be.fromString(e,...n);return Cg(r),new Nr(t,null,r)}{if(!(t instanceof Jt||t instanceof Nr))throw new ne(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return Cg(r),new Nr(t.firestore,null,r)}}function Fc(t,e,...n){if(t=Xs(t),arguments.length===1&&(e=R_.newId()),P0("doc","path",e),t instanceof zu){const r=be.fromString(e,...n);return Rg(r),new Jt(t,null,new re(r))}{if(!(t instanceof Jt||t instanceof Nr))throw new ne(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return Rg(r),new Jt(t.firestore,t instanceof Nr?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new o0(this,"async_queue_retry"),this.Vu=()=>{const r=Mc();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Mc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Mc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Gn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!pa(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Tf.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class _a extends zu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Pg,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pg(e),this._firestoreClient=void 0,await e}}}function SA(t,e){const n=typeof t=="object"?t:AI(),r=typeof t=="string"?t:"(default)",i=SI(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=gS("firestore");o&&wA(i,...o)}return i}function Af(t){if(t._terminated)throw new ne(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IA(t),t._firestoreClient}function IA(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,h,f){return new eR(l,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,A0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new mA(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo(_t.fromBase64String(e))}catch(n){throw new ne(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wo(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=/^__.*__$/;class CA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Si(e,this.data,this.fieldMask,n,this.fieldTransforms):new ma(e,this.data,n,this.fieldTransforms)}}function k0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Df{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Df(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return cu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(k0(this.Cu)&&RA.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class AA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bu(e)}Qu(e,n,r,i=!1){return new Df({Cu:e,methodName:n,qu:r,path:mt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PA(t){const e=t._freezeSettings(),n=bu(t._databaseId);return new AA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xA(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);L0("Data must be an object, but it was:",s,r);const l=N0(r,s);let u,h;if(o.merge)u=new Sn(s.fieldMask),h=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const m of o.mergeFields){const g=kA(e,m,n);if(!s.contains(g))throw new ne(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);NA(f,g)||f.push(g)}u=new Sn(f),h=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=s.fieldTransforms;return new CA(new ln(l),u,h)}function D0(t,e){if(V0(t=Xs(t)))return L0("Unsupported field value:",e,t),N0(t,e);if(t instanceof x0)return function(r,i){if(!k0(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=D0(l,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Xs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=at.fromDate(r);return{timestampValue:au(i.serializer,o)}}if(r instanceof at){const o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:au(i.serializer,o)}}if(r instanceof xf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wo)return{bytesValue:Y_(i.serializer,r._byteString)};if(r instanceof Jt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:pf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kf)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return cf(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Cf(r)}`)}(t,e)}function N0(t,e){const n={};return C_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(t,(r,i)=>{const o=D0(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function V0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof xf||t instanceof wo||t instanceof Jt||t instanceof x0||t instanceof kf)}function L0(t,e,n){if(!V0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Cf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function kA(t,e,n){if((e=Xs(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return M0(t,e);throw cu("Field path arguments must be of type string or ",t,!1,void 0,n)}const DA=new RegExp("[~\\*/\\[\\]]");function M0(t,e,n){if(e.search(DA)>=0)throw cu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pf(...e.split("."))._internalPath}catch{throw cu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ne(U.INVALID_ARGUMENT,l+t+u)}function NA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(F0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VA extends O0{data(){return super.data()}}function F0(t,e){return typeof e=="string"?M0(t,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MA{convertValue(e,n="none"){switch(Ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ye(s.doubleValue));return new kf(o)}convertGeoPoint(e){return new xf(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=of(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ta(e));default:return null}}convertTimestamp(e){const n=Or(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=be.fromString(e);Ce(n0(r));const i=new na(r.get(1),r.get(3)),o=new re(r.popFirst(5));return i.isEqual(n)||tr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class j0 extends O0{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(F0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rl extends j0{data(e={}){return super.data(e)}}class FA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ys(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rl(this._firestore,this._userDataWriter,r.key,r,new ys(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new Rl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ys(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new Rl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ys(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:jA(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){t=jr(t,Jt);const e=jr(t.firestore,_a);return vA(Af(e),t._key).then(n=>$A(e,t,n))}class b0 extends MA{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function UA(t){t=jr(t,$u);const e=jr(t.firestore,_a),n=Af(e),r=new b0(e);return LA(t._query),_A(n,t._query).then(i=>new FA(e,r,t,i))}function BA(t,e,n){t=jr(t,Jt);const r=jr(t.firestore,_a),i=OA(t.converter,e);return U0(r,[xA(PA(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Mn.none())])}function zA(t){return U0(jr(t.firestore,_a),[new hf(t._key,Mn.none())])}function U0(t,e){return function(r,i){const o=new Gn;return r.asyncQueue.enqueueAndForget(async()=>aA(await yA(r),i,o)),o.promise}(Af(t),e)}function $A(t,e,n){const r=n.docs.get(e._key),i=new b0(t);return new j0(t,i,e._key,r,new ys(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Po=i})(CI),tu(new Js("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new _a(new bI(r.getProvider("auth-internal")),new $I(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ne(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new na(h.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),io(Qm,"4.7.3",e),io(Qm,"4.7.3","esm2017")})();var HA="firebase",WA="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */io(HA,WA,"app");const KA={apiKey:void 0,authDomain:"meucliente-63947.firebaseapp.com",projectId:"meucliente-63947",storageBucket:"meucliente-63947.appspot.com",messagingSenderId:"304304117559",appId:"1:304304117559:web:2150292b94eaffe6256cb2"},QA=m_(KA),al=SA(QA),No=F.createContext();/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B0=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...l},u)=>F.createElement("svg",{ref:u,...GA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:B0("lucide",i),...l},[...s.map(([h,f])=>F.createElement(h,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=(t,e)=>{const n=F.forwardRef(({className:r,...i},o)=>F.createElement(YA,{ref:o,iconNode:e,className:B0(`lucide-${qA(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Nf("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=Nf("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Nf("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Hu(t){return j.jsx("h1",{className:"text-4xl",children:t.children})}function Ge(t){return j.jsx("li",{children:j.jsxs("div",{className:"flex justify-between bg-slate-100 rounded-md p-1 ",children:[j.jsx("p",{className:"pl-2",children:t.item}),j.jsx("div",{className:"pr-2",children:t.children})]})})}function JA(t){const e=t.clientId,{clients:n,updateClients:r}=F.useContext(No),i=n.find(o=>o.id===Number(e));return j.jsx("div",{children:j.jsxs("ul",{className:"space-y-1",children:[j.jsx(Ge,{item:"Data:",children:i.data}),j.jsx(Ge,{item:"Cidade:",children:i.cidade}),j.jsx(Ge,{item:"Nº celular:",children:i.phone}),j.jsx(Ge,{item:"Nº de convidados:",children:i.convidados===null&&"?"||i.convidados}),j.jsx(Ge,{item:"Data disponível?",children:j.jsx("button",{onClick:()=>r(Number(e),{isDataAvailable:!i.isDataAvailable}),children:i.isDataAvailable&&j.jsx(ni,{className:"text-green-700"})||j.jsx(ri,{className:"text-slate-400"})})}),j.jsx(Ge,{item:"Primeiro Contato:",children:j.jsx("button",{onClick:()=>r(Number(e),{isClienteContacted:!i.isClienteContacted}),children:i.isClienteContacted&&j.jsx(ni,{className:"text-green-700"})||j.jsx(ri,{className:"text-slate-400"})})}),j.jsx(Ge,{item:"Orçamento enviado?",children:j.jsx("button",{onClick:()=>r(Number(e),{isBudgetSentToClient:!i.isBudgetSentToClient}),children:i.isBudgetSentToClient&&j.jsx(ni,{className:"text-green-700"})||j.jsx(ri,{className:"text-slate-400"})})}),j.jsx(Ge,{item:"Feedback orçamento:",children:j.jsx("button",{onClick:()=>r(Number(e),{isBudgetResponded:!i.isBudgetResponded}),children:i.isBudgetResponded&&j.jsx(ni,{className:"text-green-700"})||j.jsx(ri,{className:"text-slate-400"})})}),j.jsx(Ge,{item:"Dados pra contrato:",children:j.jsx("button",{onClick:()=>r(Number(e),{isContractCreated:!i.isContractCreated}),children:i.isContractCreated&&j.jsx(ni,{className:"text-green-700"})||j.jsx(ri,{className:"text-slate-400"})})}),j.jsx(Ge,{item:"Entrada efetuada?",children:j.jsx("button",{onClick:()=>r(Number(e),{isDepositPaid:!i.isDepositPaid}),children:i.isDepositPaid&&j.jsx(ni,{className:"text-green-700"})||j.jsx(ri,{className:"text-slate-400"})})})]})})}function ZA(){const{clients:t,updateClients:e}=F.useContext(No),n=["Fazer primeiro contato","Enviar orçamento","Feedback do orçamento","Fazer contrato","Receber entrada","Venda finalizada"],r=Co(),[i]=a_(),o=i.get("id"),s=t.find(u=>u.id===Number(o)),l=[`Olá ${s.name}, sou o Alysson da banda DEGUSTASOM, tudo bem? Entro em contato pela solicitação de orçamento recebida. 
        Verifiquei sua data e ainda está disponível!
        Gostaria de confirmar contigo a cidade e o número aproximado de convidados que estão calculando, para poder te passar valores.`,`Olá ${s.name}, segue o orçamento solicitado.`,`Olá ${s.name}, tudo bem? O que acharam da nossa proposta? Está dentro do que estavam prevendo de orçamento pra música do casamento?`];return j.jsx("div",{className:"flex justify-center",children:j.jsxs("div",{className:"bg-slate-200 min-w-80 max-w-lg w-auto rounded-md flex-row space-y-3 p-4",children:[j.jsx(Hu,{children:s.name}),j.jsxs("p",{className:"rounded-md bg-blue-200 p-1 text-lg",children:["Status: ",n[s.clientStatus]]}),j.jsx("button",{onClick:()=>r(-1),className:"absolute left-0 top-0 bottom-0 text-lg",children:j.jsx(XA,{})}),j.jsx(JA,{clientId:o}),j.jsxs("div",{className:"flex space-x-2 justify-around py-5",children:[j.jsx("button",{onClick:()=>{const u=new URLSearchParams;u.set("id",s.id),r(`/meucliente/editclient?${u.toString()}`)},className:"bg-slate-50 rounded-md p-1 text-lg w-32",children:"Editar cliente"}),j.jsx("button",{onClick:()=>{s.name;const u=s.phone,h=l[s.clientStatus],f=encodeURIComponent(h);window.open(`https://api.whatsapp.com/send?phone=+55${u}&text=${f}`,"_blank")},className:"bg-green-300 rounded-md p-1 text-lg w-32",children:"Enviar mensagem"})]})]})})}function Vf(t){return j.jsx("p",{className:"bg-blue-300 rounded-md text-xl",children:t.children})}function eP(){const t=Co(),e=["Fazer primeiro contato","Enviar orçamento","Feedback do orçamento","Fazer contrato","Receber entrada","Venda finalizada"],{clients:n,updateClients:r}=F.useContext(No);return j.jsx("div",{className:"bg-slate-300 rounded-md flex justify-evenly flex-wrap gap-2 p-2 text-lg",children:n.map(i=>j.jsx("ul",{children:j.jsx("li",{children:j.jsxs("button",{className:"p-2 bg-slate-100 w-72 rounded-md shadow-md border-slate-500",onClick:()=>{const o=new URLSearchParams;o.set("id",i.id),t(`./client?${o.toString()}`)},children:[j.jsx("p",{className:"flex justify-center",children:i.name}),j.jsxs("p",{className:"text-slate-400",children:["Status: ",e[i.clientStatus]]})]})})},i.id))})}function tP(){window.onpopstate=function(e){location.reload()};const t=Co();return j.jsx("div",{className:"flex justify-center bg-slate-200 min-w-80 rounded-md p-2",children:j.jsxs("div",{className:"max-w-2xl min-w-80 space-y-1",children:[j.jsx(Hu,{children:"Meu Cliente"}),j.jsx(Vf,{children:"Fluxo pré-venda"}),j.jsx(eP,{}),j.jsx("button",{className:"bg-blue-200 rounded-md p-2 text-xl",onClick:()=>{t("./newclient")},children:"Adicionar novo cliente"})]})})}function nP(){const{clients:t,updateClients:e,addClient:n,setData:r,deleteData:i,getData:o,addIndicator:s}=F.useContext(No),l=Co(),u=Math.floor(Math.random()*9e9)+1e9,[h,f]=F.useState(""),m=x=>{f(x.target.value)},[g,E]=F.useState(Number),P=x=>{E(x.target.value)},[D,N]=F.useState(""),S=x=>{N(x.target.value)},[_,A]=F.useState(""),M=x=>{A(x.target.value)},[z,H]=F.useState(0),T=x=>{H(x.target.value)},[p,v]=F.useState(!1),w=x=>{v(!p)};F.useEffect(()=>{s&&l(-1)},[s]);let R={id:u,name:h,phone:g,data:D,cidade:_,convidados:z,isDataAvailable:p,clientStatus:0,isContacted:!1,isBudgetSentToClient:!1,isBudgetResponded:!1,isContractCreated:!1,isContractSigned:!1,isDepositPaid:!1,isTotalContractAmountPaid:!1};return j.jsx("div",{className:"flex justify-center bg-slate-200 min-w-80 rounded-md p-2",children:j.jsxs("div",{className:"max-w-2xl min-w-80 space-y-1",children:[j.jsx(Hu,{children:"Novo Cliente"}),j.jsx(Vf,{children:"Insira os dados abaixo:"}),j.jsxs("ul",{className:"space-y-1",children:[j.jsx(Ge,{item:"Nome:",children:j.jsx("input",{type:"text",onChange:m,className:"w-60 rounded-md",id:"clientName"})}),j.jsx(Ge,{item:"Celular:",children:j.jsx("input",{type:"text",onChange:P,className:"w-60 rounded-md",id:"clientPhone"})}),j.jsx(Ge,{item:"Data:",children:j.jsx("input",{type:"text",onChange:S,className:"w-60 rounded-md",id:"clientDate"})}),j.jsx(Ge,{item:"Cidade:",children:j.jsx("input",{type:"text",onChange:M,className:"w-60 rounded-md",id:"clientCity"})}),j.jsx(Ge,{item:"Nº de convidados:",children:j.jsx("input",{type:"text",onChange:T,className:"w-40 rounded-md",id:"clientGuests"})}),j.jsx(Ge,{item:"Data disponível?",children:j.jsx("button",{onClick:()=>w(),children:p&&j.jsx(ni,{className:"text-green-700"})||j.jsx(ri,{className:"text-slate-400"})})}),j.jsxs("div",{className:"flex space-x-2 justify-around py-5",children:[j.jsx("button",{className:"bg-red-200 rounded-md p-1 text-lg w-28",onClick:()=>{l(-1)},children:"Voltar"}),j.jsx("button",{className:"bg-blue-200 rounded-md p-1 text-lg w-28",onClick:()=>{h===""?alert("Não é possível criar um cliente sem nome, crie ao menos uma referência."):(console.log("type of newClient: ",typeof R),console.log("newClient: ",R),r("clientesdegusta",u,R))},children:"Salvar"})]})]})]})})}function rP(){const[t]=a_(),e=t.get("id"),{clients:n,updateClients:r,addClient:i,deleteData:o,dellIndicator:s}=F.useContext(No),l=n.find(v=>v.id===Number(e)),u=Co(),[h,f]=F.useState(l.name),m=v=>{f(v.target.value)},[g,E]=F.useState(l.phone),P=v=>{E(v.target.value)},[D,N]=F.useState(l.data),S=v=>{N(v.target.value)},[_,A]=F.useState(l.cidade),M=v=>{A(v.target.value)},[z,H]=F.useState(l.convidados),T=v=>{H(v.target.value)};let p={name:h,phone:g,data:D,cidade:_,convidados:z};return F.useEffect(()=>{s&&u(-2)},[s]),j.jsx("div",{className:"flex justify-center bg-slate-200 min-w-80 rounded-md p-2",children:j.jsxs("div",{className:"max-w-2xl min-w-80 space-y-1",children:[j.jsx(Hu,{children:"Editar Cliente"}),j.jsx(Vf,{children:l.name}),j.jsxs("ul",{className:"space-y-1",children:[j.jsx(Ge,{item:"Nome:",children:j.jsx("input",{type:"text",onChange:m,className:"w-60 rounded-md",id:"clientName",placeholder:l.name})}),j.jsx(Ge,{item:"Celular:",children:j.jsx("input",{type:"text",onChange:P,className:"w-60 rounded-md",id:"clientPhone",placeholder:l.phone})}),j.jsx(Ge,{item:"Data:",children:j.jsx("input",{type:"text",onChange:S,className:"w-60 rounded-md",id:"clientDate",placeholder:l.data})}),j.jsx(Ge,{item:"Cidade:",children:j.jsx("input",{type:"text",onChange:M,className:"w-60 rounded-md",id:"clientCity",placeholder:l.cidade})}),j.jsx(Ge,{item:"Nº de convidados:",children:j.jsx("input",{type:"text",onChange:T,className:"w-40 rounded-md",id:"clientGuests",placeholder:l.convidados})}),j.jsxs("div",{className:"flex space-x-2  justify-around py-5",children:[j.jsx("button",{className:"bg-red-200 rounded-md p-2 text-lg w-36",onClick:()=>{o("clientesdegusta",String(l.id))},children:"Excluir cliente"}),j.jsx("button",{className:"bg-blue-200 rounded-md p-2 text-lg w-36",onClick:()=>{r(l.id,p),u(-1)},children:"Salvar e Voltar"})]})]})]})})}function iP(){const t=async(E,P)=>{const D=Fc(al,E,String(P));return await bA(D)},e=async(E,P,D)=>{const N=Fc(al,E,String(P));try{await BA(N,D),g(!0)}catch(S){console.error("Error setting document:",S)}},n=async(E,P)=>{console.log("chamou delete data");const D=Fc(al,E,P);try{await zA(D),console.log(`Documento com ID ${P} foi apagado com sucesso!`),f(!0)}catch(N){console.error("Erro ao apagar o documento: ",N)}},r=async E=>{const P=TA(al,E);return(await UA(P)).docs.map(S=>({id:S.id,...S.data()}))},i=async()=>{const E=await r("clientesdegusta");s(E)},[o,s]=F.useState([{id:0,name:". . .",phone:0,data:"",cidade:"",convidados:0,isDataAvailable:!1,clientStatus:0,isContacted:!1,isBudgetSentToClient:!1,isBudgetResponded:!1,isContractCreated:!1,isContractSigned:!1,isDepositPaid:!1,isTotalContractAmountPaid:!1}]);window.onload=i;const l=(E,P)=>{s(D=>D.map(N=>N.id===E?{...N,...P}:N))},u=E=>{s(P=>[...P,{...E}])};F.useEffect(()=>{console.log("Clientes atualizados: ",o)},[o]);const[h,f]=F.useState(!1),[m,g]=F.useState(!1);return j.jsx(No.Provider,{value:{clients:o,updateClients:l,addClient:u,setData:e,getData:t,deleteData:n,dellIndicator:h,addIndicator:m},children:j.jsxs(WT,{children:[j.jsx(fs,{path:"/meucliente/",element:j.jsx(tP,{})}),j.jsx(fs,{path:"/meucliente/client/",element:j.jsx(ZA,{})}),j.jsx(fs,{path:"/meucliente/newclient/",element:j.jsx(nP,{})}),j.jsx(fs,{path:"/meucliente/editclient/",element:j.jsx(rP,{})})]})})}const oP=GT([{path:"*",element:j.jsx(iP,{})}]);$v(document.getElementById("root")).render(j.jsx(F.StrictMode,{children:j.jsx(iS,{router:oP})}));
