function Qg(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function fd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gg={exports:{}},yu={},Xg={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var da=Symbol.for("react.element"),IE=Symbol.for("react.portal"),CE=Symbol.for("react.fragment"),RE=Symbol.for("react.strict_mode"),AE=Symbol.for("react.profiler"),PE=Symbol.for("react.provider"),kE=Symbol.for("react.context"),xE=Symbol.for("react.forward_ref"),DE=Symbol.for("react.suspense"),NE=Symbol.for("react.memo"),VE=Symbol.for("react.lazy"),Ep=Symbol.iterator;function LE(t){return t===null||typeof t!="object"?null:(t=Ep&&t[Ep]||t["@@iterator"],typeof t=="function"?t:null)}var Yg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jg=Object.assign,Zg={};function Ro(t,e,n){this.props=t,this.context=e,this.refs=Zg,this.updater=n||Yg}Ro.prototype.isReactComponent={};Ro.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ro.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ey(){}ey.prototype=Ro.prototype;function pd(t,e,n){this.props=t,this.context=e,this.refs=Zg,this.updater=n||Yg}var md=pd.prototype=new ey;md.constructor=pd;Jg(md,Ro.prototype);md.isPureReactComponent=!0;var wp=Array.isArray,ty=Object.prototype.hasOwnProperty,gd={current:null},ny={key:!0,ref:!0,__self:!0,__source:!0};function ry(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)ty.call(e,r)&&!ny.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:da,type:t,key:o,ref:s,props:i,_owner:gd.current}}function ME(t,e){return{$$typeof:da,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yd(t){return typeof t=="object"&&t!==null&&t.$$typeof===da}function OE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tp=/\/+/g;function lc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OE(""+t.key):e.toString(36)}function pl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case da:case IE:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+lc(s,0):r,wp(i)?(n="",t!=null&&(n=t.replace(Tp,"$&/")+"/"),pl(i,e,n,"",function(c){return c})):i!=null&&(yd(i)&&(i=ME(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Tp,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",wp(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+lc(o,l);s+=pl(o,e,n,u,i)}else if(u=LE(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+lc(o,l++),s+=pl(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Wa(t,e,n){if(t==null)return t;var r=[],i=0;return pl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function FE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},ml={transition:null},bE={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:ml,ReactCurrentOwner:gd};function iy(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Wa,forEach:function(t,e,n){Wa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wa(t,function(){e++}),e},toArray:function(t){return Wa(t,function(e){return e})||[]},only:function(t){if(!yd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Ro;he.Fragment=CE;he.Profiler=AE;he.PureComponent=pd;he.StrictMode=RE;he.Suspense=DE;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bE;he.act=iy;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Jg({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=gd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)ty.call(e,u)&&!ny.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:da,type:t.type,key:i,ref:o,props:r,_owner:s}};he.createContext=function(t){return t={$$typeof:kE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PE,_context:t},t.Consumer=t};he.createElement=ry;he.createFactory=function(t){var e=ry.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:xE,render:t}};he.isValidElement=yd;he.lazy=function(t){return{$$typeof:VE,_payload:{_status:-1,_result:t},_init:FE}};he.memo=function(t,e){return{$$typeof:NE,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=ml.transition;ml.transition={};try{t()}finally{ml.transition=e}};he.unstable_act=iy;he.useCallback=function(t,e){return Ft.current.useCallback(t,e)};he.useContext=function(t){return Ft.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};he.useEffect=function(t,e){return Ft.current.useEffect(t,e)};he.useId=function(){return Ft.current.useId()};he.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Ft.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};he.useRef=function(t){return Ft.current.useRef(t)};he.useState=function(t){return Ft.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Ft.current.useTransition()};he.version="18.3.1";Xg.exports=he;var F=Xg.exports;const jE=fd(F),UE=Qg({__proto__:null,default:jE},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE=F,zE=Symbol.for("react.element"),$E=Symbol.for("react.fragment"),HE=Object.prototype.hasOwnProperty,WE=BE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qE={key:!0,ref:!0,__self:!0,__source:!0};function oy(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)HE.call(e,r)&&!qE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zE,type:t,key:o,ref:s,props:i,_owner:WE.current}}yu.Fragment=$E;yu.jsx=oy;yu.jsxs=oy;Gg.exports=yu;var b=Gg.exports,sy={exports:{}},nn={},ay={exports:{}},ly={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,G){var oe=K.length;K.push(G);e:for(;0<oe;){var Ie=oe-1>>>1,me=K[Ie];if(0<i(me,G))K[Ie]=G,K[oe]=me,oe=Ie;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var G=K[0],oe=K.pop();if(oe!==G){K[0]=oe;e:for(var Ie=0,me=K.length,Se=me>>>1;Ie<Se;){var wt=2*(Ie+1)-1,Vt=K[wt],nt=wt+1,ht=K[nt];if(0>i(Vt,oe))nt<me&&0>i(ht,Vt)?(K[Ie]=ht,K[nt]=oe,Ie=nt):(K[Ie]=Vt,K[wt]=oe,Ie=wt);else if(nt<me&&0>i(ht,oe))K[Ie]=ht,K[nt]=oe,Ie=nt;else break e}}return G}function i(K,G){var oe=K.sortIndex-G.sortIndex;return oe!==0?oe:K.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,m=null,g=3,E=!1,T=!1,A=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(K){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=K)r(c),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(c)}}function L(K){if(A=!1,R(K),!T)if(n(u)!==null)T=!0,qt(U);else{var G=n(c);G!==null&&jt(L,G.startTime-K)}}function U(K,G){T=!1,A&&(A=!1,w(p),p=-1),E=!0;var oe=g;try{for(R(G),m=n(u);m!==null&&(!(m.expirationTime>G)||K&&!P());){var Ie=m.callback;if(typeof Ie=="function"){m.callback=null,g=m.priorityLevel;var me=Ie(m.expirationTime<=G);G=t.unstable_now(),typeof me=="function"?m.callback=me:m===n(u)&&r(u),R(G)}else r(u);m=n(u)}if(m!==null)var Se=!0;else{var wt=n(c);wt!==null&&jt(L,wt.startTime-G),Se=!1}return Se}finally{m=null,g=oe,E=!1}}var $=!1,S=null,p=-1,_=5,I=-1;function P(){return!(t.unstable_now()-I<_)}function D(){if(S!==null){var K=t.unstable_now();I=K;var G=!0;try{G=S(!0,K)}finally{G?C():($=!1,S=null)}}else $=!1}var C;if(typeof v=="function")C=function(){v(D)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Et=Ee.port2;Ee.port1.onmessage=D,C=function(){Et.postMessage(null)}}else C=function(){x(D,0)};function qt(K){S=K,$||($=!0,C())}function jt(K,G){p=x(function(){K(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){T||E||(T=!0,qt(U))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(K){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var oe=g;g=G;try{return K()}finally{g=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,G){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var oe=g;g=K;try{return G()}finally{g=oe}},t.unstable_scheduleCallback=function(K,G,oe){var Ie=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ie+oe:Ie):oe=Ie,K){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=oe+me,K={id:f++,callback:G,priorityLevel:K,startTime:oe,expirationTime:me,sortIndex:-1},oe>Ie?(K.sortIndex=oe,e(c,K),n(u)===null&&K===n(c)&&(A?(w(p),p=-1):A=!0,jt(L,oe-Ie))):(K.sortIndex=me,e(u,K),T||E||(T=!0,qt(U))),K},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(K){var G=g;return function(){var oe=g;g=G;try{return K.apply(this,arguments)}finally{g=oe}}}})(ly);ay.exports=ly;var KE=ay.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE=F,en=KE;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uy=new Set,Fs={};function Ii(t,e){co(t,e),co(t+"Capture",e)}function co(t,e){for(Fs[t]=e,t=0;t<e.length;t++)uy.add(e[t])}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gc=Object.prototype.hasOwnProperty,GE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sp={},Ip={};function XE(t){return Gc.call(Ip,t)?!0:Gc.call(Sp,t)?!1:GE.test(t)?Ip[t]=!0:(Sp[t]=!0,!1)}function YE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JE(t,e,n,r){if(e===null||typeof e>"u"||YE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var vd=/[\-:]([a-z])/g;function _d(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vd,_d);vt[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vd,_d);vt[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vd,_d);vt[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ed(t,e,n,r){var i=vt.hasOwnProperty(e)?vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JE(e,n,i,r)&&(n=null),r||i===null?XE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var sr=QE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qa=Symbol.for("react.element"),$i=Symbol.for("react.portal"),Hi=Symbol.for("react.fragment"),wd=Symbol.for("react.strict_mode"),Xc=Symbol.for("react.profiler"),cy=Symbol.for("react.provider"),hy=Symbol.for("react.context"),Td=Symbol.for("react.forward_ref"),Yc=Symbol.for("react.suspense"),Jc=Symbol.for("react.suspense_list"),Sd=Symbol.for("react.memo"),gr=Symbol.for("react.lazy"),dy=Symbol.for("react.offscreen"),Cp=Symbol.iterator;function es(t){return t===null||typeof t!="object"?null:(t=Cp&&t[Cp]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,uc;function ds(t){if(uc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);uc=e&&e[1]||""}return`
`+uc+t}var cc=!1;function hc(t,e){if(!t||cc)return"";cc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{cc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ds(t):""}function ZE(t){switch(t.tag){case 5:return ds(t.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 2:case 15:return t=hc(t.type,!1),t;case 11:return t=hc(t.type.render,!1),t;case 1:return t=hc(t.type,!0),t;default:return""}}function Zc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hi:return"Fragment";case $i:return"Portal";case Xc:return"Profiler";case wd:return"StrictMode";case Yc:return"Suspense";case Jc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hy:return(t.displayName||"Context")+".Consumer";case cy:return(t._context.displayName||"Context")+".Provider";case Td:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sd:return e=t.displayName||null,e!==null?e:Zc(t.type)||"Memo";case gr:e=t._payload,t=t._init;try{return Zc(t(e))}catch{}}return null}function ew(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zc(e);case 8:return e===wd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tw(t){var e=fy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ka(t){t._valueTracker||(t._valueTracker=tw(t))}function py(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function eh(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Rp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Or(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function my(t,e){e=e.checked,e!=null&&Ed(t,"checked",e,!1)}function th(t,e){my(t,e);var n=Or(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nh(t,e.type,n):e.hasOwnProperty("defaultValue")&&nh(t,e.type,Or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ap(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nh(t,e,n){(e!=="number"||Nl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fs=Array.isArray;function no(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Or(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(fs(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Or(n)}}function gy(t,e){var n=Or(e.value),r=Or(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ih(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qa,vy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qa=Qa||document.createElement("div"),Qa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nw=["Webkit","ms","Moz","O"];Object.keys(Ss).forEach(function(t){nw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ss[e]=Ss[t]})});function _y(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ss.hasOwnProperty(t)&&Ss[t]?(""+e).trim():e+"px"}function Ey(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_y(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rw=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oh(t,e){if(e){if(rw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function sh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=null;function Id(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lh=null,ro=null,io=null;function xp(t){if(t=ma(t)){if(typeof lh!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Tu(e),lh(t.stateNode,t.type,e))}}function wy(t){ro?io?io.push(t):io=[t]:ro=t}function Ty(){if(ro){var t=ro,e=io;if(io=ro=null,xp(t),e)for(t=0;t<e.length;t++)xp(e[t])}}function Sy(t,e){return t(e)}function Iy(){}var dc=!1;function Cy(t,e,n){if(dc)return t(e,n);dc=!0;try{return Sy(t,e,n)}finally{dc=!1,(ro!==null||io!==null)&&(Iy(),Ty())}}function js(t,e){var n=t.stateNode;if(n===null)return null;var r=Tu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var uh=!1;if(Zn)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){uh=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{uh=!1}function iw(t,e,n,r,i,o,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Is=!1,Vl=null,Ll=!1,ch=null,ow={onError:function(t){Is=!0,Vl=t}};function sw(t,e,n,r,i,o,s,l,u){Is=!1,Vl=null,iw.apply(ow,arguments)}function aw(t,e,n,r,i,o,s,l,u){if(sw.apply(this,arguments),Is){if(Is){var c=Vl;Is=!1,Vl=null}else throw Error(H(198));Ll||(Ll=!0,ch=c)}}function Ci(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ry(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dp(t){if(Ci(t)!==t)throw Error(H(188))}function lw(t){var e=t.alternate;if(!e){if(e=Ci(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Dp(i),t;if(o===r)return Dp(i),e;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Ay(t){return t=lw(t),t!==null?Py(t):null}function Py(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Py(t);if(e!==null)return e;t=t.sibling}return null}var ky=en.unstable_scheduleCallback,Np=en.unstable_cancelCallback,uw=en.unstable_shouldYield,cw=en.unstable_requestPaint,Ye=en.unstable_now,hw=en.unstable_getCurrentPriorityLevel,Cd=en.unstable_ImmediatePriority,xy=en.unstable_UserBlockingPriority,Ml=en.unstable_NormalPriority,dw=en.unstable_LowPriority,Dy=en.unstable_IdlePriority,vu=null,Ln=null;function fw(t){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(vu,t,void 0,(t.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:gw,pw=Math.log,mw=Math.LN2;function gw(t){return t>>>=0,t===0?32:31-(pw(t)/mw|0)|0}var Ga=64,Xa=4194304;function ps(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ol(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=ps(l):(o&=s,o!==0&&(r=ps(o)))}else s=n&~i,s!==0?r=ps(s):o!==0&&(r=ps(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rn(e),i=1<<n,r|=t[n],e&=~i;return r}function yw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Rn(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=yw(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function hh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ny(){var t=Ga;return Ga<<=1,!(Ga&4194240)&&(Ga=64),t}function fc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rn(e),t[e]=n}function _w(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Rd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function Vy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ly,Ad,My,Oy,Fy,dh=!1,Ya=[],Ir=null,Cr=null,Rr=null,Us=new Map,Bs=new Map,vr=[],Ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vp(t,e){switch(t){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Us.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(e.pointerId)}}function ns(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ma(e),e!==null&&Ad(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ww(t,e,n,r,i){switch(e){case"focusin":return Ir=ns(Ir,t,e,n,r,i),!0;case"dragenter":return Cr=ns(Cr,t,e,n,r,i),!0;case"mouseover":return Rr=ns(Rr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Us.set(o,ns(Us.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Bs.set(o,ns(Bs.get(o)||null,t,e,n,r,i)),!0}return!1}function by(t){var e=li(t.target);if(e!==null){var n=Ci(e);if(n!==null){if(e=n.tag,e===13){if(e=Ry(n),e!==null){t.blockedOn=e,Fy(t.priority,function(){My(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ah=r,n.target.dispatchEvent(r),ah=null}else return e=ma(n),e!==null&&Ad(e),t.blockedOn=n,!1;e.shift()}return!0}function Lp(t,e,n){gl(t)&&n.delete(e)}function Tw(){dh=!1,Ir!==null&&gl(Ir)&&(Ir=null),Cr!==null&&gl(Cr)&&(Cr=null),Rr!==null&&gl(Rr)&&(Rr=null),Us.forEach(Lp),Bs.forEach(Lp)}function rs(t,e){t.blockedOn===e&&(t.blockedOn=null,dh||(dh=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,Tw)))}function zs(t){function e(i){return rs(i,t)}if(0<Ya.length){rs(Ya[0],t);for(var n=1;n<Ya.length;n++){var r=Ya[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ir!==null&&rs(Ir,t),Cr!==null&&rs(Cr,t),Rr!==null&&rs(Rr,t),Us.forEach(e),Bs.forEach(e),n=0;n<vr.length;n++)r=vr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vr.length&&(n=vr[0],n.blockedOn===null);)by(n),n.blockedOn===null&&vr.shift()}var oo=sr.ReactCurrentBatchConfig,Fl=!0;function Sw(t,e,n,r){var i=Ce,o=oo.transition;oo.transition=null;try{Ce=1,Pd(t,e,n,r)}finally{Ce=i,oo.transition=o}}function Iw(t,e,n,r){var i=Ce,o=oo.transition;oo.transition=null;try{Ce=4,Pd(t,e,n,r)}finally{Ce=i,oo.transition=o}}function Pd(t,e,n,r){if(Fl){var i=fh(t,e,n,r);if(i===null)Sc(t,e,r,bl,n),Vp(t,r);else if(ww(i,t,e,n,r))r.stopPropagation();else if(Vp(t,r),e&4&&-1<Ew.indexOf(t)){for(;i!==null;){var o=ma(i);if(o!==null&&Ly(o),o=fh(t,e,n,r),o===null&&Sc(t,e,r,bl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Sc(t,e,r,null,n)}}var bl=null;function fh(t,e,n,r){if(bl=null,t=Id(r),t=li(t),t!==null)if(e=Ci(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ry(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bl=t,null}function jy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hw()){case Cd:return 1;case xy:return 4;case Ml:case dw:return 16;case Dy:return 536870912;default:return 16}default:return 16}}var Er=null,kd=null,yl=null;function Uy(){if(yl)return yl;var t,e=kd,n=e.length,r,i="value"in Er?Er.value:Er.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return yl=i.slice(t,1<r?1-r:void 0)}function vl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ja(){return!0}function Mp(){return!1}function rn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ja:Mp,this.isPropagationStopped=Mp,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ja)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ja)},persist:function(){},isPersistent:Ja}),e}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xd=rn(Ao),pa=$e({},Ao,{view:0,detail:0}),Cw=rn(pa),pc,mc,is,_u=$e({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==is&&(is&&t.type==="mousemove"?(pc=t.screenX-is.screenX,mc=t.screenY-is.screenY):mc=pc=0,is=t),pc)},movementY:function(t){return"movementY"in t?t.movementY:mc}}),Op=rn(_u),Rw=$e({},_u,{dataTransfer:0}),Aw=rn(Rw),Pw=$e({},pa,{relatedTarget:0}),gc=rn(Pw),kw=$e({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),xw=rn(kw),Dw=$e({},Ao,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nw=rn(Dw),Vw=$e({},Ao,{data:0}),Fp=rn(Vw),Lw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ow={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ow[t])?!!e[t]:!1}function Dd(){return Fw}var bw=$e({},pa,{key:function(t){if(t.key){var e=Lw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dd,charCode:function(t){return t.type==="keypress"?vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jw=rn(bw),Uw=$e({},_u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bp=rn(Uw),Bw=$e({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dd}),zw=rn(Bw),$w=$e({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hw=rn($w),Ww=$e({},_u,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qw=rn(Ww),Kw=[9,13,27,32],Nd=Zn&&"CompositionEvent"in window,Cs=null;Zn&&"documentMode"in document&&(Cs=document.documentMode);var Qw=Zn&&"TextEvent"in window&&!Cs,By=Zn&&(!Nd||Cs&&8<Cs&&11>=Cs),jp=" ",Up=!1;function zy(t,e){switch(t){case"keyup":return Kw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $y(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wi=!1;function Gw(t,e){switch(t){case"compositionend":return $y(e);case"keypress":return e.which!==32?null:(Up=!0,jp);case"textInput":return t=e.data,t===jp&&Up?null:t;default:return null}}function Xw(t,e){if(Wi)return t==="compositionend"||!Nd&&zy(t,e)?(t=Uy(),yl=kd=Er=null,Wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return By&&e.locale!=="ko"?null:e.data;default:return null}}var Yw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yw[t.type]:e==="textarea"}function Hy(t,e,n,r){wy(r),e=jl(e,"onChange"),0<e.length&&(n=new xd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rs=null,$s=null;function Jw(t){tv(t,0)}function Eu(t){var e=Qi(t);if(py(e))return t}function Zw(t,e){if(t==="change")return e}var Wy=!1;if(Zn){var yc;if(Zn){var vc="oninput"in document;if(!vc){var zp=document.createElement("div");zp.setAttribute("oninput","return;"),vc=typeof zp.oninput=="function"}yc=vc}else yc=!1;Wy=yc&&(!document.documentMode||9<document.documentMode)}function $p(){Rs&&(Rs.detachEvent("onpropertychange",qy),$s=Rs=null)}function qy(t){if(t.propertyName==="value"&&Eu($s)){var e=[];Hy(e,$s,t,Id(t)),Cy(Jw,e)}}function e1(t,e,n){t==="focusin"?($p(),Rs=e,$s=n,Rs.attachEvent("onpropertychange",qy)):t==="focusout"&&$p()}function t1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eu($s)}function n1(t,e){if(t==="click")return Eu(e)}function r1(t,e){if(t==="input"||t==="change")return Eu(e)}function i1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:i1;function Hs(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gc.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function Hp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wp(t,e){var n=Hp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hp(n)}}function Ky(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ky(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qy(){for(var t=window,e=Nl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nl(t.document)}return e}function Vd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function o1(t){var e=Qy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ky(n.ownerDocument.documentElement,n)){if(r!==null&&Vd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Wp(n,o);var s=Wp(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var s1=Zn&&"documentMode"in document&&11>=document.documentMode,qi=null,ph=null,As=null,mh=!1;function qp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mh||qi==null||qi!==Nl(r)||(r=qi,"selectionStart"in r&&Vd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),As&&Hs(As,r)||(As=r,r=jl(ph,"onSelect"),0<r.length&&(e=new xd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qi)))}function Za(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ki={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionend:Za("Transition","TransitionEnd")},_c={},Gy={};Zn&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function wu(t){if(_c[t])return _c[t];if(!Ki[t])return t;var e=Ki[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gy)return _c[t]=e[n];return t}var Xy=wu("animationend"),Yy=wu("animationiteration"),Jy=wu("animationstart"),Zy=wu("transitionend"),ev=new Map,Kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(t,e){ev.set(t,e),Ii(e,[t])}for(var Ec=0;Ec<Kp.length;Ec++){var wc=Kp[Ec],a1=wc.toLowerCase(),l1=wc[0].toUpperCase()+wc.slice(1);zr(a1,"on"+l1)}zr(Xy,"onAnimationEnd");zr(Yy,"onAnimationIteration");zr(Jy,"onAnimationStart");zr("dblclick","onDoubleClick");zr("focusin","onFocus");zr("focusout","onBlur");zr(Zy,"onTransitionEnd");co("onMouseEnter",["mouseout","mouseover"]);co("onMouseLeave",["mouseout","mouseover"]);co("onPointerEnter",["pointerout","pointerover"]);co("onPointerLeave",["pointerout","pointerover"]);Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function Qp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aw(r,e,void 0,t),t.currentTarget=null}function tv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;Qp(i,l,c),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;Qp(i,l,c),o=u}}}if(Ll)throw t=ch,Ll=!1,ch=null,t}function Me(t,e){var n=e[Eh];n===void 0&&(n=e[Eh]=new Set);var r=t+"__bubble";n.has(r)||(nv(e,t,2,!1),n.add(r))}function Tc(t,e,n){var r=0;e&&(r|=4),nv(n,t,r,e)}var el="_reactListening"+Math.random().toString(36).slice(2);function Ws(t){if(!t[el]){t[el]=!0,uy.forEach(function(n){n!=="selectionchange"&&(u1.has(n)||Tc(n,!1,t),Tc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[el]||(e[el]=!0,Tc("selectionchange",!1,e))}}function nv(t,e,n,r){switch(jy(e)){case 1:var i=Sw;break;case 4:i=Iw;break;default:i=Pd}n=i.bind(null,e,n,t),i=void 0,!uh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=li(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Cy(function(){var c=o,f=Id(n),m=[];e:{var g=ev.get(t);if(g!==void 0){var E=xd,T=t;switch(t){case"keypress":if(vl(n)===0)break e;case"keydown":case"keyup":E=jw;break;case"focusin":T="focus",E=gc;break;case"focusout":T="blur",E=gc;break;case"beforeblur":case"afterblur":E=gc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Aw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=zw;break;case Xy:case Yy:case Jy:E=xw;break;case Zy:E=Hw;break;case"scroll":E=Cw;break;case"wheel":E=qw;break;case"copy":case"cut":case"paste":E=Nw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=bp}var A=(e&4)!==0,x=!A&&t==="scroll",w=A?g!==null?g+"Capture":null:g;A=[];for(var v=c,R;v!==null;){R=v;var L=R.stateNode;if(R.tag===5&&L!==null&&(R=L,w!==null&&(L=js(v,w),L!=null&&A.push(qs(v,L,R)))),x)break;v=v.return}0<A.length&&(g=new E(g,T,null,n,f),m.push({event:g,listeners:A}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",g&&n!==ah&&(T=n.relatedTarget||n.fromElement)&&(li(T)||T[er]))break e;if((E||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,E?(T=n.relatedTarget||n.toElement,E=c,T=T?li(T):null,T!==null&&(x=Ci(T),T!==x||T.tag!==5&&T.tag!==6)&&(T=null)):(E=null,T=c),E!==T)){if(A=Op,L="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(A=bp,L="onPointerLeave",w="onPointerEnter",v="pointer"),x=E==null?g:Qi(E),R=T==null?g:Qi(T),g=new A(L,v+"leave",E,n,f),g.target=x,g.relatedTarget=R,L=null,li(f)===c&&(A=new A(w,v+"enter",T,n,f),A.target=R,A.relatedTarget=x,L=A),x=L,E&&T)t:{for(A=E,w=T,v=0,R=A;R;R=Fi(R))v++;for(R=0,L=w;L;L=Fi(L))R++;for(;0<v-R;)A=Fi(A),v--;for(;0<R-v;)w=Fi(w),R--;for(;v--;){if(A===w||w!==null&&A===w.alternate)break t;A=Fi(A),w=Fi(w)}A=null}else A=null;E!==null&&Gp(m,g,E,A,!1),T!==null&&x!==null&&Gp(m,x,T,A,!0)}}e:{if(g=c?Qi(c):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var U=Zw;else if(Bp(g))if(Wy)U=r1;else{U=t1;var $=e1}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(U=n1);if(U&&(U=U(t,c))){Hy(m,U,n,f);break e}$&&$(t,g,c),t==="focusout"&&($=g._wrapperState)&&$.controlled&&g.type==="number"&&nh(g,"number",g.value)}switch($=c?Qi(c):window,t){case"focusin":(Bp($)||$.contentEditable==="true")&&(qi=$,ph=c,As=null);break;case"focusout":As=ph=qi=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,qp(m,n,f);break;case"selectionchange":if(s1)break;case"keydown":case"keyup":qp(m,n,f)}var S;if(Nd)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else Wi?zy(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(By&&n.locale!=="ko"&&(Wi||p!=="onCompositionStart"?p==="onCompositionEnd"&&Wi&&(S=Uy()):(Er=f,kd="value"in Er?Er.value:Er.textContent,Wi=!0)),$=jl(c,p),0<$.length&&(p=new Fp(p,t,null,n,f),m.push({event:p,listeners:$}),S?p.data=S:(S=$y(n),S!==null&&(p.data=S)))),(S=Qw?Gw(t,n):Xw(t,n))&&(c=jl(c,"onBeforeInput"),0<c.length&&(f=new Fp("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:c}),f.data=S))}tv(m,e)})}function qs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=js(t,n),o!=null&&r.unshift(qs(t,o,i)),o=js(t,e),o!=null&&r.push(qs(t,o,i))),t=t.return}return r}function Fi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gp(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=js(n,o),u!=null&&s.unshift(qs(n,u,l))):i||(u=js(n,o),u!=null&&s.push(qs(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var c1=/\r\n?/g,h1=/\u0000|\uFFFD/g;function Xp(t){return(typeof t=="string"?t:""+t).replace(c1,`
`).replace(h1,"")}function tl(t,e,n){if(e=Xp(e),Xp(t)!==e&&n)throw Error(H(425))}function Ul(){}var gh=null,yh=null;function vh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _h=typeof setTimeout=="function"?setTimeout:void 0,d1=typeof clearTimeout=="function"?clearTimeout:void 0,Yp=typeof Promise=="function"?Promise:void 0,f1=typeof queueMicrotask=="function"?queueMicrotask:typeof Yp<"u"?function(t){return Yp.resolve(null).then(t).catch(p1)}:_h;function p1(t){setTimeout(function(){throw t})}function Ic(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zs(e)}function Ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Po=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Po,Ks="__reactProps$"+Po,er="__reactContainer$"+Po,Eh="__reactEvents$"+Po,m1="__reactListeners$"+Po,g1="__reactHandles$"+Po;function li(t){var e=t[Vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[er]||n[Vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Jp(t);t!==null;){if(n=t[Vn])return n;t=Jp(t)}return e}t=n,n=t.parentNode}return null}function ma(t){return t=t[Vn]||t[er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Tu(t){return t[Ks]||null}var wh=[],Gi=-1;function $r(t){return{current:t}}function Oe(t){0>Gi||(t.current=wh[Gi],wh[Gi]=null,Gi--)}function De(t,e){Gi++,wh[Gi]=t.current,t.current=e}var Fr={},Nt=$r(Fr),$t=$r(!1),gi=Fr;function ho(t,e){var n=t.type.contextTypes;if(!n)return Fr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(t){return t=t.childContextTypes,t!=null}function Bl(){Oe($t),Oe(Nt)}function Zp(t,e,n){if(Nt.current!==Fr)throw Error(H(168));De(Nt,e),De($t,n)}function rv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,ew(t)||"Unknown",i));return $e({},n,r)}function zl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fr,gi=Nt.current,De(Nt,t),De($t,$t.current),!0}function em(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=rv(t,e,gi),r.__reactInternalMemoizedMergedChildContext=t,Oe($t),Oe(Nt),De(Nt,t)):Oe($t),De($t,n)}var Kn=null,Su=!1,Cc=!1;function iv(t){Kn===null?Kn=[t]:Kn.push(t)}function y1(t){Su=!0,iv(t)}function Hr(){if(!Cc&&Kn!==null){Cc=!0;var t=0,e=Ce;try{var n=Kn;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kn=null,Su=!1}catch(i){throw Kn!==null&&(Kn=Kn.slice(t+1)),ky(Cd,Hr),i}finally{Ce=e,Cc=!1}}return null}var Xi=[],Yi=0,$l=null,Hl=0,ln=[],un=0,yi=null,Gn=1,Xn="";function ni(t,e){Xi[Yi++]=Hl,Xi[Yi++]=$l,$l=t,Hl=e}function ov(t,e,n){ln[un++]=Gn,ln[un++]=Xn,ln[un++]=yi,yi=t;var r=Gn;t=Xn;var i=32-Rn(r)-1;r&=~(1<<i),n+=1;var o=32-Rn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Gn=1<<32-Rn(e)+i|n<<i|r,Xn=o+t}else Gn=1<<o|n<<i|r,Xn=t}function Ld(t){t.return!==null&&(ni(t,1),ov(t,1,0))}function Md(t){for(;t===$l;)$l=Xi[--Yi],Xi[Yi]=null,Hl=Xi[--Yi],Xi[Yi]=null;for(;t===yi;)yi=ln[--un],ln[un]=null,Xn=ln[--un],ln[un]=null,Gn=ln[--un],ln[un]=null}var Jt=null,Yt=null,be=!1,In=null;function sv(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function tm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jt=t,Yt=Ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jt=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yi!==null?{id:Gn,overflow:Xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jt=t,Yt=null,!0):!1;default:return!1}}function Th(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sh(t){if(be){var e=Yt;if(e){var n=e;if(!tm(t,e)){if(Th(t))throw Error(H(418));e=Ar(n.nextSibling);var r=Jt;e&&tm(t,e)?sv(r,n):(t.flags=t.flags&-4097|2,be=!1,Jt=t)}}else{if(Th(t))throw Error(H(418));t.flags=t.flags&-4097|2,be=!1,Jt=t}}}function nm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jt=t}function nl(t){if(t!==Jt)return!1;if(!be)return nm(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vh(t.type,t.memoizedProps)),e&&(e=Yt)){if(Th(t))throw av(),Error(H(418));for(;e;)sv(t,e),e=Ar(e.nextSibling)}if(nm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yt=Ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=Jt?Ar(t.stateNode.nextSibling):null;return!0}function av(){for(var t=Yt;t;)t=Ar(t.nextSibling)}function fo(){Yt=Jt=null,be=!1}function Od(t){In===null?In=[t]:In.push(t)}var v1=sr.ReactCurrentBatchConfig;function os(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function rl(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rm(t){var e=t._init;return e(t._payload)}function lv(t){function e(w,v){if(t){var R=w.deletions;R===null?(w.deletions=[v],w.flags|=16):R.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Dr(w,v),w.index=0,w.sibling=null,w}function o(w,v,R){return w.index=R,t?(R=w.alternate,R!==null?(R=R.index,R<v?(w.flags|=2,v):R):(w.flags|=2,v)):(w.flags|=1048576,v)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,v,R,L){return v===null||v.tag!==6?(v=Nc(R,w.mode,L),v.return=w,v):(v=i(v,R),v.return=w,v)}function u(w,v,R,L){var U=R.type;return U===Hi?f(w,v,R.props.children,L,R.key):v!==null&&(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===gr&&rm(U)===v.type)?(L=i(v,R.props),L.ref=os(w,v,R),L.return=w,L):(L=Cl(R.type,R.key,R.props,null,w.mode,L),L.ref=os(w,v,R),L.return=w,L)}function c(w,v,R,L){return v===null||v.tag!==4||v.stateNode.containerInfo!==R.containerInfo||v.stateNode.implementation!==R.implementation?(v=Vc(R,w.mode,L),v.return=w,v):(v=i(v,R.children||[]),v.return=w,v)}function f(w,v,R,L,U){return v===null||v.tag!==7?(v=pi(R,w.mode,L,U),v.return=w,v):(v=i(v,R),v.return=w,v)}function m(w,v,R){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Nc(""+v,w.mode,R),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qa:return R=Cl(v.type,v.key,v.props,null,w.mode,R),R.ref=os(w,null,v),R.return=w,R;case $i:return v=Vc(v,w.mode,R),v.return=w,v;case gr:var L=v._init;return m(w,L(v._payload),R)}if(fs(v)||es(v))return v=pi(v,w.mode,R,null),v.return=w,v;rl(w,v)}return null}function g(w,v,R,L){var U=v!==null?v.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return U!==null?null:l(w,v,""+R,L);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case qa:return R.key===U?u(w,v,R,L):null;case $i:return R.key===U?c(w,v,R,L):null;case gr:return U=R._init,g(w,v,U(R._payload),L)}if(fs(R)||es(R))return U!==null?null:f(w,v,R,L,null);rl(w,R)}return null}function E(w,v,R,L,U){if(typeof L=="string"&&L!==""||typeof L=="number")return w=w.get(R)||null,l(v,w,""+L,U);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case qa:return w=w.get(L.key===null?R:L.key)||null,u(v,w,L,U);case $i:return w=w.get(L.key===null?R:L.key)||null,c(v,w,L,U);case gr:var $=L._init;return E(w,v,R,$(L._payload),U)}if(fs(L)||es(L))return w=w.get(R)||null,f(v,w,L,U,null);rl(v,L)}return null}function T(w,v,R,L){for(var U=null,$=null,S=v,p=v=0,_=null;S!==null&&p<R.length;p++){S.index>p?(_=S,S=null):_=S.sibling;var I=g(w,S,R[p],L);if(I===null){S===null&&(S=_);break}t&&S&&I.alternate===null&&e(w,S),v=o(I,v,p),$===null?U=I:$.sibling=I,$=I,S=_}if(p===R.length)return n(w,S),be&&ni(w,p),U;if(S===null){for(;p<R.length;p++)S=m(w,R[p],L),S!==null&&(v=o(S,v,p),$===null?U=S:$.sibling=S,$=S);return be&&ni(w,p),U}for(S=r(w,S);p<R.length;p++)_=E(S,w,p,R[p],L),_!==null&&(t&&_.alternate!==null&&S.delete(_.key===null?p:_.key),v=o(_,v,p),$===null?U=_:$.sibling=_,$=_);return t&&S.forEach(function(P){return e(w,P)}),be&&ni(w,p),U}function A(w,v,R,L){var U=es(R);if(typeof U!="function")throw Error(H(150));if(R=U.call(R),R==null)throw Error(H(151));for(var $=U=null,S=v,p=v=0,_=null,I=R.next();S!==null&&!I.done;p++,I=R.next()){S.index>p?(_=S,S=null):_=S.sibling;var P=g(w,S,I.value,L);if(P===null){S===null&&(S=_);break}t&&S&&P.alternate===null&&e(w,S),v=o(P,v,p),$===null?U=P:$.sibling=P,$=P,S=_}if(I.done)return n(w,S),be&&ni(w,p),U;if(S===null){for(;!I.done;p++,I=R.next())I=m(w,I.value,L),I!==null&&(v=o(I,v,p),$===null?U=I:$.sibling=I,$=I);return be&&ni(w,p),U}for(S=r(w,S);!I.done;p++,I=R.next())I=E(S,w,p,I.value,L),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?p:I.key),v=o(I,v,p),$===null?U=I:$.sibling=I,$=I);return t&&S.forEach(function(D){return e(w,D)}),be&&ni(w,p),U}function x(w,v,R,L){if(typeof R=="object"&&R!==null&&R.type===Hi&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case qa:e:{for(var U=R.key,$=v;$!==null;){if($.key===U){if(U=R.type,U===Hi){if($.tag===7){n(w,$.sibling),v=i($,R.props.children),v.return=w,w=v;break e}}else if($.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===gr&&rm(U)===$.type){n(w,$.sibling),v=i($,R.props),v.ref=os(w,$,R),v.return=w,w=v;break e}n(w,$);break}else e(w,$);$=$.sibling}R.type===Hi?(v=pi(R.props.children,w.mode,L,R.key),v.return=w,w=v):(L=Cl(R.type,R.key,R.props,null,w.mode,L),L.ref=os(w,v,R),L.return=w,w=L)}return s(w);case $i:e:{for($=R.key;v!==null;){if(v.key===$)if(v.tag===4&&v.stateNode.containerInfo===R.containerInfo&&v.stateNode.implementation===R.implementation){n(w,v.sibling),v=i(v,R.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=Vc(R,w.mode,L),v.return=w,w=v}return s(w);case gr:return $=R._init,x(w,v,$(R._payload),L)}if(fs(R))return T(w,v,R,L);if(es(R))return A(w,v,R,L);rl(w,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,R),v.return=w,w=v):(n(w,v),v=Nc(R,w.mode,L),v.return=w,w=v),s(w)):n(w,v)}return x}var po=lv(!0),uv=lv(!1),Wl=$r(null),ql=null,Ji=null,Fd=null;function bd(){Fd=Ji=ql=null}function jd(t){var e=Wl.current;Oe(Wl),t._currentValue=e}function Ih(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function so(t,e){ql=t,Fd=Ji=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(Fd!==t)if(t={context:t,memoizedValue:e,next:null},Ji===null){if(ql===null)throw Error(H(308));Ji=t,ql.dependencies={lanes:0,firstContext:t}}else Ji=Ji.next=t;return e}var ui=null;function Ud(t){ui===null?ui=[t]:ui.push(t)}function cv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ud(e)):(n.next=i.next,i.next=n),e.interleaved=n,tr(t,r)}function tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yr=!1;function Bd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,tr(t,n)}return i=r.interleaved,i===null?(e.next=e,Ud(r)):(e.next=i.next,i.next=e),r.interleaved=e,tr(t,n)}function _l(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rd(t,n)}}function im(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kl(t,e,n,r){var i=t.updateQueue;yr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(o!==null){var m=i.baseState;s=0,f=c=u=null,l=o;do{var g=l.lane,E=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:E,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var T=t,A=l;switch(g=e,E=n,A.tag){case 1:if(T=A.payload,typeof T=="function"){m=T.call(E,m,g);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=A.payload,g=typeof T=="function"?T.call(E,m,g):T,g==null)break e;m=$e({},m,g);break e;case 2:yr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else E={eventTime:E,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=E,u=m):f=f.next=E,s|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);_i|=s,t.lanes=s,t.memoizedState=m}}function om(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var ga={},Mn=$r(ga),Qs=$r(ga),Gs=$r(ga);function ci(t){if(t===ga)throw Error(H(174));return t}function zd(t,e){switch(De(Gs,e),De(Qs,t),De(Mn,ga),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ih(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ih(e,t)}Oe(Mn),De(Mn,e)}function mo(){Oe(Mn),Oe(Qs),Oe(Gs)}function dv(t){ci(Gs.current);var e=ci(Mn.current),n=ih(e,t.type);e!==n&&(De(Qs,t),De(Mn,n))}function $d(t){Qs.current===t&&(Oe(Mn),Oe(Qs))}var Be=$r(0);function Ql(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rc=[];function Hd(){for(var t=0;t<Rc.length;t++)Rc[t]._workInProgressVersionPrimary=null;Rc.length=0}var El=sr.ReactCurrentDispatcher,Ac=sr.ReactCurrentBatchConfig,vi=0,ze=null,it=null,ut=null,Gl=!1,Ps=!1,Xs=0,_1=0;function Rt(){throw Error(H(321))}function Wd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function qd(t,e,n,r,i,o){if(vi=o,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,El.current=t===null||t.memoizedState===null?S1:I1,t=n(r,i),Ps){o=0;do{if(Ps=!1,Xs=0,25<=o)throw Error(H(301));o+=1,ut=it=null,e.updateQueue=null,El.current=C1,t=n(r,i)}while(Ps)}if(El.current=Xl,e=it!==null&&it.next!==null,vi=0,ut=it=ze=null,Gl=!1,e)throw Error(H(300));return t}function Kd(){var t=Xs!==0;return Xs=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?ze.memoizedState=ut=t:ut=ut.next=t,ut}function pn(){if(it===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ut===null?ze.memoizedState:ut.next;if(e!==null)ut=e,it=t;else{if(t===null)throw Error(H(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ut===null?ze.memoizedState=ut=t:ut=ut.next=t}return ut}function Ys(t,e){return typeof e=="function"?e(t):e}function Pc(t){var e=pn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=it,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var f=c.lane;if((vi&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=m,s=r):u=u.next=m,ze.lanes|=f,_i|=f}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=l,Pn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ze.lanes|=o,_i|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kc(t){var e=pn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Pn(o,e.memoizedState)||(zt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function fv(){}function pv(t,e){var n=ze,r=pn(),i=e(),o=!Pn(r.memoizedState,i);if(o&&(r.memoizedState=i,zt=!0),r=r.queue,Qd(yv.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Js(9,gv.bind(null,n,r,i,e),void 0,null),ct===null)throw Error(H(349));vi&30||mv(n,e,i)}return i}function mv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gv(t,e,n,r){e.value=n,e.getSnapshot=r,vv(e)&&_v(t)}function yv(t,e,n){return n(function(){vv(e)&&_v(t)})}function vv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function _v(t){var e=tr(t,1);e!==null&&An(e,t,1,-1)}function sm(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:t},e.queue=t,t=t.dispatch=T1.bind(null,ze,t),[e.memoizedState,t]}function Js(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ev(){return pn().memoizedState}function wl(t,e,n,r){var i=Nn();ze.flags|=t,i.memoizedState=Js(1|e,n,void 0,r===void 0?null:r)}function Iu(t,e,n,r){var i=pn();r=r===void 0?null:r;var o=void 0;if(it!==null){var s=it.memoizedState;if(o=s.destroy,r!==null&&Wd(r,s.deps)){i.memoizedState=Js(e,n,o,r);return}}ze.flags|=t,i.memoizedState=Js(1|e,n,o,r)}function am(t,e){return wl(8390656,8,t,e)}function Qd(t,e){return Iu(2048,8,t,e)}function wv(t,e){return Iu(4,2,t,e)}function Tv(t,e){return Iu(4,4,t,e)}function Sv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Iv(t,e,n){return n=n!=null?n.concat([t]):null,Iu(4,4,Sv.bind(null,e,t),n)}function Gd(){}function Cv(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Rv(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Av(t,e,n){return vi&21?(Pn(n,e)||(n=Ny(),ze.lanes|=n,_i|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function E1(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Ac.transition;Ac.transition={};try{t(!1),e()}finally{Ce=n,Ac.transition=r}}function Pv(){return pn().memoizedState}function w1(t,e,n){var r=xr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kv(t))xv(e,n);else if(n=cv(t,e,n,r),n!==null){var i=Ot();An(n,t,r,i),Dv(n,e,r)}}function T1(t,e,n){var r=xr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kv(t))xv(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Pn(l,s)){var u=e.interleaved;u===null?(i.next=i,Ud(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=cv(t,e,i,r),n!==null&&(i=Ot(),An(n,t,r,i),Dv(n,e,r))}}function kv(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function xv(t,e){Ps=Gl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Dv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rd(t,n)}}var Xl={readContext:fn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},S1={readContext:fn,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:am,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wl(4194308,4,Sv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wl(4194308,4,t,e)},useInsertionEffect:function(t,e){return wl(4,2,t,e)},useMemo:function(t,e){var n=Nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=w1.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:sm,useDebugValue:Gd,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=sm(!1),e=t[0];return t=E1.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,i=Nn();if(be){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),ct===null)throw Error(H(349));vi&30||mv(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,am(yv.bind(null,r,o,t),[t]),r.flags|=2048,Js(9,gv.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Nn(),e=ct.identifierPrefix;if(be){var n=Xn,r=Gn;n=(r&~(1<<32-Rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},I1={readContext:fn,useCallback:Cv,useContext:fn,useEffect:Qd,useImperativeHandle:Iv,useInsertionEffect:wv,useLayoutEffect:Tv,useMemo:Rv,useReducer:Pc,useRef:Ev,useState:function(){return Pc(Ys)},useDebugValue:Gd,useDeferredValue:function(t){var e=pn();return Av(e,it.memoizedState,t)},useTransition:function(){var t=Pc(Ys)[0],e=pn().memoizedState;return[t,e]},useMutableSource:fv,useSyncExternalStore:pv,useId:Pv,unstable_isNewReconciler:!1},C1={readContext:fn,useCallback:Cv,useContext:fn,useEffect:Qd,useImperativeHandle:Iv,useInsertionEffect:wv,useLayoutEffect:Tv,useMemo:Rv,useReducer:kc,useRef:Ev,useState:function(){return kc(Ys)},useDebugValue:Gd,useDeferredValue:function(t){var e=pn();return it===null?e.memoizedState=t:Av(e,it.memoizedState,t)},useTransition:function(){var t=kc(Ys)[0],e=pn().memoizedState;return[t,e]},useMutableSource:fv,useSyncExternalStore:pv,useId:Pv,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ch(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cu={isMounted:function(t){return(t=t._reactInternals)?Ci(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=xr(t),o=Yn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Pr(t,o,i),e!==null&&(An(e,t,i,r),_l(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=xr(t),o=Yn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Pr(t,o,i),e!==null&&(An(e,t,i,r),_l(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),r=xr(t),i=Yn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Pr(t,i,r),e!==null&&(An(e,t,r,n),_l(e,t,r))}};function lm(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Hs(n,r)||!Hs(i,o):!0}function Nv(t,e,n){var r=!1,i=Fr,o=e.contextType;return typeof o=="object"&&o!==null?o=fn(o):(i=Ht(e)?gi:Nt.current,r=e.contextTypes,o=(r=r!=null)?ho(t,i):Fr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function um(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cu.enqueueReplaceState(e,e.state,null)}function Rh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Bd(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=fn(o):(o=Ht(e)?gi:Nt.current,i.context=ho(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ch(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cu.enqueueReplaceState(i,i.state,null),Kl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function go(t,e){try{var n="",r=e;do n+=ZE(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function xc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ah(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var R1=typeof WeakMap=="function"?WeakMap:Map;function Vv(t,e,n){n=Yn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jl||(Jl=!0,Fh=r),Ah(t,e)},n}function Lv(t,e,n){n=Yn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ah(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ah(t,e),typeof r!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function cm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new R1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=U1.bind(null,t,e,n),e.then(t,t))}function hm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yn(-1,1),e.tag=2,Pr(n,e,1))),n.lanes|=1),t)}var A1=sr.ReactCurrentOwner,zt=!1;function Mt(t,e,n,r){e.child=t===null?uv(e,null,n,r):po(e,t.child,n,r)}function fm(t,e,n,r,i){n=n.render;var o=e.ref;return so(e,i),r=qd(t,e,n,r,o,i),n=Kd(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nr(t,e,i)):(be&&n&&Ld(e),e.flags|=1,Mt(t,e,r,i),e.child)}function pm(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!rf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Mv(t,e,o,r,i)):(t=Cl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Hs,n(s,r)&&t.ref===e.ref)return nr(t,e,i)}return e.flags|=1,t=Dr(o,r),t.ref=e.ref,t.return=e,e.child=t}function Mv(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Hs(o,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,nr(t,e,i)}return Ph(t,e,n,r,i)}function Ov(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(eo,Gt),Gt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(eo,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,De(eo,Gt),Gt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,De(eo,Gt),Gt|=r;return Mt(t,e,i,n),e.child}function Fv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ph(t,e,n,r,i){var o=Ht(n)?gi:Nt.current;return o=ho(e,o),so(e,i),n=qd(t,e,n,r,o,i),r=Kd(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nr(t,e,i)):(be&&r&&Ld(e),e.flags|=1,Mt(t,e,n,i),e.child)}function mm(t,e,n,r,i){if(Ht(n)){var o=!0;zl(e)}else o=!1;if(so(e,i),e.stateNode===null)Tl(t,e),Nv(e,n,r),Rh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=fn(c):(c=Ht(n)?gi:Nt.current,c=ho(e,c));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==c)&&um(e,s,r,c),yr=!1;var g=e.memoizedState;s.state=g,Kl(e,r,s,i),u=e.memoizedState,l!==r||g!==u||$t.current||yr?(typeof f=="function"&&(Ch(e,n,f,r),u=e.memoizedState),(l=yr||lm(e,n,l,r,g,u,c))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,hv(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:wn(e.type,l),s.props=c,m=e.pendingProps,g=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=fn(u):(u=Ht(n)?gi:Nt.current,u=ho(e,u));var E=n.getDerivedStateFromProps;(f=typeof E=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==m||g!==u)&&um(e,s,r,u),yr=!1,g=e.memoizedState,s.state=g,Kl(e,r,s,i);var T=e.memoizedState;l!==m||g!==T||$t.current||yr?(typeof E=="function"&&(Ch(e,n,E,r),T=e.memoizedState),(c=yr||lm(e,n,c,r,g,T,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,T,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,T,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),s.props=r,s.state=T,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return kh(t,e,n,r,o,i)}function kh(t,e,n,r,i,o){Fv(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&em(e,n,!1),nr(t,e,o);r=e.stateNode,A1.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=po(e,t.child,null,o),e.child=po(e,null,l,o)):Mt(t,e,l,o),e.memoizedState=r.state,i&&em(e,n,!0),e.child}function bv(t){var e=t.stateNode;e.pendingContext?Zp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zp(t,e.context,!1),zd(t,e.containerInfo)}function gm(t,e,n,r,i){return fo(),Od(i),e.flags|=256,Mt(t,e,n,r),e.child}var xh={dehydrated:null,treeContext:null,retryLane:0};function Dh(t){return{baseLanes:t,cachePool:null,transitions:null}}function jv(t,e,n){var r=e.pendingProps,i=Be.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(Be,i&1),t===null)return Sh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Pu(s,r,0,null),t=pi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Dh(n),e.memoizedState=xh,t):Xd(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return P1(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Dr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Dr(l,o):(o=pi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Dh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=xh,r}return o=t.child,t=o.sibling,r=Dr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xd(t,e){return e=Pu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function il(t,e,n,r){return r!==null&&Od(r),po(e,t.child,null,n),t=Xd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function P1(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=xc(Error(H(422))),il(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Pu({mode:"visible",children:r.children},i,0,null),o=pi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&po(e,t.child,null,s),e.child.memoizedState=Dh(s),e.memoizedState=xh,o);if(!(e.mode&1))return il(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(H(419)),r=xc(o,r,void 0),il(t,e,s,r)}if(l=(s&t.childLanes)!==0,zt||l){if(r=ct,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,tr(t,i),An(r,t,i,-1))}return nf(),r=xc(Error(H(421))),il(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=B1.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Yt=Ar(i.nextSibling),Jt=e,be=!0,In=null,t!==null&&(ln[un++]=Gn,ln[un++]=Xn,ln[un++]=yi,Gn=t.id,Xn=t.overflow,yi=e),e=Xd(e,r.children),e.flags|=4096,e)}function ym(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ih(t.return,e,n)}function Dc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Uv(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Mt(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ym(t,n,e);else if(t.tag===19)ym(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ql(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Dc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ql(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Dc(e,!0,n,null,o);break;case"together":Dc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_i|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Dr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function k1(t,e,n){switch(e.tag){case 3:bv(e),fo();break;case 5:dv(e);break;case 1:Ht(e.type)&&zl(e);break;case 4:zd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(Wl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?jv(t,e,n):(De(Be,Be.current&1),t=nr(t,e,n),t!==null?t.sibling:null);De(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Uv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,Ov(t,e,n)}return nr(t,e,n)}var Bv,Nh,zv,$v;Bv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nh=function(){};zv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ci(Mn.current);var o=null;switch(n){case"input":i=eh(t,i),r=eh(t,r),o=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),o=[];break;case"textarea":i=rh(t,i),r=rh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ul)}oh(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Me("scroll",t),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};$v=function(t,e,n,r){n!==r&&(e.flags|=4)};function ss(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function x1(t,e,n){var r=e.pendingProps;switch(Md(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return Ht(e.type)&&Bl(),At(e),null;case 3:return r=e.stateNode,mo(),Oe($t),Oe(Nt),Hd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,In!==null&&(Uh(In),In=null))),Nh(t,e),At(e),null;case 5:$d(e);var i=ci(Gs.current);if(n=e.type,t!==null&&e.stateNode!=null)zv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return At(e),null}if(t=ci(Mn.current),nl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Vn]=e,r[Ks]=o,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<ms.length;i++)Me(ms[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Rp(r,o),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Me("invalid",r);break;case"textarea":Pp(r,o),Me("invalid",r)}oh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&tl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&tl(r.textContent,l,t),i=["children",""+l]):Fs.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Me("scroll",r)}switch(n){case"input":Ka(r),Ap(r,o,!0);break;case"textarea":Ka(r),kp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ul)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Vn]=e,t[Ks]=r,Bv(t,e,!1,!1),e.stateNode=t;e:{switch(s=sh(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<ms.length;i++)Me(ms[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":Rp(t,r),i=eh(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),Me("invalid",t);break;case"textarea":Pp(t,r),i=rh(t,r),Me("invalid",t);break;default:i=r}oh(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?Ey(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&vy(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&bs(t,u):typeof u=="number"&&bs(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fs.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Me("scroll",t):u!=null&&Ed(t,o,u,s))}switch(n){case"input":Ka(t),Ap(t,r,!1);break;case"textarea":Ka(t),kp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Or(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?no(t,!!r.multiple,o,!1):r.defaultValue!=null&&no(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ul)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)$v(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=ci(Gs.current),ci(Mn.current),nl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vn]=e,(o=r.nodeValue!==n)&&(t=Jt,t!==null))switch(t.tag){case 3:tl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=e,e.stateNode=r}return At(e),null;case 13:if(Oe(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&Yt!==null&&e.mode&1&&!(e.flags&128))av(),fo(),e.flags|=98560,o=!1;else if(o=nl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(H(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Vn]=e}else fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),o=!1}else In!==null&&(Uh(In),In=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?st===0&&(st=3):nf())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return mo(),Nh(t,e),t===null&&Ws(e.stateNode.containerInfo),At(e),null;case 10:return jd(e.type._context),At(e),null;case 17:return Ht(e.type)&&Bl(),At(e),null;case 19:if(Oe(Be),o=e.memoizedState,o===null)return At(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ss(o,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ql(t),s!==null){for(e.flags|=128,ss(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Be,Be.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ye()>yo&&(e.flags|=128,r=!0,ss(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ql(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ss(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!be)return At(e),null}else 2*Ye()-o.renderingStartTime>yo&&n!==1073741824&&(e.flags|=128,r=!0,ss(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ye(),e.sibling=null,n=Be.current,De(Be,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return tf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function D1(t,e){switch(Md(e),e.tag){case 1:return Ht(e.type)&&Bl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mo(),Oe($t),Oe(Nt),Hd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $d(e),null;case 13:if(Oe(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Be),null;case 4:return mo(),null;case 10:return jd(e.type._context),null;case 22:case 23:return tf(),null;case 24:return null;default:return null}}var ol=!1,xt=!1,N1=typeof WeakSet=="function"?WeakSet:Set,X=null;function Zi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function Vh(t,e,n){try{n()}catch(r){qe(t,e,r)}}var vm=!1;function V1(t,e){if(gh=Fl,t=Qy(),Vd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,f=0,m=t,g=null;t:for(;;){for(var E;m!==n||i!==0&&m.nodeType!==3||(l=s+i),m!==o||r!==0&&m.nodeType!==3||(u=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(E=m.firstChild)!==null;)g=m,m=E;for(;;){if(m===t)break t;if(g===n&&++c===i&&(l=s),g===o&&++f===r&&(u=s),(E=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=E}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(yh={focusedElem:t,selectionRange:n},Fl=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var A=T.memoizedProps,x=T.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?A:wn(e.type,A),x);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(L){qe(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return T=vm,vm=!1,T}function ks(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Vh(e,n,o)}i=i.next}while(i!==r)}}function Ru(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Hv(t){var e=t.alternate;e!==null&&(t.alternate=null,Hv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[Ks],delete e[Eh],delete e[m1],delete e[g1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Wv(t){return t.tag===5||t.tag===3||t.tag===4}function _m(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ul));else if(r!==4&&(t=t.child,t!==null))for(Mh(t,e,n),t=t.sibling;t!==null;)Mh(t,e,n),t=t.sibling}function Oh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Oh(t,e,n),t=t.sibling;t!==null;)Oh(t,e,n),t=t.sibling}var ft=null,Tn=!1;function pr(t,e,n){for(n=n.child;n!==null;)qv(t,e,n),n=n.sibling}function qv(t,e,n){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(vu,n)}catch{}switch(n.tag){case 5:xt||Zi(n,e);case 6:var r=ft,i=Tn;ft=null,pr(t,e,n),ft=r,Tn=i,ft!==null&&(Tn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(Tn?(t=ft,n=n.stateNode,t.nodeType===8?Ic(t.parentNode,n):t.nodeType===1&&Ic(t,n),zs(t)):Ic(ft,n.stateNode));break;case 4:r=ft,i=Tn,ft=n.stateNode.containerInfo,Tn=!0,pr(t,e,n),ft=r,Tn=i;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Vh(n,e,s),i=i.next}while(i!==r)}pr(t,e,n);break;case 1:if(!xt&&(Zi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){qe(n,e,l)}pr(t,e,n);break;case 21:pr(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,pr(t,e,n),xt=r):pr(t,e,n);break;default:pr(t,e,n)}}function Em(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new N1),e.forEach(function(r){var i=z1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:ft=l.stateNode,Tn=!1;break e;case 3:ft=l.stateNode.containerInfo,Tn=!0;break e;case 4:ft=l.stateNode.containerInfo,Tn=!0;break e}l=l.return}if(ft===null)throw Error(H(160));qv(o,s,i),ft=null,Tn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){qe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Kv(e,t),e=e.sibling}function Kv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),Dn(t),r&4){try{ks(3,t,t.return),Ru(3,t)}catch(A){qe(t,t.return,A)}try{ks(5,t,t.return)}catch(A){qe(t,t.return,A)}}break;case 1:En(e,t),Dn(t),r&512&&n!==null&&Zi(n,n.return);break;case 5:if(En(e,t),Dn(t),r&512&&n!==null&&Zi(n,n.return),t.flags&32){var i=t.stateNode;try{bs(i,"")}catch(A){qe(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&my(i,o),sh(l,s);var c=sh(l,o);for(s=0;s<u.length;s+=2){var f=u[s],m=u[s+1];f==="style"?Ey(i,m):f==="dangerouslySetInnerHTML"?vy(i,m):f==="children"?bs(i,m):Ed(i,f,m,c)}switch(l){case"input":th(i,o);break;case"textarea":gy(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?no(i,!!o.multiple,E,!1):g!==!!o.multiple&&(o.defaultValue!=null?no(i,!!o.multiple,o.defaultValue,!0):no(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ks]=o}catch(A){qe(t,t.return,A)}}break;case 6:if(En(e,t),Dn(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(A){qe(t,t.return,A)}}break;case 3:if(En(e,t),Dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(e.containerInfo)}catch(A){qe(t,t.return,A)}break;case 4:En(e,t),Dn(t);break;case 13:En(e,t),Dn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Zd=Ye())),r&4&&Em(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(c=xt)||f,En(e,t),xt=c):En(e,t),Dn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(X=t,f=t.child;f!==null;){for(m=X=f;X!==null;){switch(g=X,E=g.child,g.tag){case 0:case 11:case 14:case 15:ks(4,g,g.return);break;case 1:Zi(g,g.return);var T=g.stateNode;if(typeof T.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(A){qe(r,n,A)}}break;case 5:Zi(g,g.return);break;case 22:if(g.memoizedState!==null){Tm(m);continue}}E!==null?(E.return=g,X=E):Tm(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,u=m.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=_y("display",s))}catch(A){qe(t,t.return,A)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(A){qe(t,t.return,A)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:En(e,t),Dn(t),r&4&&Em(t);break;case 21:break;default:En(e,t),Dn(t)}}function Dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Wv(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bs(i,""),r.flags&=-33);var o=_m(t);Oh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=_m(t);Mh(t,l,s);break;default:throw Error(H(161))}}catch(u){qe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function L1(t,e,n){X=t,Qv(t)}function Qv(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var i=X,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ol;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||xt;l=ol;var c=xt;if(ol=s,(xt=u)&&!c)for(X=i;X!==null;)s=X,u=s.child,s.tag===22&&s.memoizedState!==null?Sm(i):u!==null?(u.return=s,X=u):Sm(i);for(;o!==null;)X=o,Qv(o),o=o.sibling;X=i,ol=l,xt=c}wm(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,X=o):wm(t)}}function wm(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||Ru(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&om(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}om(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&zs(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}xt||e.flags&512&&Lh(e)}catch(g){qe(e,e.return,g)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function Tm(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Sm(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ru(4,e)}catch(u){qe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){qe(e,i,u)}}var o=e.return;try{Lh(e)}catch(u){qe(e,o,u)}break;case 5:var s=e.return;try{Lh(e)}catch(u){qe(e,s,u)}}}catch(u){qe(e,e.return,u)}if(e===t){X=null;break}var l=e.sibling;if(l!==null){l.return=e.return,X=l;break}X=e.return}}var M1=Math.ceil,Yl=sr.ReactCurrentDispatcher,Yd=sr.ReactCurrentOwner,dn=sr.ReactCurrentBatchConfig,_e=0,ct=null,tt=null,gt=0,Gt=0,eo=$r(0),st=0,Zs=null,_i=0,Au=0,Jd=0,xs=null,Bt=null,Zd=0,yo=1/0,qn=null,Jl=!1,Fh=null,kr=null,sl=!1,wr=null,Zl=0,Ds=0,bh=null,Sl=-1,Il=0;function Ot(){return _e&6?Ye():Sl!==-1?Sl:Sl=Ye()}function xr(t){return t.mode&1?_e&2&&gt!==0?gt&-gt:v1.transition!==null?(Il===0&&(Il=Ny()),Il):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:jy(t.type)),t):1}function An(t,e,n,r){if(50<Ds)throw Ds=0,bh=null,Error(H(185));fa(t,n,r),(!(_e&2)||t!==ct)&&(t===ct&&(!(_e&2)&&(Au|=n),st===4&&_r(t,gt)),Wt(t,r),n===1&&_e===0&&!(e.mode&1)&&(yo=Ye()+500,Su&&Hr()))}function Wt(t,e){var n=t.callbackNode;vw(t,e);var r=Ol(t,t===ct?gt:0);if(r===0)n!==null&&Np(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Np(n),e===1)t.tag===0?y1(Im.bind(null,t)):iv(Im.bind(null,t)),f1(function(){!(_e&6)&&Hr()}),n=null;else{switch(Vy(r)){case 1:n=Cd;break;case 4:n=xy;break;case 16:n=Ml;break;case 536870912:n=Dy;break;default:n=Ml}n=n_(n,Gv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Gv(t,e){if(Sl=-1,Il=0,_e&6)throw Error(H(327));var n=t.callbackNode;if(ao()&&t.callbackNode!==n)return null;var r=Ol(t,t===ct?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=eu(t,r);else{e=r;var i=_e;_e|=2;var o=Yv();(ct!==t||gt!==e)&&(qn=null,yo=Ye()+500,fi(t,e));do try{b1();break}catch(l){Xv(t,l)}while(!0);bd(),Yl.current=o,_e=i,tt!==null?e=0:(ct=null,gt=0,e=st)}if(e!==0){if(e===2&&(i=hh(t),i!==0&&(r=i,e=jh(t,i))),e===1)throw n=Zs,fi(t,0),_r(t,r),Wt(t,Ye()),n;if(e===6)_r(t,r);else{if(i=t.current.alternate,!(r&30)&&!O1(i)&&(e=eu(t,r),e===2&&(o=hh(t),o!==0&&(r=o,e=jh(t,o))),e===1))throw n=Zs,fi(t,0),_r(t,r),Wt(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:ri(t,Bt,qn);break;case 3:if(_r(t,r),(r&130023424)===r&&(e=Zd+500-Ye(),10<e)){if(Ol(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ot(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_h(ri.bind(null,t,Bt,qn),e);break}ri(t,Bt,qn);break;case 4:if(_r(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Rn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*M1(r/1960))-r,10<r){t.timeoutHandle=_h(ri.bind(null,t,Bt,qn),r);break}ri(t,Bt,qn);break;case 5:ri(t,Bt,qn);break;default:throw Error(H(329))}}}return Wt(t,Ye()),t.callbackNode===n?Gv.bind(null,t):null}function jh(t,e){var n=xs;return t.current.memoizedState.isDehydrated&&(fi(t,e).flags|=256),t=eu(t,e),t!==2&&(e=Bt,Bt=n,e!==null&&Uh(e)),t}function Uh(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function O1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Pn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _r(t,e){for(e&=~Jd,e&=~Au,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rn(e),r=1<<n;t[n]=-1,e&=~r}}function Im(t){if(_e&6)throw Error(H(327));ao();var e=Ol(t,0);if(!(e&1))return Wt(t,Ye()),null;var n=eu(t,e);if(t.tag!==0&&n===2){var r=hh(t);r!==0&&(e=r,n=jh(t,r))}if(n===1)throw n=Zs,fi(t,0),_r(t,e),Wt(t,Ye()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ri(t,Bt,qn),Wt(t,Ye()),null}function ef(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(yo=Ye()+500,Su&&Hr())}}function Ei(t){wr!==null&&wr.tag===0&&!(_e&6)&&ao();var e=_e;_e|=1;var n=dn.transition,r=Ce;try{if(dn.transition=null,Ce=1,t)return t()}finally{Ce=r,dn.transition=n,_e=e,!(_e&6)&&Hr()}}function tf(){Gt=eo.current,Oe(eo)}function fi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,d1(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(Md(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bl();break;case 3:mo(),Oe($t),Oe(Nt),Hd();break;case 5:$d(r);break;case 4:mo();break;case 13:Oe(Be);break;case 19:Oe(Be);break;case 10:jd(r.type._context);break;case 22:case 23:tf()}n=n.return}if(ct=t,tt=t=Dr(t.current,null),gt=Gt=e,st=0,Zs=null,Jd=Au=_i=0,Bt=xs=null,ui!==null){for(e=0;e<ui.length;e++)if(n=ui[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ui=null}return t}function Xv(t,e){do{var n=tt;try{if(bd(),El.current=Xl,Gl){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gl=!1}if(vi=0,ut=it=ze=null,Ps=!1,Xs=0,Yd.current=null,n===null||n.return===null){st=1,Zs=e,tt=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=gt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var E=hm(s);if(E!==null){E.flags&=-257,dm(E,s,l,o,e),E.mode&1&&cm(o,c,e),e=E,u=c;var T=e.updateQueue;if(T===null){var A=new Set;A.add(u),e.updateQueue=A}else T.add(u);break e}else{if(!(e&1)){cm(o,c,e),nf();break e}u=Error(H(426))}}else if(be&&l.mode&1){var x=hm(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dm(x,s,l,o,e),Od(go(u,l));break e}}o=u=go(u,l),st!==4&&(st=2),xs===null?xs=[o]:xs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=Vv(o,u,e);im(o,w);break e;case 1:l=u;var v=o.type,R=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(kr===null||!kr.has(R)))){o.flags|=65536,e&=-e,o.lanes|=e;var L=Lv(o,l,e);im(o,L);break e}}o=o.return}while(o!==null)}Zv(n)}catch(U){e=U,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function Yv(){var t=Yl.current;return Yl.current=Xl,t===null?Xl:t}function nf(){(st===0||st===3||st===2)&&(st=4),ct===null||!(_i&268435455)&&!(Au&268435455)||_r(ct,gt)}function eu(t,e){var n=_e;_e|=2;var r=Yv();(ct!==t||gt!==e)&&(qn=null,fi(t,e));do try{F1();break}catch(i){Xv(t,i)}while(!0);if(bd(),_e=n,Yl.current=r,tt!==null)throw Error(H(261));return ct=null,gt=0,st}function F1(){for(;tt!==null;)Jv(tt)}function b1(){for(;tt!==null&&!uw();)Jv(tt)}function Jv(t){var e=t_(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?Zv(t):tt=e,Yd.current=null}function Zv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=D1(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,tt=null;return}}else if(n=x1(n,e,Gt),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);st===0&&(st=5)}function ri(t,e,n){var r=Ce,i=dn.transition;try{dn.transition=null,Ce=1,j1(t,e,n,r)}finally{dn.transition=i,Ce=r}return null}function j1(t,e,n,r){do ao();while(wr!==null);if(_e&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(_w(t,o),t===ct&&(tt=ct=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sl||(sl=!0,n_(Ml,function(){return ao(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=dn.transition,dn.transition=null;var s=Ce;Ce=1;var l=_e;_e|=4,Yd.current=null,V1(t,n),Kv(n,t),o1(yh),Fl=!!gh,yh=gh=null,t.current=n,L1(n),cw(),_e=l,Ce=s,dn.transition=o}else t.current=n;if(sl&&(sl=!1,wr=t,Zl=i),o=t.pendingLanes,o===0&&(kr=null),fw(n.stateNode),Wt(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jl)throw Jl=!1,t=Fh,Fh=null,t;return Zl&1&&t.tag!==0&&ao(),o=t.pendingLanes,o&1?t===bh?Ds++:(Ds=0,bh=t):Ds=0,Hr(),null}function ao(){if(wr!==null){var t=Vy(Zl),e=dn.transition,n=Ce;try{if(dn.transition=null,Ce=16>t?16:t,wr===null)var r=!1;else{if(t=wr,wr=null,Zl=0,_e&6)throw Error(H(331));var i=_e;for(_e|=4,X=t.current;X!==null;){var o=X,s=o.child;if(X.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(X=c;X!==null;){var f=X;switch(f.tag){case 0:case 11:case 15:ks(8,f,o)}var m=f.child;if(m!==null)m.return=f,X=m;else for(;X!==null;){f=X;var g=f.sibling,E=f.return;if(Hv(f),f===c){X=null;break}if(g!==null){g.return=E,X=g;break}X=E}}}var T=o.alternate;if(T!==null){var A=T.child;if(A!==null){T.child=null;do{var x=A.sibling;A.sibling=null,A=x}while(A!==null)}}X=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,X=s;else e:for(;X!==null;){if(o=X,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ks(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,X=w;break e}X=o.return}}var v=t.current;for(X=v;X!==null;){s=X;var R=s.child;if(s.subtreeFlags&2064&&R!==null)R.return=s,X=R;else e:for(s=v;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ru(9,l)}}catch(U){qe(l,l.return,U)}if(l===s){X=null;break e}var L=l.sibling;if(L!==null){L.return=l.return,X=L;break e}X=l.return}}if(_e=i,Hr(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(vu,t)}catch{}r=!0}return r}finally{Ce=n,dn.transition=e}}return!1}function Cm(t,e,n){e=go(n,e),e=Vv(t,e,1),t=Pr(t,e,1),e=Ot(),t!==null&&(fa(t,1,e),Wt(t,e))}function qe(t,e,n){if(t.tag===3)Cm(t,t,n);else for(;e!==null;){if(e.tag===3){Cm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kr===null||!kr.has(r))){t=go(n,t),t=Lv(e,t,1),e=Pr(e,t,1),t=Ot(),e!==null&&(fa(e,1,t),Wt(e,t));break}}e=e.return}}function U1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(gt&n)===n&&(st===4||st===3&&(gt&130023424)===gt&&500>Ye()-Zd?fi(t,0):Jd|=n),Wt(t,e)}function e_(t,e){e===0&&(t.mode&1?(e=Xa,Xa<<=1,!(Xa&130023424)&&(Xa=4194304)):e=1);var n=Ot();t=tr(t,e),t!==null&&(fa(t,e,n),Wt(t,n))}function B1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),e_(t,n)}function z1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),e_(t,n)}var t_;t_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$t.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,k1(t,e,n);zt=!!(t.flags&131072)}else zt=!1,be&&e.flags&1048576&&ov(e,Hl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tl(t,e),t=e.pendingProps;var i=ho(e,Nt.current);so(e,n),i=qd(null,e,r,t,i,n);var o=Kd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(o=!0,zl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bd(e),i.updater=Cu,e.stateNode=i,i._reactInternals=e,Rh(e,r,t,n),e=kh(null,e,r,!0,o,n)):(e.tag=0,be&&o&&Ld(e),Mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=H1(r),t=wn(r,t),i){case 0:e=Ph(null,e,r,t,n);break e;case 1:e=mm(null,e,r,t,n);break e;case 11:e=fm(null,e,r,t,n);break e;case 14:e=pm(null,e,r,wn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Ph(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),mm(t,e,r,i,n);case 3:e:{if(bv(e),t===null)throw Error(H(387));r=e.pendingProps,o=e.memoizedState,i=o.element,hv(t,e),Kl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=go(Error(H(423)),e),e=gm(t,e,r,n,i);break e}else if(r!==i){i=go(Error(H(424)),e),e=gm(t,e,r,n,i);break e}else for(Yt=Ar(e.stateNode.containerInfo.firstChild),Jt=e,be=!0,In=null,n=uv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fo(),r===i){e=nr(t,e,n);break e}Mt(t,e,r,n)}e=e.child}return e;case 5:return dv(e),t===null&&Sh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,vh(r,i)?s=null:o!==null&&vh(r,o)&&(e.flags|=32),Fv(t,e),Mt(t,e,s,n),e.child;case 6:return t===null&&Sh(e),null;case 13:return jv(t,e,n);case 4:return zd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=po(e,null,r,n):Mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),fm(t,e,r,i,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,De(Wl,r._currentValue),r._currentValue=s,o!==null)if(Pn(o.value,s)){if(o.children===i.children&&!$t.current){e=nr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Yn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Ih(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(H(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ih(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,so(e,n),i=fn(i),r=r(i),e.flags|=1,Mt(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),pm(t,e,r,i,n);case 15:return Mv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Tl(t,e),e.tag=1,Ht(r)?(t=!0,zl(e)):t=!1,so(e,n),Nv(e,r,i),Rh(e,r,i,n),kh(null,e,r,!0,t,n);case 19:return Uv(t,e,n);case 22:return Ov(t,e,n)}throw Error(H(156,e.tag))};function n_(t,e){return ky(t,e)}function $1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new $1(t,e,n,r)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function H1(t){if(typeof t=="function")return rf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Td)return 11;if(t===Sd)return 14}return 2}function Dr(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")rf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Hi:return pi(n.children,i,o,e);case wd:s=8,i|=8;break;case Xc:return t=hn(12,n,e,i|2),t.elementType=Xc,t.lanes=o,t;case Yc:return t=hn(13,n,e,i),t.elementType=Yc,t.lanes=o,t;case Jc:return t=hn(19,n,e,i),t.elementType=Jc,t.lanes=o,t;case dy:return Pu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cy:s=10;break e;case hy:s=9;break e;case Td:s=11;break e;case Sd:s=14;break e;case gr:s=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=hn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function pi(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function Pu(t,e,n,r){return t=hn(22,t,r,e),t.elementType=dy,t.lanes=n,t.stateNode={isHidden:!1},t}function Nc(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function Vc(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function W1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fc(0),this.expirationTimes=fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function of(t,e,n,r,i,o,s,l,u){return t=new W1(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=hn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bd(o),t}function q1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function r_(t){if(!t)return Fr;t=t._reactInternals;e:{if(Ci(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Ht(n))return rv(t,n,e)}return e}function i_(t,e,n,r,i,o,s,l,u){return t=of(n,r,!0,t,i,o,s,l,u),t.context=r_(null),n=t.current,r=Ot(),i=xr(n),o=Yn(r,i),o.callback=e??null,Pr(n,o,i),t.current.lanes=i,fa(t,i,r),Wt(t,r),t}function ku(t,e,n,r){var i=e.current,o=Ot(),s=xr(i);return n=r_(n),e.context===null?e.context=n:e.pendingContext=n,e=Yn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pr(i,e,s),t!==null&&(An(t,i,s,o),_l(t,i,s)),s}function tu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sf(t,e){Rm(t,e),(t=t.alternate)&&Rm(t,e)}function K1(){return null}var o_=typeof reportError=="function"?reportError:function(t){console.error(t)};function af(t){this._internalRoot=t}xu.prototype.render=af.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));ku(t,e,null,null)};xu.prototype.unmount=af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ei(function(){ku(null,t,null,null)}),e[er]=null}};function xu(t){this._internalRoot=t}xu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Oy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vr.length&&e!==0&&e<vr[n].priority;n++);vr.splice(n,0,t),n===0&&by(t)}};function lf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Du(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Am(){}function Q1(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=tu(s);o.call(c)}}var s=i_(e,r,t,0,null,!1,!1,"",Am);return t._reactRootContainer=s,t[er]=s.current,Ws(t.nodeType===8?t.parentNode:t),Ei(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=tu(u);l.call(c)}}var u=of(t,0,!1,null,null,!1,!1,"",Am);return t._reactRootContainer=u,t[er]=u.current,Ws(t.nodeType===8?t.parentNode:t),Ei(function(){ku(e,u,n,r)}),u}function Nu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=tu(s);l.call(u)}}ku(e,s,t,i)}else s=Q1(n,e,t,i,r);return tu(s)}Ly=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ps(e.pendingLanes);n!==0&&(Rd(e,n|1),Wt(e,Ye()),!(_e&6)&&(yo=Ye()+500,Hr()))}break;case 13:Ei(function(){var r=tr(t,1);if(r!==null){var i=Ot();An(r,t,1,i)}}),sf(t,1)}};Ad=function(t){if(t.tag===13){var e=tr(t,134217728);if(e!==null){var n=Ot();An(e,t,134217728,n)}sf(t,134217728)}};My=function(t){if(t.tag===13){var e=xr(t),n=tr(t,e);if(n!==null){var r=Ot();An(n,t,e,r)}sf(t,e)}};Oy=function(){return Ce};Fy=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};lh=function(t,e,n){switch(e){case"input":if(th(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tu(r);if(!i)throw Error(H(90));py(r),th(r,i)}}}break;case"textarea":gy(t,n);break;case"select":e=n.value,e!=null&&no(t,!!n.multiple,e,!1)}};Sy=ef;Iy=Ei;var G1={usingClientEntryPoint:!1,Events:[ma,Qi,Tu,wy,Ty,ef]},as={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X1={bundleType:as.bundleType,version:as.version,rendererPackageName:as.rendererPackageName,rendererConfig:as.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ay(t),t===null?null:t.stateNode},findFiberByHostInstance:as.findFiberByHostInstance||K1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{vu=al.inject(X1),Ln=al}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G1;nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lf(e))throw Error(H(200));return q1(t,e,null,n)};nn.createRoot=function(t,e){if(!lf(t))throw Error(H(299));var n=!1,r="",i=o_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=of(t,1,!1,null,null,n,!1,r,i),t[er]=e.current,Ws(t.nodeType===8?t.parentNode:t),new af(e)};nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Ay(e),t=t===null?null:t.stateNode,t};nn.flushSync=function(t){return Ei(t)};nn.hydrate=function(t,e,n){if(!Du(e))throw Error(H(200));return Nu(null,t,e,!0,n)};nn.hydrateRoot=function(t,e,n){if(!lf(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=o_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=i_(e,null,t,1,n??null,i,!1,o,s),t[er]=e.current,Ws(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xu(e)};nn.render=function(t,e,n){if(!Du(e))throw Error(H(200));return Nu(null,t,e,!1,n)};nn.unmountComponentAtNode=function(t){if(!Du(t))throw Error(H(40));return t._reactRootContainer?(Ei(function(){Nu(null,null,t,!1,function(){t._reactRootContainer=null,t[er]=null})}),!0):!1};nn.unstable_batchedUpdates=ef;nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Du(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Nu(t,e,n,!1,r)};nn.version="18.3.1-next-f1338f8080-20240426";function s_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s_)}catch(t){console.error(t)}}s_(),sy.exports=nn;var Vu=sy.exports;const Y1=fd(Vu),J1=Qg({__proto__:null,default:Y1},[Vu]);var a_,Pm=Vu;a_=Pm.createRoot,Pm.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ue(){return Ue=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ue.apply(this,arguments)}var Qe;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qe||(Qe={}));const km="popstate";function Z1(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return ea("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ya(i)}return tT(e,n,null,t)}function ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eT(){return Math.random().toString(36).substr(2,8)}function xm(t,e){return{usr:t.state,key:t.key,idx:e}}function ea(t,e,n,r){return n===void 0&&(n=null),Ue({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ar(e):e,{state:n,key:e&&e.key||r||eT()})}function ya(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ar(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Qe.Pop,u=null,c=f();c==null&&(c=0,s.replaceState(Ue({},s.state,{idx:c}),""));function f(){return(s.state||{idx:null}).idx}function m(){l=Qe.Pop;let x=f(),w=x==null?null:x-c;c=x,u&&u({action:l,location:A.location,delta:w})}function g(x,w){l=Qe.Push;let v=ea(A.location,x,w);c=f()+1;let R=xm(v,c),L=A.createHref(v);try{s.pushState(R,"",L)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(L)}o&&u&&u({action:l,location:A.location,delta:1})}function E(x,w){l=Qe.Replace;let v=ea(A.location,x,w);c=f();let R=xm(v,c),L=A.createHref(v);s.replaceState(R,"",L),o&&u&&u({action:l,location:A.location,delta:0})}function T(x){let w=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:ya(x);return v=v.replace(/ $/,"%20"),ce(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let A={get action(){return l},get location(){return t(i,s)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(km,m),u=x,()=>{i.removeEventListener(km,m),u=null}},createHref(x){return e(i,x)},createURL:T,encodeLocation(x){let w=T(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:E,go(x){return s.go(x)}};return A}var Pe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pe||(Pe={}));const nT=new Set(["lazy","caseSensitive","path","id","index","children"]);function rT(t){return t.index===!0}function ta(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],l=typeof i.id=="string"?i.id:s.join("-");if(ce(i.index!==!0||!i.children,"Cannot specify children on an index route"),ce(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),rT(i)){let u=Ue({},i,e(i),{id:l});return r[l]=u,u}else{let u=Ue({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=ta(i.children,e,s,r)),u}})}function ai(t,e,n){return n===void 0&&(n="/"),Rl(t,e,n,!1)}function Rl(t,e,n,r){let i=typeof e=="string"?ar(e):e,o=va(i.pathname||"/",n);if(o==null)return null;let s=l_(t);oT(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=gT(o);l=pT(s[u],c,r)}return l}function iT(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function l_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(ce(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Nr([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(ce(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),l_(o.children,e,f,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:dT(c,o.index),routesMeta:f})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of u_(o.path))i(o,s,u)}),e}function u_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=u_(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function oT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sT=/^:[\w-]+$/,aT=3,lT=2,uT=1,cT=10,hT=-2,Dm=t=>t==="*";function dT(t,e){let n=t.split("/"),r=n.length;return n.some(Dm)&&(r+=hT),e&&(r+=lT),n.filter(i=>!Dm(i)).reduce((i,o)=>i+(sT.test(o)?aT:o===""?uT:cT),r)}function fT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pT(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",m=Nm({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=Nm({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:Nr([o,m.pathname]),pathnameBase:_T(Nr([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=Nr([o,m.pathnameBase]))}return s}function Nm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,f,m)=>{let{paramName:g,isOptional:E}=f;if(g==="*"){let A=l[m]||"";s=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const T=l[m];return E&&!T?c[g]=void 0:c[g]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function mT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),vo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function va(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ar(t):t;return{pathname:n?n.startsWith("/")?n:vT(n,e):e,search:ET(r),hash:wT(i)}}function vT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Lc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function h_(t,e){let n=c_(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function d_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ar(t):(i=Ue({},t),ce(!i.pathname||!i.pathname.includes("?"),Lc("?","pathname","search",i)),ce(!i.pathname||!i.pathname.includes("#"),Lc("#","pathname","hash",i)),ce(!i.search||!i.search.includes("#"),Lc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=yT(i,l),c=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const Nr=t=>t.join("/").replace(/\/\/+/g,"/"),_T=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ET=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class nu{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Lu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const f_=["post","put","patch","delete"],TT=new Set(f_),ST=["get",...f_],IT=new Set(ST),CT=new Set([301,302,303,307,308]),RT=new Set([307,308]),Mc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},AT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ls={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},uf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PT=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),p_="remix-router-transitions";function kT(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ce(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let k=t.detectErrorBoundary;i=N=>({hasErrorBoundary:k(N)})}else i=PT;let o={},s=ta(t.routes,i,void 0,o),l,u=t.basename||"/",c=t.unstable_dataStrategy||MT,f=t.unstable_patchRoutesOnNavigation,m=Ue({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,E=new Set,T=1e3,A=new Set,x=null,w=null,v=null,R=t.hydrationData!=null,L=ai(s,t.history.location,u),U=null;if(L==null&&!f){let k=Lt(404,{pathname:t.history.location.pathname}),{matches:N,route:M}=Bm(s);L=N,U={[M.id]:k}}L&&!t.hydrationData&&Je(L,s,t.history.location.pathname).active&&(L=null);let $;if(L)if(L.some(k=>k.route.lazy))$=!1;else if(!L.some(k=>k.route.loader))$=!0;else if(m.v7_partialHydration){let k=t.hydrationData?t.hydrationData.loaderData:null,N=t.hydrationData?t.hydrationData.errors:null,M=j=>j.route.loader?typeof j.route.loader=="function"&&j.route.loader.hydrate===!0?!1:k&&k[j.route.id]!==void 0||N&&N[j.route.id]!==void 0:!0;if(N){let j=L.findIndex(Q=>N[Q.route.id]!==void 0);$=L.slice(0,j+1).every(M)}else $=L.every(M)}else $=t.hydrationData!=null;else if($=!1,L=[],m.v7_partialHydration){let k=Je(null,s,t.history.location.pathname);k.active&&k.matches&&(L=k.matches)}let S,p={historyAction:t.history.action,location:t.history.location,matches:L,initialized:$,navigation:Mc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||U,fetchers:new Map,blockers:new Map},_=Qe.Pop,I=!1,P,D=!1,C=new Map,Ee=null,Et=!1,qt=!1,jt=[],K=new Set,G=new Map,oe=0,Ie=-1,me=new Map,Se=new Set,wt=new Map,Vt=new Map,nt=new Set,ht=new Map,Bn=new Map,Zu=new Map,zn;function Pi(){if(g=t.history.listen(k=>{let{action:N,location:M,delta:j}=k;if(zn){zn(),zn=void 0;return}vo(Bn.size===0||j!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=Di({currentLocation:p.location,nextLocation:M,historyAction:N});if(Q&&j!=null){let te=new Promise(ie=>{zn=ie});t.history.go(j*-1),xn(Q,{state:"blocked",location:M,proceed(){xn(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),te.then(()=>t.history.go(j))},reset(){let ie=new Map(p.blockers);ie.set(Q,ls),rt({blockers:ie})}});return}return $n(N,M)}),n){XT(e,C);let k=()=>YT(e,C);e.addEventListener("pagehide",k),Ee=()=>e.removeEventListener("pagehide",k)}return p.initialized||$n(Qe.Pop,p.location,{initialHydration:!0}),S}function Fo(){g&&g(),Ee&&Ee(),E.clear(),P&&P.abort(),p.fetchers.forEach((k,N)=>qr(N)),p.blockers.forEach((k,N)=>Ho(N))}function bo(k){return E.add(k),()=>E.delete(k)}function rt(k,N){N===void 0&&(N={}),p=Ue({},p,k);let M=[],j=[];m.v7_fetcherPersist&&p.fetchers.forEach((Q,te)=>{Q.state==="idle"&&(nt.has(te)?j.push(te):M.push(te))}),[...E].forEach(Q=>Q(p,{deletedFetchers:j,unstable_viewTransitionOpts:N.viewTransitionOpts,unstable_flushSync:N.flushSync===!0})),m.v7_fetcherPersist&&(M.forEach(Q=>p.fetchers.delete(Q)),j.forEach(Q=>qr(Q)))}function kn(k,N,M){var j,Q;let{flushSync:te}=M===void 0?{}:M,ie=p.actionData!=null&&p.navigation.formMethod!=null&&Sn(p.navigation.formMethod)&&p.navigation.state==="loading"&&((j=k.state)==null?void 0:j._isRedirect)!==!0,W;N.actionData?Object.keys(N.actionData).length>0?W=N.actionData:W=null:ie?W=p.actionData:W=null;let ee=N.loaderData?jm(p.loaderData,N.loaderData,N.matches||[],N.errors):p.loaderData,Y=p.blockers;Y.size>0&&(Y=new Map(Y),Y.forEach((ye,Ae)=>Y.set(Ae,ls)));let Z=I===!0||p.navigation.formMethod!=null&&Sn(p.navigation.formMethod)&&((Q=k.state)==null?void 0:Q._isRedirect)!==!0;l&&(s=l,l=void 0),Et||_===Qe.Pop||(_===Qe.Push?t.history.push(k,k.state):_===Qe.Replace&&t.history.replace(k,k.state));let pe;if(_===Qe.Pop){let ye=C.get(p.location.pathname);ye&&ye.has(k.pathname)?pe={currentLocation:p.location,nextLocation:k}:C.has(k.pathname)&&(pe={currentLocation:k,nextLocation:p.location})}else if(D){let ye=C.get(p.location.pathname);ye?ye.add(k.pathname):(ye=new Set([k.pathname]),C.set(p.location.pathname,ye)),pe={currentLocation:p.location,nextLocation:k}}rt(Ue({},N,{actionData:W,loaderData:ee,historyAction:_,location:k,initialized:!0,navigation:Mc,revalidation:"idle",restoreScrollPosition:qo(k,N.matches||p.matches),preventScrollReset:Z,blockers:Y}),{viewTransitionOpts:pe,flushSync:te===!0}),_=Qe.Pop,I=!1,D=!1,Et=!1,qt=!1,jt=[]}async function jo(k,N){if(typeof k=="number"){t.history.go(k);return}let M=Bh(p.location,p.matches,u,m.v7_prependBasename,k,m.v7_relativeSplatPath,N==null?void 0:N.fromRouteId,N==null?void 0:N.relative),{path:j,submission:Q,error:te}=Vm(m.v7_normalizeFormMethod,!1,M,N),ie=p.location,W=ea(p.location,j,N&&N.state);W=Ue({},W,t.history.encodeLocation(W));let ee=N&&N.replace!=null?N.replace:void 0,Y=Qe.Push;ee===!0?Y=Qe.Replace:ee===!1||Q!=null&&Sn(Q.formMethod)&&Q.formAction===p.location.pathname+p.location.search&&(Y=Qe.Replace);let Z=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,pe=(N&&N.unstable_flushSync)===!0,ye=Di({currentLocation:ie,nextLocation:W,historyAction:Y});if(ye){xn(ye,{state:"blocked",location:W,proceed(){xn(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),jo(k,N)},reset(){let Ae=new Map(p.blockers);Ae.set(ye,ls),rt({blockers:Ae})}});return}return await $n(Y,W,{submission:Q,pendingError:te,preventScrollReset:Z,replace:N&&N.replace,enableViewTransition:N&&N.unstable_viewTransition,flushSync:pe})}function ec(){if(ki(),rt({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){$n(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}$n(_||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation,enableViewTransition:D===!0})}}async function $n(k,N,M){P&&P.abort(),P=null,_=k,Et=(M&&M.startUninterruptedRevalidation)===!0,Qr(p.location,p.matches),I=(M&&M.preventScrollReset)===!0,D=(M&&M.enableViewTransition)===!0;let j=l||s,Q=M&&M.overrideNavigation,te=ai(j,N,u),ie=(M&&M.flushSync)===!0,W=Je(te,j,N.pathname);if(W.active&&W.matches&&(te=W.matches),!te){let{error:de,notFoundMatches:Ze,route:Ne}=Kr(N.pathname);kn(N,{matches:Ze,loaderData:{},errors:{[Ne.id]:de}},{flushSync:ie});return}if(p.initialized&&!qt&&BT(p.location,N)&&!(M&&M.submission&&Sn(M.submission.formMethod))){kn(N,{matches:te},{flushSync:ie});return}P=new AbortController;let ee=bi(t.history,N,P.signal,M&&M.submission),Y;if(M&&M.pendingError)Y=[to(te).route.id,{type:Pe.error,error:M.pendingError}];else if(M&&M.submission&&Sn(M.submission.formMethod)){let de=await Ra(ee,N,M.submission,te,W.active,{replace:M.replace,flushSync:ie});if(de.shortCircuited)return;if(de.pendingActionResult){let[Ze,Ne]=de.pendingActionResult;if(Xt(Ne)&&Lu(Ne.error)&&Ne.error.status===404){P=null,kn(N,{matches:de.matches,loaderData:{},errors:{[Ze]:Ne.error}});return}}te=de.matches||te,Y=de.pendingActionResult,Q=Oc(N,M.submission),ie=!1,W.active=!1,ee=bi(t.history,ee.url,ee.signal)}let{shortCircuited:Z,matches:pe,loaderData:ye,errors:Ae}=await Uo(ee,N,te,W.active,Q,M&&M.submission,M&&M.fetcherSubmission,M&&M.replace,M&&M.initialHydration===!0,ie,Y);Z||(P=null,kn(N,Ue({matches:pe||te},Um(Y),{loaderData:ye,errors:Ae})))}async function Ra(k,N,M,j,Q,te){te===void 0&&(te={}),ki();let ie=QT(N,M);if(rt({navigation:ie},{flushSync:te.flushSync===!0}),Q){let Y=await Gr(j,N.pathname,k.signal);if(Y.type==="aborted")return{shortCircuited:!0};if(Y.type==="error"){let{boundaryId:Z,error:pe}=sn(N.pathname,Y);return{matches:Y.partialMatches,pendingActionResult:[Z,{type:Pe.error,error:pe}]}}else if(Y.matches)j=Y.matches;else{let{notFoundMatches:Z,error:pe,route:ye}=Kr(N.pathname);return{matches:Z,pendingActionResult:[ye.id,{type:Pe.error,error:pe}]}}}let W,ee=gs(j,N);if(!ee.route.action&&!ee.route.lazy)W={type:Pe.error,error:Lt(405,{method:k.method,pathname:N.pathname,routeId:ee.route.id})};else if(W=(await Ke("action",p,k,[ee],j,null))[ee.route.id],k.signal.aborted)return{shortCircuited:!0};if(hi(W)){let Y;return te&&te.replace!=null?Y=te.replace:Y=Om(W.response.headers.get("Location"),new URL(k.url),u)===p.location.pathname+p.location.search,await Fe(k,W,!0,{submission:M,replace:Y}),{shortCircuited:!0}}if(Tr(W))throw Lt(400,{type:"defer-action"});if(Xt(W)){let Y=to(j,ee.route.id);return(te&&te.replace)!==!0&&(_=Qe.Push),{matches:j,pendingActionResult:[Y.route.id,W]}}return{matches:j,pendingActionResult:[ee.route.id,W]}}async function Uo(k,N,M,j,Q,te,ie,W,ee,Y,Z){let pe=Q||Oc(N,te),ye=te||ie||$m(pe),Ae=!Et&&(!m.v7_partialHydration||!ee);if(j){if(Ae){let xe=Bo(Z);rt(Ue({navigation:pe},xe!==void 0?{actionData:xe}:{}),{flushSync:Y})}let ae=await Gr(M,N.pathname,k.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let{boundaryId:xe,error:St}=sn(N.pathname,ae);return{matches:ae.partialMatches,loaderData:{},errors:{[xe]:St}}}else if(ae.matches)M=ae.matches;else{let{error:xe,notFoundMatches:St,route:Ve}=Kr(N.pathname);return{matches:St,loaderData:{},errors:{[Ve.id]:xe}}}}let de=l||s,[Ze,Ne]=Lm(t.history,p,M,ye,N,m.v7_partialHydration&&ee===!0,m.v7_skipActionErrorRevalidation,qt,jt,K,nt,wt,Se,de,u,Z);if(Ni(ae=>!(M&&M.some(xe=>xe.route.id===ae))||Ze&&Ze.some(xe=>xe.route.id===ae)),Ie=++oe,Ze.length===0&&Ne.length===0){let ae=xa();return kn(N,Ue({matches:M,loaderData:{},errors:Z&&Xt(Z[1])?{[Z[0]]:Z[1].error}:null},Um(Z),ae?{fetchers:new Map(p.fetchers)}:{}),{flushSync:Y}),{shortCircuited:!0}}if(Ae){let ae={};if(!j){ae.navigation=pe;let xe=Bo(Z);xe!==void 0&&(ae.actionData=xe)}Ne.length>0&&(ae.fetchers=tc(Ne)),rt(ae,{flushSync:Y})}Ne.forEach(ae=>{G.has(ae.key)&&on(ae.key),ae.controller&&G.set(ae.key,ae.controller)});let cr=()=>Ne.forEach(ae=>on(ae.key));P&&P.signal.addEventListener("abort",cr);let{loaderResults:Kt,fetcherResults:an}=await Wr(p,M,Ze,Ne,k);if(k.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",cr),Ne.forEach(ae=>G.delete(ae.key));let Tt=ll(Kt);if(Tt)return await Fe(k,Tt.result,!0,{replace:W}),{shortCircuited:!0};if(Tt=ll(an),Tt)return Se.add(Tt.key),await Fe(k,Tt.result,!0,{replace:W}),{shortCircuited:!0};let{loaderData:hr,errors:yn}=bm(p,M,Ze,Kt,Z,Ne,an,ht);ht.forEach((ae,xe)=>{ae.subscribe(St=>{(St||ae.done)&&ht.delete(xe)})}),m.v7_partialHydration&&ee&&p.errors&&Object.entries(p.errors).filter(ae=>{let[xe]=ae;return!Ze.some(St=>St.route.id===xe)}).forEach(ae=>{let[xe,St]=ae;yn=Object.assign(yn||{},{[xe]:St})});let Yr=xa(),Jr=xi(Ie),Zr=Yr||Jr||Ne.length>0;return Ue({matches:M,loaderData:hr,errors:yn},Zr?{fetchers:new Map(p.fetchers)}:{})}function Bo(k){if(k&&!Xt(k[1]))return{[k[0]]:k[1].data};if(p.actionData)return Object.keys(p.actionData).length===0?null:p.actionData}function tc(k){return k.forEach(N=>{let M=p.fetchers.get(N.key),j=us(void 0,M?M.data:void 0);p.fetchers.set(N.key,j)}),new Map(p.fetchers)}function zo(k,N,M,j){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");G.has(k)&&on(k);let Q=(j&&j.unstable_flushSync)===!0,te=l||s,ie=Bh(p.location,p.matches,u,m.v7_prependBasename,M,m.v7_relativeSplatPath,N,j==null?void 0:j.relative),W=ai(te,ie,u),ee=Je(W,te,ie);if(ee.active&&ee.matches&&(W=ee.matches),!W){gn(k,N,Lt(404,{pathname:ie}),{flushSync:Q});return}let{path:Y,submission:Z,error:pe}=Vm(m.v7_normalizeFormMethod,!0,ie,j);if(pe){gn(k,N,pe,{flushSync:Q});return}let ye=gs(W,Y);if(I=(j&&j.preventScrollReset)===!0,Z&&Sn(Z.formMethod)){$o(k,N,Y,ye,W,ee.active,Q,Z);return}wt.set(k,{routeId:N,path:Y}),Aa(k,N,Y,ye,W,ee.active,Q,Z)}async function $o(k,N,M,j,Q,te,ie,W){ki(),wt.delete(k);function ee(Ve){if(!Ve.route.action&&!Ve.route.lazy){let vn=Lt(405,{method:W.formMethod,pathname:M,routeId:N});return gn(k,N,vn,{flushSync:ie}),!0}return!1}if(!te&&ee(j))return;let Y=p.fetchers.get(k);mn(k,GT(W,Y),{flushSync:ie});let Z=new AbortController,pe=bi(t.history,M,Z.signal,W);if(te){let Ve=await Gr(Q,M,pe.signal);if(Ve.type==="aborted")return;if(Ve.type==="error"){let{error:vn}=sn(M,Ve);gn(k,N,vn,{flushSync:ie});return}else if(Ve.matches){if(Q=Ve.matches,j=gs(Q,M),ee(j))return}else{gn(k,N,Lt(404,{pathname:M}),{flushSync:ie});return}}G.set(k,Z);let ye=oe,de=(await Ke("action",p,pe,[j],Q,k))[j.route.id];if(pe.signal.aborted){G.get(k)===Z&&G.delete(k);return}if(m.v7_fetcherPersist&&nt.has(k)){if(hi(de)||Xt(de)){mn(k,mr(void 0));return}}else{if(hi(de))if(G.delete(k),Ie>ye){mn(k,mr(void 0));return}else return Se.add(k),mn(k,us(W)),Fe(pe,de,!1,{fetcherSubmission:W});if(Xt(de)){gn(k,N,de.error);return}}if(Tr(de))throw Lt(400,{type:"defer-action"});let Ze=p.navigation.location||p.location,Ne=bi(t.history,Ze,Z.signal),cr=l||s,Kt=p.navigation.state!=="idle"?ai(cr,p.navigation.location,u):p.matches;ce(Kt,"Didn't find any matches after fetcher action");let an=++oe;me.set(k,an);let Tt=us(W,de.data);p.fetchers.set(k,Tt);let[hr,yn]=Lm(t.history,p,Kt,W,Ze,!1,m.v7_skipActionErrorRevalidation,qt,jt,K,nt,wt,Se,cr,u,[j.route.id,de]);yn.filter(Ve=>Ve.key!==k).forEach(Ve=>{let vn=Ve.key,Na=p.fetchers.get(vn),Va=us(void 0,Na?Na.data:void 0);p.fetchers.set(vn,Va),G.has(vn)&&on(vn),Ve.controller&&G.set(vn,Ve.controller)}),rt({fetchers:new Map(p.fetchers)});let Yr=()=>yn.forEach(Ve=>on(Ve.key));Z.signal.addEventListener("abort",Yr);let{loaderResults:Jr,fetcherResults:Zr}=await Wr(p,Kt,hr,yn,Ne);if(Z.signal.aborted)return;Z.signal.removeEventListener("abort",Yr),me.delete(k),G.delete(k),yn.forEach(Ve=>G.delete(Ve.key));let ae=ll(Jr);if(ae)return Fe(Ne,ae.result,!1);if(ae=ll(Zr),ae)return Se.add(ae.key),Fe(Ne,ae.result,!1);let{loaderData:xe,errors:St}=bm(p,Kt,hr,Jr,void 0,yn,Zr,ht);if(p.fetchers.has(k)){let Ve=mr(de.data);p.fetchers.set(k,Ve)}xi(an),p.navigation.state==="loading"&&an>Ie?(ce(_,"Expected pending action"),P&&P.abort(),kn(p.navigation.location,{matches:Kt,loaderData:xe,errors:St,fetchers:new Map(p.fetchers)})):(rt({errors:St,loaderData:jm(p.loaderData,xe,Kt,St),fetchers:new Map(p.fetchers)}),qt=!1)}async function Aa(k,N,M,j,Q,te,ie,W){let ee=p.fetchers.get(k);mn(k,us(W,ee?ee.data:void 0),{flushSync:ie});let Y=new AbortController,Z=bi(t.history,M,Y.signal);if(te){let de=await Gr(Q,M,Z.signal);if(de.type==="aborted")return;if(de.type==="error"){let{error:Ze}=sn(M,de);gn(k,N,Ze,{flushSync:ie});return}else if(de.matches)Q=de.matches,j=gs(Q,M);else{gn(k,N,Lt(404,{pathname:M}),{flushSync:ie});return}}G.set(k,Y);let pe=oe,Ae=(await Ke("loader",p,Z,[j],Q,k))[j.route.id];if(Tr(Ae)&&(Ae=await cf(Ae,Z.signal,!0)||Ae),G.get(k)===Y&&G.delete(k),!Z.signal.aborted){if(nt.has(k)){mn(k,mr(void 0));return}if(hi(Ae))if(Ie>pe){mn(k,mr(void 0));return}else{Se.add(k),await Fe(Z,Ae,!1);return}if(Xt(Ae)){gn(k,N,Ae.error);return}ce(!Tr(Ae),"Unhandled fetcher deferred data"),mn(k,mr(Ae.data))}}async function Fe(k,N,M,j){let{submission:Q,fetcherSubmission:te,replace:ie}=j===void 0?{}:j;N.response.headers.has("X-Remix-Revalidate")&&(qt=!0);let W=N.response.headers.get("Location");ce(W,"Expected a Location header on the redirect Response"),W=Om(W,new URL(k.url),u);let ee=ea(p.location,W,{_isRedirect:!0});if(n){let de=!1;if(N.response.headers.has("X-Remix-Reload-Document"))de=!0;else if(uf.test(W)){const Ze=t.history.createURL(W);de=Ze.origin!==e.location.origin||va(Ze.pathname,u)==null}if(de){ie?e.location.replace(W):e.location.assign(W);return}}P=null;let Y=ie===!0||N.response.headers.has("X-Remix-Replace")?Qe.Replace:Qe.Push,{formMethod:Z,formAction:pe,formEncType:ye}=p.navigation;!Q&&!te&&Z&&pe&&ye&&(Q=$m(p.navigation));let Ae=Q||te;if(RT.has(N.response.status)&&Ae&&Sn(Ae.formMethod))await $n(Y,ee,{submission:Ue({},Ae,{formAction:W}),preventScrollReset:I,enableViewTransition:M?D:void 0});else{let de=Oc(ee,Q);await $n(Y,ee,{overrideNavigation:de,fetcherSubmission:te,preventScrollReset:I,enableViewTransition:M?D:void 0})}}async function Ke(k,N,M,j,Q,te){let ie,W={};try{ie=await OT(c,k,N,M,j,Q,te,o,i)}catch(ee){return j.forEach(Y=>{W[Y.route.id]={type:Pe.error,error:ee}}),W}for(let[ee,Y]of Object.entries(ie))if($T(Y)){let Z=Y.result;W[ee]={type:Pe.redirect,response:jT(Z,M,ee,Q,u,m.v7_relativeSplatPath)}}else W[ee]=await bT(Y);return W}async function Wr(k,N,M,j,Q){let te=k.matches,ie=Ke("loader",k,Q,M,N,null),W=Promise.all(j.map(async Z=>{if(Z.matches&&Z.match&&Z.controller){let ye=(await Ke("loader",k,bi(t.history,Z.path,Z.controller.signal),[Z.match],Z.matches,Z.key))[Z.match.route.id];return{[Z.key]:ye}}else return Promise.resolve({[Z.key]:{type:Pe.error,error:Lt(404,{pathname:Z.path})}})})),ee=await ie,Y=(await W).reduce((Z,pe)=>Object.assign(Z,pe),{});return await Promise.all([qT(N,ee,Q.signal,te,k.loaderData),KT(N,Y,j)]),{loaderResults:ee,fetcherResults:Y}}function ki(){qt=!0,jt.push(...Ni()),wt.forEach((k,N)=>{G.has(N)&&(K.add(N),on(N))})}function mn(k,N,M){M===void 0&&(M={}),p.fetchers.set(k,N),rt({fetchers:new Map(p.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function gn(k,N,M,j){j===void 0&&(j={});let Q=to(p.matches,N);qr(k),rt({errors:{[Q.route.id]:M},fetchers:new Map(p.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function lr(k){return m.v7_fetcherPersist&&(Vt.set(k,(Vt.get(k)||0)+1),nt.has(k)&&nt.delete(k)),p.fetchers.get(k)||AT}function qr(k){let N=p.fetchers.get(k);G.has(k)&&!(N&&N.state==="loading"&&me.has(k))&&on(k),wt.delete(k),me.delete(k),Se.delete(k),nt.delete(k),K.delete(k),p.fetchers.delete(k)}function Pa(k){if(m.v7_fetcherPersist){let N=(Vt.get(k)||0)-1;N<=0?(Vt.delete(k),nt.add(k)):Vt.set(k,N)}else qr(k);rt({fetchers:new Map(p.fetchers)})}function on(k){let N=G.get(k);ce(N,"Expected fetch controller: "+k),N.abort(),G.delete(k)}function ka(k){for(let N of k){let M=lr(N),j=mr(M.data);p.fetchers.set(N,j)}}function xa(){let k=[],N=!1;for(let M of Se){let j=p.fetchers.get(M);ce(j,"Expected fetcher: "+M),j.state==="loading"&&(Se.delete(M),k.push(M),N=!0)}return ka(k),N}function xi(k){let N=[];for(let[M,j]of me)if(j<k){let Q=p.fetchers.get(M);ce(Q,"Expected fetcher: "+M),Q.state==="loading"&&(on(M),me.delete(M),N.push(M))}return ka(N),N.length>0}function Da(k,N){let M=p.blockers.get(k)||ls;return Bn.get(k)!==N&&Bn.set(k,N),M}function Ho(k){p.blockers.delete(k),Bn.delete(k)}function xn(k,N){let M=p.blockers.get(k)||ls;ce(M.state==="unblocked"&&N.state==="blocked"||M.state==="blocked"&&N.state==="blocked"||M.state==="blocked"&&N.state==="proceeding"||M.state==="blocked"&&N.state==="unblocked"||M.state==="proceeding"&&N.state==="unblocked","Invalid blocker state transition: "+M.state+" -> "+N.state);let j=new Map(p.blockers);j.set(k,N),rt({blockers:j})}function Di(k){let{currentLocation:N,nextLocation:M,historyAction:j}=k;if(Bn.size===0)return;Bn.size>1&&vo(!1,"A router only supports one blocker at a time");let Q=Array.from(Bn.entries()),[te,ie]=Q[Q.length-1],W=p.blockers.get(te);if(!(W&&W.state==="proceeding")&&ie({currentLocation:N,nextLocation:M,historyAction:j}))return te}function Kr(k){let N=Lt(404,{pathname:k}),M=l||s,{matches:j,route:Q}=Bm(M);return Ni(),{notFoundMatches:j,route:Q,error:N}}function sn(k,N){return{boundaryId:to(N.partialMatches).route.id,error:Lt(400,{type:"route-discovery",pathname:k,message:N.error!=null&&"message"in N.error?N.error:String(N.error)})}}function Ni(k){let N=[];return ht.forEach((M,j)=>{(!k||k(j))&&(M.cancel(),N.push(j),ht.delete(j))}),N}function Vi(k,N,M){if(x=k,v=N,w=M||null,!R&&p.navigation===Mc){R=!0;let j=qo(p.location,p.matches);j!=null&&rt({restoreScrollPosition:j})}return()=>{x=null,v=null,w=null}}function Wo(k,N){return w&&w(k,N.map(j=>iT(j,p.loaderData)))||k.key}function Qr(k,N){if(x&&v){let M=Wo(k,N);x[M]=v()}}function qo(k,N){if(x){let M=Wo(k,N),j=x[M];if(typeof j=="number")return j}return null}function Je(k,N,M){if(f){if(A.has(M))return{active:!1,matches:k};if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:Rl(N,M,u,!0)}}else return{active:!0,matches:Rl(N,M,u,!0)||[]}}return{active:!1,matches:null}}async function Gr(k,N,M){let j=k;for(;;){let Q=l==null,te=l||s;try{await VT(f,N,j,te,o,i,Zu,M)}catch(ee){return{type:"error",error:ee,partialMatches:j}}finally{Q&&(s=[...s])}if(M.aborted)return{type:"aborted"};let ie=ai(te,N,u);if(ie)return ur(N,A),{type:"success",matches:ie};let W=Rl(te,N,u,!0);if(!W||j.length===W.length&&j.every((ee,Y)=>ee.route.id===W[Y].route.id))return ur(N,A),{type:"success",matches:null};j=W}}function ur(k,N){if(N.size>=T){let M=N.values().next().value;N.delete(M)}N.add(k)}function Xr(k){o={},l=ta(k,i,void 0,o)}function nc(k,N){let M=l==null;g_(k,N,l||s,o,i),M&&(s=[...s],rt({}))}return S={get basename(){return u},get future(){return m},get state(){return p},get routes(){return s},get window(){return e},initialize:Pi,subscribe:bo,enableScrollRestoration:Vi,navigate:jo,fetch:zo,revalidate:ec,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:lr,deleteFetcher:Pa,dispose:Fo,getBlocker:Da,deleteBlocker:Ho,patchRoutes:nc,_internalFetchControllers:G,_internalActiveDeferreds:ht,_internalSetRoutes:Xr},S}function xT(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Bh(t,e,n,r,i,o,s,l){let u,c;if(s){u=[];for(let m of e)if(u.push(m),m.route.id===s){c=m;break}}else u=e,c=e[e.length-1];let f=d_(i||".",h_(u,o),va(t.pathname,n)||t.pathname,l==="path");return i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!hf(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Nr([n,f.pathname])),ya(f)}function Vm(t,e,n,r){if(!r||!xT(r))return{path:n};if(r.formMethod&&!WT(r.formMethod))return{path:n,error:Lt(405,{method:r.formMethod})};let i=()=>({path:n,error:Lt(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),l=y_(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Sn(s))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((E,T)=>{let[A,x]=T;return""+E+A+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!Sn(s))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}ce(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=zh(r.formData),c=r.formData;else if(r.body instanceof FormData)u=zh(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=Fm(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=Fm(u)}catch{return i()}let f={formMethod:s,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Sn(f.formMethod))return{path:n,submission:f};let m=ar(n);return e&&m.search&&hf(m.search)&&u.append("index",""),m.search="?"+u,{path:ya(m),submission:f}}function DT(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Lm(t,e,n,r,i,o,s,l,u,c,f,m,g,E,T,A){let x=A?Xt(A[1])?A[1].error:A[1].data:void 0,w=t.createURL(e.location),v=t.createURL(i),R=A&&Xt(A[1])?A[0]:void 0,L=R?DT(n,R):n,U=A?A[1].statusCode:void 0,$=s&&U&&U>=400,S=L.filter((_,I)=>{let{route:P}=_;if(P.lazy)return!0;if(P.loader==null)return!1;if(o)return typeof P.loader!="function"||P.loader.hydrate?!0:e.loaderData[P.id]===void 0&&(!e.errors||e.errors[P.id]===void 0);if(NT(e.loaderData,e.matches[I],_)||u.some(Ee=>Ee===_.route.id))return!0;let D=e.matches[I],C=_;return Mm(_,Ue({currentUrl:w,currentParams:D.params,nextUrl:v,nextParams:C.params},r,{actionResult:x,actionStatus:U,defaultShouldRevalidate:$?!1:l||w.pathname+w.search===v.pathname+v.search||w.search!==v.search||m_(D,C)}))}),p=[];return m.forEach((_,I)=>{if(o||!n.some(Et=>Et.route.id===_.routeId)||f.has(I))return;let P=ai(E,_.path,T);if(!P){p.push({key:I,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(I),C=gs(P,_.path),Ee=!1;g.has(I)?Ee=!1:c.has(I)?(c.delete(I),Ee=!0):D&&D.state!=="idle"&&D.data===void 0?Ee=l:Ee=Mm(C,Ue({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:U,defaultShouldRevalidate:$?!1:l})),Ee&&p.push({key:I,routeId:_.routeId,path:_.path,matches:P,match:C,controller:new AbortController})}),[S,p]}function NT(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function m_(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Mm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function VT(t,e,n,r,i,o,s,l){let u=[e,...n.map(c=>c.route.id)].join("-");try{let c=s.get(u);c||(c=t({path:e,matches:n,patch:(f,m)=>{l.aborted||g_(f,m,r,i,o)}}),s.set(u,c)),c&&zT(c)&&await c}finally{s.delete(u)}}function g_(t,e,n,r,i){if(t){var o;let s=r[t];ce(s,"No route found to patch children into: routeId = "+t);let l=ta(e,i,[t,"patch",String(((o=s.children)==null?void 0:o.length)||"0")],r);s.children?s.children.push(...l):s.children=l}else{let s=ta(e,i,["patch",String(n.length||"0")],r);n.push(...s)}}async function LT(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ce(i,"No route found in manifest");let o={};for(let s in r){let u=i[s]!==void 0&&s!=="hasErrorBoundary";vo(!u,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!u&&!nT.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Ue({},e(i),{lazy:void 0}))}async function MT(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function OT(t,e,n,r,i,o,s,l,u,c){let f=o.map(E=>E.route.lazy?LT(E.route,u,l):void 0),m=o.map((E,T)=>{let A=f[T],x=i.some(v=>v.route.id===E.route.id);return Ue({},E,{shouldLoad:x,resolve:async v=>(v&&r.method==="GET"&&(E.route.lazy||E.route.loader)&&(x=!0),x?FT(e,r,E,A,v,c):Promise.resolve({type:Pe.data,result:void 0}))})}),g=await t({matches:m,request:r,params:o[0].params,fetcherKey:s,context:c});try{await Promise.all(f)}catch{}return g}async function FT(t,e,n,r,i,o){let s,l,u=c=>{let f,m=new Promise((T,A)=>f=A);l=()=>f(),e.signal.addEventListener("abort",l);let g=T=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:o},...T!==void 0?[T]:[]),E=(async()=>{try{return{type:"data",result:await(i?i(A=>g(A)):g())}}catch(T){return{type:"error",result:T}}})();return Promise.race([E,m])};try{let c=n.route[t];if(r)if(c){let f,[m]=await Promise.all([u(c).catch(g=>{f=g}),r]);if(f!==void 0)throw f;s=m}else if(await r,c=n.route[t],c)s=await u(c);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw Lt(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Pe.data,result:void 0};else if(c)s=await u(c);else{let f=new URL(e.url),m=f.pathname+f.search;throw Lt(404,{pathname:m})}ce(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Pe.error,result:c}}finally{l&&e.signal.removeEventListener("abort",l)}return s}async function bT(t){let{result:e,type:n}=t;if(v_(e)){let c;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(f){return{type:Pe.error,error:f}}return n===Pe.error?{type:Pe.error,error:new nu(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Pe.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Pe.error){if(zm(e)){var r;if(e.data instanceof Error){var i;return{type:Pe.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new nu(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Pe.error,error:e,statusCode:Lu(e)?e.status:void 0}}if(HT(e)){var o,s;return{type:Pe.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}if(zm(e)){var l,u;return{type:Pe.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Pe.data,data:e}}function jT(t,e,n,r,i,o){let s=t.headers.get("Location");if(ce(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!uf.test(s)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);s=Bh(new URL(e.url),l,i,!0,s,o),t.headers.set("Location",s)}return t}function Om(t,e,n){if(uf.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=va(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function bi(t,e,n,r){let i=t.createURL(y_(e)).toString(),o={signal:n};if(r&&Sn(r.formMethod)){let{formMethod:s,formEncType:l}=r;o.method=s.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=zh(r.formData):o.body=r.formData}return new Request(i,o)}function zh(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Fm(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function UT(t,e,n,r,i){let o={},s=null,l,u=!1,c={},f=n&&Xt(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,E=e[g];if(ce(!hi(E),"Cannot handle redirect results in processLoaderData"),Xt(E)){let T=E.error;f!==void 0&&(T=f,f=void 0),s=s||{};{let A=to(t,g);s[A.route.id]==null&&(s[A.route.id]=T)}o[g]=void 0,u||(u=!0,l=Lu(E.error)?E.error.status:500),E.headers&&(c[g]=E.headers)}else Tr(E)?(r.set(g,E.deferredData),o[g]=E.deferredData.data,E.statusCode!=null&&E.statusCode!==200&&!u&&(l=E.statusCode),E.headers&&(c[g]=E.headers)):(o[g]=E.data,E.statusCode&&E.statusCode!==200&&!u&&(l=E.statusCode),E.headers&&(c[g]=E.headers))}),f!==void 0&&n&&(s={[n[0]]:f},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:c}}function bm(t,e,n,r,i,o,s,l){let{loaderData:u,errors:c}=UT(e,r,i,l);return o.forEach(f=>{let{key:m,match:g,controller:E}=f,T=s[m];if(ce(T,"Did not find corresponding fetcher result"),!(E&&E.signal.aborted))if(Xt(T)){let A=to(t.matches,g==null?void 0:g.route.id);c&&c[A.route.id]||(c=Ue({},c,{[A.route.id]:T.error})),t.fetchers.delete(m)}else if(hi(T))ce(!1,"Unhandled fetcher revalidation redirect");else if(Tr(T))ce(!1,"Unhandled fetcher deferred data");else{let A=mr(T.data);t.fetchers.set(m,A)}}),{loaderData:u,errors:c}}function jm(t,e,n,r){let i=Ue({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Um(t){return t?Xt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function to(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Bm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Lt(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",o==="route-discovery"?u='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+s):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?u="defer() is not supported in actions":o==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new nu(t||500,l,new Error(u),!0)}function ll(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(hi(i))return{key:r,result:i}}}function y_(t){let e=typeof t=="string"?ar(t):t;return ya(Ue({},e,{hash:""}))}function BT(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function zT(t){return typeof t=="object"&&t!=null&&"then"in t}function $T(t){return v_(t.result)&&CT.has(t.result.status)}function Tr(t){return t.type===Pe.deferred}function Xt(t){return t.type===Pe.error}function hi(t){return(t&&t.type)===Pe.redirect}function zm(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function HT(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function v_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function WT(t){return IT.has(t.toLowerCase())}function Sn(t){return TT.has(t.toLowerCase())}async function qT(t,e,n,r,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[l,u]=o[s],c=t.find(g=>(g==null?void 0:g.route.id)===l);if(!c)continue;let f=r.find(g=>g.route.id===c.route.id),m=f!=null&&!m_(f,c)&&(i&&i[c.route.id])!==void 0;Tr(u)&&m&&await cf(u,n,!1).then(g=>{g&&(e[l]=g)})}}async function KT(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],l=e[i];t.find(c=>(c==null?void 0:c.route.id)===o)&&Tr(l)&&(ce(s,"Expected an AbortController for revalidating fetcher deferred result"),await cf(l,s.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function cf(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Pe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Pe.error,error:i}}return{type:Pe.data,data:t.deferredData.data}}}function hf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function gs(t,e){let n=typeof e=="string"?ar(e).search:e.search;if(t[t.length-1].route.index&&hf(n||""))return t[t.length-1];let r=c_(t);return r[r.length-1]}function $m(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Oc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function QT(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function us(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function GT(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function mr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function XT(t,e){try{let n=t.sessionStorage.getItem(p_);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function YT(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(p_,JSON.stringify(n))}catch(r){vo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function na(){return na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},na.apply(this,arguments)}const Mu=F.createContext(null),__=F.createContext(null),Ou=F.createContext(null),Fu=F.createContext(null),ko=F.createContext({outlet:null,matches:[],isDataRoute:!1}),E_=F.createContext(null);function bu(){return F.useContext(Fu)!=null}function df(){return bu()||ce(!1),F.useContext(Fu).location}function w_(t){F.useContext(Ou).static||F.useLayoutEffect(t)}function xo(){let{isDataRoute:t}=F.useContext(ko);return t?uS():JT()}function JT(){bu()||ce(!1);let t=F.useContext(Mu),{basename:e,future:n,navigator:r}=F.useContext(Ou),{matches:i}=F.useContext(ko),{pathname:o}=df(),s=JSON.stringify(h_(i,n.v7_relativeSplatPath)),l=F.useRef(!1);return w_(()=>{l.current=!0}),F.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let m=d_(c,JSON.parse(s),o,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Nr([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,s,o,t])}function ZT(t,e){return T_(t,e)}function T_(t,e,n,r){bu()||ce(!1);let{navigator:i}=F.useContext(Ou),{matches:o}=F.useContext(ko),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=df(),f;if(e){var m;let x=typeof e=="string"?ar(e):e;u==="/"||(m=x.pathname)!=null&&m.startsWith(u)||ce(!1),f=x}else f=c;let g=f.pathname||"/",E=g;if(u!=="/"){let x=u.replace(/^\//,"").split("/");E="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let T=ai(t,{pathname:E}),A=iS(T&&T.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Nr([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Nr([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&A?F.createElement(Fu.Provider,{value:{location:na({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Qe.Pop}},A):A}function eS(){let t=lS(),e=Lu(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,null)}const tS=F.createElement(eS,null);class nS extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(ko.Provider,{value:this.props.routeContext},F.createElement(E_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rS(t){let{routeContext:e,match:n,children:r}=t,i=F.useContext(Mu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(ko.Provider,{value:e},r)}function iS(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||ce(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=f),m.route.id){let{loaderData:g,errors:E}=n,T=m.route.loader&&g[m.route.id]===void 0&&(!E||E[m.route.id]===void 0);if(m.route.lazy||T){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,m,g)=>{let E,T=!1,A=null,x=null;n&&(E=l&&m.route.id?l[m.route.id]:void 0,A=m.route.errorElement||tS,u&&(c<0&&g===0?(cS("route-fallback"),T=!0,x=null):c===g&&(T=!0,x=m.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,g+1)),v=()=>{let R;return E?R=A:T?R=x:m.route.Component?R=F.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=f,F.createElement(rS,{match:m,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?F.createElement(nS,{location:n.location,revalidation:n.revalidation,component:A,error:E,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var S_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(S_||{}),ru=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ru||{});function oS(t){let e=F.useContext(Mu);return e||ce(!1),e}function sS(t){let e=F.useContext(__);return e||ce(!1),e}function aS(t){let e=F.useContext(ko);return e||ce(!1),e}function I_(t){let e=aS(),n=e.matches[e.matches.length-1];return n.route.id||ce(!1),n.route.id}function lS(){var t;let e=F.useContext(E_),n=sS(ru.UseRouteError),r=I_(ru.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function uS(){let{router:t}=oS(S_.UseNavigateStable),e=I_(ru.UseNavigateStable),n=F.useRef(!1);return w_(()=>{n.current=!0}),F.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,na({fromRouteId:e},o)))},[t,e])}const Hm={};function cS(t,e,n){Hm[t]||(Hm[t]=!0)}function ys(t){ce(!1)}function hS(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qe.Pop,navigator:o,static:s=!1,future:l}=t;bu()&&ce(!1);let u=e.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:u,navigator:o,static:s,future:na({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=ar(r));let{pathname:f="/",search:m="",hash:g="",state:E=null,key:T="default"}=r,A=F.useMemo(()=>{let x=va(f,u);return x==null?null:{location:{pathname:x,search:m,hash:g,state:E,key:T},navigationType:i}},[u,f,m,g,E,T,i]);return A==null?null:F.createElement(Ou.Provider,{value:c},F.createElement(Fu.Provider,{children:n,value:A}))}function dS(t){let{children:e,location:n}=t;return ZT($h(e),n)}new Promise(()=>{});function $h(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let o=[...e,i];if(r.type===F.Fragment){n.push.apply(n,$h(r.props.children,o));return}r.type!==ys&&ce(!1),!r.props.index||!r.props.children||ce(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=$h(r.props.children,o)),n.push(s)}),n}function fS(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:F.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:F.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:F.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iu.apply(this,arguments)}function Hh(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function pS(t,e){let n=Hh(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}const mS="6";try{window.__reactRouterVersion=mS}catch{}function gS(t,e){return kT({basename:void 0,future:iu({},void 0,{v7_prependBasename:!0}),history:Z1({window:void 0}),hydrationData:yS(),routes:t,mapRouteProperties:fS,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function yS(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=iu({},e,{errors:vS(e.errors)})),e}function vS(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new nu(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const _S=F.createContext({isTransitioning:!1}),ES=F.createContext(new Map),wS="startTransition",Wm=UE[wS],TS="flushSync",qm=J1[TS];function SS(t){Wm?Wm(t):t()}function cs(t){qm?qm(t):t()}let IS=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function CS(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=F.useState(n.state),[s,l]=F.useState(),[u,c]=F.useState({isTransitioning:!1}),[f,m]=F.useState(),[g,E]=F.useState(),[T,A]=F.useState(),x=F.useRef(new Map),{v7_startTransition:w}=r||{},v=F.useCallback(p=>{w?SS(p):p()},[w]),R=F.useCallback((p,_)=>{let{deletedFetchers:I,unstable_flushSync:P,unstable_viewTransitionOpts:D}=_;I.forEach(Ee=>x.current.delete(Ee)),p.fetchers.forEach((Ee,Et)=>{Ee.data!==void 0&&x.current.set(Et,Ee.data)});let C=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||C){P?cs(()=>o(p)):v(()=>o(p));return}if(P){cs(()=>{g&&(f&&f.resolve(),g.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let Ee=n.window.document.startViewTransition(()=>{cs(()=>o(p))});Ee.finished.finally(()=>{cs(()=>{m(void 0),E(void 0),l(void 0),c({isTransitioning:!1})})}),cs(()=>E(Ee));return}g?(f&&f.resolve(),g.skipTransition(),A({state:p,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(l(p),c({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,g,f,x,v]);F.useLayoutEffect(()=>n.subscribe(R),[n,R]),F.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new IS)},[u]),F.useEffect(()=>{if(f&&s&&n.window){let p=s,_=f.promise,I=n.window.document.startViewTransition(async()=>{v(()=>o(p)),await _});I.finished.finally(()=>{m(void 0),E(void 0),l(void 0),c({isTransitioning:!1})}),E(I)}},[v,s,f,n.window]),F.useEffect(()=>{f&&s&&i.location.key===s.location.key&&f.resolve()},[f,g,i.location,s]),F.useEffect(()=>{!u.isTransitioning&&T&&(l(T.state),c({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),A(void 0))},[u.isTransitioning,T]),F.useEffect(()=>{},[]);let L=F.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:p=>n.navigate(p),push:(p,_,I)=>n.navigate(p,{state:_,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(p,_,I)=>n.navigate(p,{replace:!0,state:_,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),U=n.basename||"/",$=F.useMemo(()=>({router:n,navigator:L,static:!1,basename:U}),[n,L,U]),S=F.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return F.createElement(F.Fragment,null,F.createElement(Mu.Provider,{value:$},F.createElement(__.Provider,{value:i},F.createElement(ES.Provider,{value:x.current},F.createElement(_S.Provider,{value:u},F.createElement(hS,{basename:U,location:i.location,navigationType:i.historyAction,navigator:L,future:S},i.initialized||n.future.v7_partialHydration?F.createElement(RS,{routes:n.routes,future:n.future,state:i}):e))))),null)}const RS=F.memo(AS);function AS(t){let{routes:e,future:n,state:r}=t;return T_(e,void 0,r,n)}var Km;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Km||(Km={}));var Qm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qm||(Qm={}));function C_(t){let e=F.useRef(Hh(t)),n=F.useRef(!1),r=df(),i=F.useMemo(()=>pS(r.search,n.current?null:e.current),[r.search]),o=xo(),s=F.useCallback((l,u)=>{const c=Hh(typeof l=="function"?l(i):l);n.current=!0,o("?"+c,u)},[o,i]);return[i,s]}var Gm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},A_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=o>>2,m=(o&3)<<4|l>>4;let g=(l&15)<<2|c>>6,E=c&63;u||(E=64,s||(g=64)),r.push(n[f],n[m],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(R_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||c==null||m==null)throw new kS;const g=o<<2|l>>4;if(r.push(g),c!==64){const E=l<<4&240|c>>2;if(r.push(E),m!==64){const T=c<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xS=function(t){const e=R_(t);return A_.encodeByteArray(e,!0)},ou=function(t){return xS(t).replace(/\./g,"")},DS=function(t){try{return A_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=()=>NS().__FIREBASE_DEFAULTS__,LS=()=>{if(typeof process>"u"||typeof Gm>"u")return;const t=Gm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DS(t[1]);return e&&JSON.parse(e)},ff=()=>{try{return VS()||LS()||MS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OS=t=>{var e,n;return(n=(e=ff())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FS=t=>{const e=OS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},P_=()=>{var t;return(t=ff())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ou(JSON.stringify(n)),ou(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BS(){var t;const e=(t=ff())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zS(){return!BS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $S(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="FirebaseError";class Do extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WS,Object.setPrototypeOf(this,Do.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,k_.prototype.create)}}class k_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?qS(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Do(i,l,r)}}function qS(t,e){return t.replace(KS,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KS=/\{\$([^}]+)}/g;function Wh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Xm(o)&&Xm(s)){if(!Wh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Xm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t){return t&&t._delegate?t._delegate:t}class ia{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XS(e))try{this.getOrInitializeService({instanceIdentifier:ii})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ii){return this.instances.has(e)}getOptions(e=ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ii){return this.component?this.component.multipleInstances?e:ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GS(t){return t===ii?void 0:t}function XS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const JS={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},ZS=ve.INFO,eI={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},tI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=eI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x_{constructor(e){this.name=e,this._logLevel=ZS,this._logHandler=tI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const nI=(t,e)=>e.some(n=>t instanceof n);let Ym,Jm;function rI(){return Ym||(Ym=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iI(){return Jm||(Jm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D_=new WeakMap,qh=new WeakMap,N_=new WeakMap,Fc=new WeakMap,pf=new WeakMap;function oI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Vr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&D_.set(n,t)}).catch(()=>{}),pf.set(e,t),e}function sI(t){if(qh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});qh.set(t,e)}let Kh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||N_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aI(t){Kh=t(Kh)}function lI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bc(this),e,...n);return N_.set(r,e.sort?e.sort():[e]),Vr(r)}:iI().includes(t)?function(...e){return t.apply(bc(this),e),Vr(D_.get(this))}:function(...e){return Vr(t.apply(bc(this),e))}}function uI(t){return typeof t=="function"?lI(t):(t instanceof IDBTransaction&&sI(t),nI(t,rI())?new Proxy(t,Kh):t)}function Vr(t){if(t instanceof IDBRequest)return oI(t);if(Fc.has(t))return Fc.get(t);const e=uI(t);return e!==t&&(Fc.set(t,e),pf.set(e,t)),e}const bc=t=>pf.get(t);function cI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Vr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Vr(s.result),u.oldVersion,u.newVersion,Vr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const hI=["get","getKey","getAll","getAllKeys","count"],dI=["put","add","delete","clear"],jc=new Map;function Zm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jc.get(e))return jc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hI.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return jc.set(e,o),o}aI(t=>({...t,get:(e,n,r)=>Zm(e,n)||t.get(e,n,r),has:(e,n)=>!!Zm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qh="@firebase/app",eg="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new x_("@firebase/app"),mI="@firebase/app-compat",gI="@firebase/analytics-compat",yI="@firebase/analytics",vI="@firebase/app-check-compat",_I="@firebase/app-check",EI="@firebase/auth",wI="@firebase/auth-compat",TI="@firebase/database",SI="@firebase/data-connect",II="@firebase/database-compat",CI="@firebase/functions",RI="@firebase/functions-compat",AI="@firebase/installations",PI="@firebase/installations-compat",kI="@firebase/messaging",xI="@firebase/messaging-compat",DI="@firebase/performance",NI="@firebase/performance-compat",VI="@firebase/remote-config",LI="@firebase/remote-config-compat",MI="@firebase/storage",OI="@firebase/storage-compat",FI="@firebase/firestore",bI="@firebase/vertexai-preview",jI="@firebase/firestore-compat",UI="firebase",BI="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="[DEFAULT]",zI={[Qh]:"fire-core",[mI]:"fire-core-compat",[yI]:"fire-analytics",[gI]:"fire-analytics-compat",[_I]:"fire-app-check",[vI]:"fire-app-check-compat",[EI]:"fire-auth",[wI]:"fire-auth-compat",[TI]:"fire-rtdb",[SI]:"fire-data-connect",[II]:"fire-rtdb-compat",[CI]:"fire-fn",[RI]:"fire-fn-compat",[AI]:"fire-iid",[PI]:"fire-iid-compat",[kI]:"fire-fcm",[xI]:"fire-fcm-compat",[DI]:"fire-perf",[NI]:"fire-perf-compat",[VI]:"fire-rc",[LI]:"fire-rc-compat",[MI]:"fire-gcs",[OI]:"fire-gcs-compat",[FI]:"fire-fst",[jI]:"fire-fst-compat",[bI]:"fire-vertex","fire-js":"fire-js",[UI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Map,$I=new Map,Xh=new Map;function tg(t,e){try{t.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function au(t){const e=t.name;if(Xh.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;Xh.set(e,t);for(const n of su.values())tg(n,t);for(const n of $I.values())tg(n,t);return!0}function HI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new k_("app","Firebase",WI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=BI;function V_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Lr.create("bad-app-name",{appName:String(i)});if(n||(n=P_()),!n)throw Lr.create("no-options");const o=su.get(i);if(o){if(Wh(n,o.options)&&Wh(r,o.config))return o;throw Lr.create("duplicate-app",{appName:i})}const s=new YS(i);for(const u of Xh.values())s.addComponent(u);const l=new qI(n,r,s);return su.set(i,l),l}function QI(t=Gh){const e=su.get(t);if(!e&&t===Gh&&P_())return V_();if(!e)throw Lr.create("no-app",{appName:t});return e}function lo(t,e,n){var r;let i=(r=zI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(l.join(" "));return}au(new ia(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="firebase-heartbeat-database",XI=1,oa="firebase-heartbeat-store";let Uc=null;function L_(){return Uc||(Uc=cI(GI,XI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),Uc}async function YI(t){try{const n=(await L_()).transaction(oa),r=await n.objectStore(oa).get(M_(t));return await n.done,r}catch(e){if(e instanceof Do)rr.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(n.message)}}}async function ng(t,e){try{const r=(await L_()).transaction(oa,"readwrite");await r.objectStore(oa).put(e,M_(t)),await r.done}catch(n){if(n instanceof Do)rr.warn(n.message);else{const r=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(r.message)}}}function M_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=1024,ZI=30*24*60*60*1e3;class eC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=rg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=ZI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){rr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rg(),{heartbeatsToSend:r,unsentEntries:i}=tC(this._heartbeatsCache.heartbeats),o=ou(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return rr.warn(n),""}}}function rg(){return new Date().toISOString().substring(0,10)}function tC(t,e=JI){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ig(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ig(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $S()?HS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ng(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ng(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ig(t){return ou(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){au(new ia("platform-logger",e=>new fI(e),"PRIVATE")),au(new ia("heartbeat",e=>new eC(e),"PRIVATE")),lo(Qh,eg,t),lo(Qh,eg,"esm2017"),lo("fire-js","")}rC("");var og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mi,O_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,p){function _(){}_.prototype=p.prototype,S.D=p.prototype,S.prototype=new _,S.prototype.constructor=S,S.C=function(I,P,D){for(var C=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)C[Ee-2]=arguments[Ee];return p.prototype[P].apply(I,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,p,_){_||(_=0);var I=Array(16);if(typeof p=="string")for(var P=0;16>P;++P)I[P]=p.charCodeAt(_++)|p.charCodeAt(_++)<<8|p.charCodeAt(_++)<<16|p.charCodeAt(_++)<<24;else for(P=0;16>P;++P)I[P]=p[_++]|p[_++]<<8|p[_++]<<16|p[_++]<<24;p=S.g[0],_=S.g[1],P=S.g[2];var D=S.g[3],C=p+(D^_&(P^D))+I[0]+3614090360&4294967295;p=_+(C<<7&4294967295|C>>>25),C=D+(P^p&(_^P))+I[1]+3905402710&4294967295,D=p+(C<<12&4294967295|C>>>20),C=P+(_^D&(p^_))+I[2]+606105819&4294967295,P=D+(C<<17&4294967295|C>>>15),C=_+(p^P&(D^p))+I[3]+3250441966&4294967295,_=P+(C<<22&4294967295|C>>>10),C=p+(D^_&(P^D))+I[4]+4118548399&4294967295,p=_+(C<<7&4294967295|C>>>25),C=D+(P^p&(_^P))+I[5]+1200080426&4294967295,D=p+(C<<12&4294967295|C>>>20),C=P+(_^D&(p^_))+I[6]+2821735955&4294967295,P=D+(C<<17&4294967295|C>>>15),C=_+(p^P&(D^p))+I[7]+4249261313&4294967295,_=P+(C<<22&4294967295|C>>>10),C=p+(D^_&(P^D))+I[8]+1770035416&4294967295,p=_+(C<<7&4294967295|C>>>25),C=D+(P^p&(_^P))+I[9]+2336552879&4294967295,D=p+(C<<12&4294967295|C>>>20),C=P+(_^D&(p^_))+I[10]+4294925233&4294967295,P=D+(C<<17&4294967295|C>>>15),C=_+(p^P&(D^p))+I[11]+2304563134&4294967295,_=P+(C<<22&4294967295|C>>>10),C=p+(D^_&(P^D))+I[12]+1804603682&4294967295,p=_+(C<<7&4294967295|C>>>25),C=D+(P^p&(_^P))+I[13]+4254626195&4294967295,D=p+(C<<12&4294967295|C>>>20),C=P+(_^D&(p^_))+I[14]+2792965006&4294967295,P=D+(C<<17&4294967295|C>>>15),C=_+(p^P&(D^p))+I[15]+1236535329&4294967295,_=P+(C<<22&4294967295|C>>>10),C=p+(P^D&(_^P))+I[1]+4129170786&4294967295,p=_+(C<<5&4294967295|C>>>27),C=D+(_^P&(p^_))+I[6]+3225465664&4294967295,D=p+(C<<9&4294967295|C>>>23),C=P+(p^_&(D^p))+I[11]+643717713&4294967295,P=D+(C<<14&4294967295|C>>>18),C=_+(D^p&(P^D))+I[0]+3921069994&4294967295,_=P+(C<<20&4294967295|C>>>12),C=p+(P^D&(_^P))+I[5]+3593408605&4294967295,p=_+(C<<5&4294967295|C>>>27),C=D+(_^P&(p^_))+I[10]+38016083&4294967295,D=p+(C<<9&4294967295|C>>>23),C=P+(p^_&(D^p))+I[15]+3634488961&4294967295,P=D+(C<<14&4294967295|C>>>18),C=_+(D^p&(P^D))+I[4]+3889429448&4294967295,_=P+(C<<20&4294967295|C>>>12),C=p+(P^D&(_^P))+I[9]+568446438&4294967295,p=_+(C<<5&4294967295|C>>>27),C=D+(_^P&(p^_))+I[14]+3275163606&4294967295,D=p+(C<<9&4294967295|C>>>23),C=P+(p^_&(D^p))+I[3]+4107603335&4294967295,P=D+(C<<14&4294967295|C>>>18),C=_+(D^p&(P^D))+I[8]+1163531501&4294967295,_=P+(C<<20&4294967295|C>>>12),C=p+(P^D&(_^P))+I[13]+2850285829&4294967295,p=_+(C<<5&4294967295|C>>>27),C=D+(_^P&(p^_))+I[2]+4243563512&4294967295,D=p+(C<<9&4294967295|C>>>23),C=P+(p^_&(D^p))+I[7]+1735328473&4294967295,P=D+(C<<14&4294967295|C>>>18),C=_+(D^p&(P^D))+I[12]+2368359562&4294967295,_=P+(C<<20&4294967295|C>>>12),C=p+(_^P^D)+I[5]+4294588738&4294967295,p=_+(C<<4&4294967295|C>>>28),C=D+(p^_^P)+I[8]+2272392833&4294967295,D=p+(C<<11&4294967295|C>>>21),C=P+(D^p^_)+I[11]+1839030562&4294967295,P=D+(C<<16&4294967295|C>>>16),C=_+(P^D^p)+I[14]+4259657740&4294967295,_=P+(C<<23&4294967295|C>>>9),C=p+(_^P^D)+I[1]+2763975236&4294967295,p=_+(C<<4&4294967295|C>>>28),C=D+(p^_^P)+I[4]+1272893353&4294967295,D=p+(C<<11&4294967295|C>>>21),C=P+(D^p^_)+I[7]+4139469664&4294967295,P=D+(C<<16&4294967295|C>>>16),C=_+(P^D^p)+I[10]+3200236656&4294967295,_=P+(C<<23&4294967295|C>>>9),C=p+(_^P^D)+I[13]+681279174&4294967295,p=_+(C<<4&4294967295|C>>>28),C=D+(p^_^P)+I[0]+3936430074&4294967295,D=p+(C<<11&4294967295|C>>>21),C=P+(D^p^_)+I[3]+3572445317&4294967295,P=D+(C<<16&4294967295|C>>>16),C=_+(P^D^p)+I[6]+76029189&4294967295,_=P+(C<<23&4294967295|C>>>9),C=p+(_^P^D)+I[9]+3654602809&4294967295,p=_+(C<<4&4294967295|C>>>28),C=D+(p^_^P)+I[12]+3873151461&4294967295,D=p+(C<<11&4294967295|C>>>21),C=P+(D^p^_)+I[15]+530742520&4294967295,P=D+(C<<16&4294967295|C>>>16),C=_+(P^D^p)+I[2]+3299628645&4294967295,_=P+(C<<23&4294967295|C>>>9),C=p+(P^(_|~D))+I[0]+4096336452&4294967295,p=_+(C<<6&4294967295|C>>>26),C=D+(_^(p|~P))+I[7]+1126891415&4294967295,D=p+(C<<10&4294967295|C>>>22),C=P+(p^(D|~_))+I[14]+2878612391&4294967295,P=D+(C<<15&4294967295|C>>>17),C=_+(D^(P|~p))+I[5]+4237533241&4294967295,_=P+(C<<21&4294967295|C>>>11),C=p+(P^(_|~D))+I[12]+1700485571&4294967295,p=_+(C<<6&4294967295|C>>>26),C=D+(_^(p|~P))+I[3]+2399980690&4294967295,D=p+(C<<10&4294967295|C>>>22),C=P+(p^(D|~_))+I[10]+4293915773&4294967295,P=D+(C<<15&4294967295|C>>>17),C=_+(D^(P|~p))+I[1]+2240044497&4294967295,_=P+(C<<21&4294967295|C>>>11),C=p+(P^(_|~D))+I[8]+1873313359&4294967295,p=_+(C<<6&4294967295|C>>>26),C=D+(_^(p|~P))+I[15]+4264355552&4294967295,D=p+(C<<10&4294967295|C>>>22),C=P+(p^(D|~_))+I[6]+2734768916&4294967295,P=D+(C<<15&4294967295|C>>>17),C=_+(D^(P|~p))+I[13]+1309151649&4294967295,_=P+(C<<21&4294967295|C>>>11),C=p+(P^(_|~D))+I[4]+4149444226&4294967295,p=_+(C<<6&4294967295|C>>>26),C=D+(_^(p|~P))+I[11]+3174756917&4294967295,D=p+(C<<10&4294967295|C>>>22),C=P+(p^(D|~_))+I[2]+718787259&4294967295,P=D+(C<<15&4294967295|C>>>17),C=_+(D^(P|~p))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+p&4294967295,S.g[1]=S.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,p){p===void 0&&(p=S.length);for(var _=p-this.blockSize,I=this.B,P=this.h,D=0;D<p;){if(P==0)for(;D<=_;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<p;)if(I[P++]=S.charCodeAt(D++),P==this.blockSize){i(this,I),P=0;break}}else for(;D<p;)if(I[P++]=S[D++],P==this.blockSize){i(this,I),P=0;break}}this.h=P,this.o+=p},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var p=1;p<S.length-8;++p)S[p]=0;var _=8*this.o;for(p=S.length-8;p<S.length;++p)S[p]=_&255,_/=256;for(this.u(S),S=Array(16),p=_=0;4>p;++p)for(var I=0;32>I;I+=8)S[_++]=this.g[p]>>>I&255;return S};function o(S,p){var _=l;return Object.prototype.hasOwnProperty.call(_,S)?_[S]:_[S]=p(S)}function s(S,p){this.h=p;for(var _=[],I=!0,P=S.length-1;0<=P;P--){var D=S[P]|0;I&&D==p||(_[P]=D,I=!1)}this.g=_}var l={};function u(S){return-128<=S&&128>S?o(S,function(p){return new s([p|0],0>p?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return m;if(0>S)return x(c(-S));for(var p=[],_=1,I=0;S>=_;I++)p[I]=S/_|0,_*=4294967296;return new s(p,0)}function f(S,p){if(S.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(S.charAt(0)=="-")return x(f(S.substring(1),p));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(p,8)),I=m,P=0;P<S.length;P+=8){var D=Math.min(8,S.length-P),C=parseInt(S.substring(P,P+D),p);8>D?(D=c(Math.pow(p,D)),I=I.j(D).add(c(C))):(I=I.j(_),I=I.add(c(C)))}return I}var m=u(0),g=u(1),E=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-x(this).m();for(var S=0,p=1,_=0;_<this.g.length;_++){var I=this.i(_);S+=(0<=I?I:4294967296+I)*p,p*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T(this))return"0";if(A(this))return"-"+x(this).toString(S);for(var p=c(Math.pow(S,6)),_=this,I="";;){var P=L(_,p).g;_=w(_,P.j(p));var D=((0<_.g.length?_.g[0]:_.h)>>>0).toString(S);if(_=P,T(_))return D+I;for(;6>D.length;)D="0"+D;I=D+I}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function T(S){if(S.h!=0)return!1;for(var p=0;p<S.g.length;p++)if(S.g[p]!=0)return!1;return!0}function A(S){return S.h==-1}t.l=function(S){return S=w(this,S),A(S)?-1:T(S)?0:1};function x(S){for(var p=S.g.length,_=[],I=0;I<p;I++)_[I]=~S.g[I];return new s(_,~S.h).add(g)}t.abs=function(){return A(this)?x(this):this},t.add=function(S){for(var p=Math.max(this.g.length,S.g.length),_=[],I=0,P=0;P<=p;P++){var D=I+(this.i(P)&65535)+(S.i(P)&65535),C=(D>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);I=C>>>16,D&=65535,C&=65535,_[P]=C<<16|D}return new s(_,_[_.length-1]&-2147483648?-1:0)};function w(S,p){return S.add(x(p))}t.j=function(S){if(T(this)||T(S))return m;if(A(this))return A(S)?x(this).j(x(S)):x(x(this).j(S));if(A(S))return x(this.j(x(S)));if(0>this.l(E)&&0>S.l(E))return c(this.m()*S.m());for(var p=this.g.length+S.g.length,_=[],I=0;I<2*p;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var P=0;P<S.g.length;P++){var D=this.i(I)>>>16,C=this.i(I)&65535,Ee=S.i(P)>>>16,Et=S.i(P)&65535;_[2*I+2*P]+=C*Et,v(_,2*I+2*P),_[2*I+2*P+1]+=D*Et,v(_,2*I+2*P+1),_[2*I+2*P+1]+=C*Ee,v(_,2*I+2*P+1),_[2*I+2*P+2]+=D*Ee,v(_,2*I+2*P+2)}for(I=0;I<p;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=p;I<2*p;I++)_[I]=0;return new s(_,0)};function v(S,p){for(;(S[p]&65535)!=S[p];)S[p+1]+=S[p]>>>16,S[p]&=65535,p++}function R(S,p){this.g=S,this.h=p}function L(S,p){if(T(p))throw Error("division by zero");if(T(S))return new R(m,m);if(A(S))return p=L(x(S),p),new R(x(p.g),x(p.h));if(A(p))return p=L(S,x(p)),new R(x(p.g),p.h);if(30<S.g.length){if(A(S)||A(p))throw Error("slowDivide_ only works with positive integers.");for(var _=g,I=p;0>=I.l(S);)_=U(_),I=U(I);var P=$(_,1),D=$(I,1);for(I=$(I,2),_=$(_,2);!T(I);){var C=D.add(I);0>=C.l(S)&&(P=P.add(_),D=C),I=$(I,1),_=$(_,1)}return p=w(S,P.j(p)),new R(P,p)}for(P=m;0<=S.l(p);){for(_=Math.max(1,Math.floor(S.m()/p.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),D=c(_),C=D.j(p);A(C)||0<C.l(S);)_-=I,D=c(_),C=D.j(p);T(D)&&(D=g),P=P.add(D),S=w(S,C)}return new R(P,S)}t.A=function(S){return L(this,S).h},t.and=function(S){for(var p=Math.max(this.g.length,S.g.length),_=[],I=0;I<p;I++)_[I]=this.i(I)&S.i(I);return new s(_,this.h&S.h)},t.or=function(S){for(var p=Math.max(this.g.length,S.g.length),_=[],I=0;I<p;I++)_[I]=this.i(I)|S.i(I);return new s(_,this.h|S.h)},t.xor=function(S){for(var p=Math.max(this.g.length,S.g.length),_=[],I=0;I<p;I++)_[I]=this.i(I)^S.i(I);return new s(_,this.h^S.h)};function U(S){for(var p=S.g.length+1,_=[],I=0;I<p;I++)_[I]=S.i(I)<<1|S.i(I-1)>>>31;return new s(_,S.h)}function $(S,p){var _=p>>5;p%=32;for(var I=S.g.length-_,P=[],D=0;D<I;D++)P[D]=0<p?S.i(D+_)>>>p|S.i(D+_+1)<<32-p:S.i(D+_);return new s(P,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,O_=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,mi=s}).apply(typeof og<"u"?og:typeof self<"u"?self:typeof window<"u"?window:{});var ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F_,vs,b_,Al,Yh,j_,U_,B_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,d){return a==Array.prototype||a==Object.prototype||(a[h]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ul=="object"&&ul];for(var h=0;h<a.length;++h){var d=a[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var d=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var V=a[y];if(!(V in d))break e;d=d[V]}a=a[a.length-1],y=d[a],h=h(y),h!=y&&h!=null&&e(d,a,{configurable:!0,writable:!0,value:h})}}function o(a,h){a instanceof String&&(a+="");var d=0,y=!1,V={next:function(){if(!y&&d<a.length){var O=d++;return{value:h(O,a[O]),done:!1}}return y=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return o(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,d){return a.call.apply(a.bind,arguments)}function m(a,h,d){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,y),a.apply(h,V)}}return function(){return a.apply(h,arguments)}}function g(a,h,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function E(a,h){var d=Array.prototype.slice.call(arguments,1);return function(){var y=d.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function T(a,h){function d(){}d.prototype=h.prototype,a.aa=h.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(y,V,O){for(var q=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)q[ke-2]=arguments[ke];return h.prototype[V].apply(y,q)}}function A(a){const h=a.length;if(0<h){const d=Array(h);for(let y=0;y<h;y++)d[y]=a[y];return d}return[]}function x(a,h){for(let d=1;d<arguments.length;d++){const y=arguments[d];if(u(y)){const V=a.length||0,O=y.length||0;a.length=V+O;for(let q=0;q<O;q++)a[V+q]=y[q]}else a.push(y)}}class w{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function v(a){return/^[\s\xa0]*$/.test(a)}function R(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function L(a){return L[" "](a),a}L[" "]=function(){};var U=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function $(a,h,d){for(const y in a)h.call(d,a[y],y,a)}function S(a,h){for(const d in a)h.call(void 0,a[d],d,a)}function p(a){const h={};for(const d in a)h[d]=a[d];return h}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,h){let d,y;for(let V=1;V<arguments.length;V++){y=arguments[V];for(d in y)a[d]=y[d];for(let O=0;O<_.length;O++)d=_[O],Object.prototype.hasOwnProperty.call(y,d)&&(a[d]=y[d])}}function P(a){var h=1;a=a.split(":");const d=[];for(;0<h&&a.length;)d.push(a.shift()),h--;return a.length&&d.push(a.join(":")),d}function D(a){l.setTimeout(()=>{throw a},0)}function C(){var a=G;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class Ee{constructor(){this.h=this.g=null}add(h,d){const y=Et.get();y.set(h,d),this.h?this.h.next=y:this.g=y,this.h=y}}var Et=new w(()=>new qt,a=>a.reset());class qt{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let jt,K=!1,G=new Ee,oe=()=>{const a=l.Promise.resolve(void 0);jt=()=>{a.then(Ie)}};var Ie=()=>{for(var a;a=C();){try{a.h.call(a.g)}catch(d){D(d)}var h=Et;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}K=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var wt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,h),l.removeEventListener("test",d,h)}catch{}return a}();function Vt(a,h){if(Se.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(U){e:{try{L(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else d=="mouseover"?h=a.fromElement:d=="mouseout"&&(h=a.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:nt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Vt.aa.h.call(this)}}T(Vt,Se);var nt={2:"touch",3:"pen",4:"mouse"};Vt.prototype.h=function(){Vt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),Bn=0;function Zu(a,h,d,y,V){this.listener=a,this.proxy=null,this.src=h,this.type=d,this.capture=!!y,this.ha=V,this.key=++Bn,this.da=this.fa=!1}function zn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Pi(a){this.src=a,this.g={},this.h=0}Pi.prototype.add=function(a,h,d,y,V){var O=a.toString();a=this.g[O],a||(a=this.g[O]=[],this.h++);var q=bo(a,h,y,V);return-1<q?(h=a[q],d||(h.fa=!1)):(h=new Zu(h,this.src,O,!!y,V),h.fa=d,a.push(h)),h};function Fo(a,h){var d=h.type;if(d in a.g){var y=a.g[d],V=Array.prototype.indexOf.call(y,h,void 0),O;(O=0<=V)&&Array.prototype.splice.call(y,V,1),O&&(zn(h),a.g[d].length==0&&(delete a.g[d],a.h--))}}function bo(a,h,d,y){for(var V=0;V<a.length;++V){var O=a[V];if(!O.da&&O.listener==h&&O.capture==!!d&&O.ha==y)return V}return-1}var rt="closure_lm_"+(1e6*Math.random()|0),kn={};function jo(a,h,d,y,V){if(Array.isArray(h)){for(var O=0;O<h.length;O++)jo(a,h[O],d,y,V);return null}return d=Aa(d),a&&a[ht]?a.K(h,d,c(y)?!!y.capture:!!y,V):ec(a,h,d,!1,y,V)}function ec(a,h,d,y,V,O){if(!h)throw Error("Invalid event type");var q=c(V)?!!V.capture:!!V,ke=zo(a);if(ke||(a[rt]=ke=new Pi(a)),d=ke.add(h,d,y,q,O),d.proxy)return d;if(y=$n(),d.proxy=y,y.src=a,y.listener=d,a.addEventListener)wt||(V=q),V===void 0&&(V=!1),a.addEventListener(h.toString(),y,V);else if(a.attachEvent)a.attachEvent(Bo(h.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return d}function $n(){function a(d){return h.call(a.src,a.listener,d)}const h=tc;return a}function Ra(a,h,d,y,V){if(Array.isArray(h))for(var O=0;O<h.length;O++)Ra(a,h[O],d,y,V);else y=c(y)?!!y.capture:!!y,d=Aa(d),a&&a[ht]?(a=a.i,h=String(h).toString(),h in a.g&&(O=a.g[h],d=bo(O,d,y,V),-1<d&&(zn(O[d]),Array.prototype.splice.call(O,d,1),O.length==0&&(delete a.g[h],a.h--)))):a&&(a=zo(a))&&(h=a.g[h.toString()],a=-1,h&&(a=bo(h,d,y,V)),(d=-1<a?h[a]:null)&&Uo(d))}function Uo(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[ht])Fo(h.i,a);else{var d=a.type,y=a.proxy;h.removeEventListener?h.removeEventListener(d,y,a.capture):h.detachEvent?h.detachEvent(Bo(d),y):h.addListener&&h.removeListener&&h.removeListener(y),(d=zo(h))?(Fo(d,a),d.h==0&&(d.src=null,h[rt]=null)):zn(a)}}}function Bo(a){return a in kn?kn[a]:kn[a]="on"+a}function tc(a,h){if(a.da)a=!0;else{h=new Vt(h,this);var d=a.listener,y=a.ha||a.src;a.fa&&Uo(a),a=d.call(y,h)}return a}function zo(a){return a=a[rt],a instanceof Pi?a:null}var $o="__closure_events_fn_"+(1e9*Math.random()>>>0);function Aa(a){return typeof a=="function"?a:(a[$o]||(a[$o]=function(h){return a.handleEvent(h)}),a[$o])}function Fe(){me.call(this),this.i=new Pi(this),this.M=this,this.F=null}T(Fe,me),Fe.prototype[ht]=!0,Fe.prototype.removeEventListener=function(a,h,d,y){Ra(this,a,h,d,y)};function Ke(a,h){var d,y=a.F;if(y)for(d=[];y;y=y.F)d.push(y);if(a=a.M,y=h.type||h,typeof h=="string")h=new Se(h,a);else if(h instanceof Se)h.target=h.target||a;else{var V=h;h=new Se(y,a),I(h,V)}if(V=!0,d)for(var O=d.length-1;0<=O;O--){var q=h.g=d[O];V=Wr(q,y,!0,h)&&V}if(q=h.g=a,V=Wr(q,y,!0,h)&&V,V=Wr(q,y,!1,h)&&V,d)for(O=0;O<d.length;O++)q=h.g=d[O],V=Wr(q,y,!1,h)&&V}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var d=a.g[h],y=0;y<d.length;y++)zn(d[y]);delete a.g[h],a.h--}}this.F=null},Fe.prototype.K=function(a,h,d,y){return this.i.add(String(a),h,!1,d,y)},Fe.prototype.L=function(a,h,d,y){return this.i.add(String(a),h,!0,d,y)};function Wr(a,h,d,y){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,O=0;O<h.length;++O){var q=h[O];if(q&&!q.da&&q.capture==d){var ke=q.listener,dt=q.ha||q.src;q.fa&&Fo(a.i,q),V=ke.call(dt,y)!==!1&&V}}return V&&!y.defaultPrevented}function ki(a,h,d){if(typeof a=="function")d&&(a=g(a,d));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function mn(a){a.g=ki(()=>{a.g=null,a.i&&(a.i=!1,mn(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class gn extends me{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:mn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(a){me.call(this),this.h=a,this.g={}}T(lr,me);var qr=[];function Pa(a){$(a.g,function(h,d){this.g.hasOwnProperty(d)&&Uo(h)},a),a.g={}}lr.prototype.N=function(){lr.aa.N.call(this),Pa(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var on=l.JSON.stringify,ka=l.JSON.parse,xa=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function xi(){}xi.prototype.h=null;function Da(a){return a.h||(a.h=a.i())}function Ho(){}var xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){Se.call(this,"d")}T(Di,Se);function Kr(){Se.call(this,"c")}T(Kr,Se);var sn={},Ni=null;function Vi(){return Ni=Ni||new Fe}sn.La="serverreachability";function Wo(a){Se.call(this,sn.La,a)}T(Wo,Se);function Qr(a){const h=Vi();Ke(h,new Wo(h))}sn.STAT_EVENT="statevent";function qo(a,h){Se.call(this,sn.STAT_EVENT,a),this.stat=h}T(qo,Se);function Je(a){const h=Vi();Ke(h,new qo(h,a))}sn.Ma="timingevent";function Gr(a,h){Se.call(this,sn.Ma,a),this.size=h}T(Gr,Se);function ur(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function Xr(){this.g=!0}Xr.prototype.xa=function(){this.g=!1};function nc(a,h,d,y,V,O){a.info(function(){if(a.g)if(O)for(var q="",ke=O.split("&"),dt=0;dt<ke.length;dt++){var we=ke[dt].split("=");if(1<we.length){var It=we[0];we=we[1];var Ct=It.split("_");q=2<=Ct.length&&Ct[1]=="type"?q+(It+"="+we+"&"):q+(It+"=redacted&")}}else q=null;else q=O;return"XMLHTTP REQ ("+y+") [attempt "+V+"]: "+h+`
`+d+`
`+q})}function k(a,h,d,y,V,O,q){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+V+"]: "+h+`
`+d+`
`+O+" "+q})}function N(a,h,d,y){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+j(a,d)+(y?" "+y:"")})}function M(a,h){a.info(function(){return"TIMEOUT: "+h})}Xr.prototype.info=function(){};function j(a,h){if(!a.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var y=d[a];if(!(2>y.length)){var V=y[1];if(Array.isArray(V)&&!(1>V.length)){var O=V[0];if(O!="noop"&&O!="stop"&&O!="close")for(var q=1;q<V.length;q++)V[q]=""}}}}return on(d)}catch{return h}}var Q={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},te={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ie;function W(){}T(W,xi),W.prototype.g=function(){return new XMLHttpRequest},W.prototype.i=function(){return{}},ie=new W;function ee(a,h,d,y){this.j=a,this.i=h,this.l=d,this.R=y||1,this.U=new lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Y}function Y(){this.i=null,this.g="",this.h=!1}var Z={},pe={};function ye(a,h,d){a.L=1,a.v=Oa(Hn(h)),a.m=d,a.P=!0,Ae(a,null)}function Ae(a,h){a.F=Date.now(),Ne(a),a.A=Hn(a.v);var d=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),Jf(d.i,"t",y),a.C=0,d=a.j.J,a.h=new Y,a.g=gp(a.j,d?h:null,!a.m),0<a.O&&(a.M=new gn(g(a.Y,a,a.g),a.O)),h=a.U,d=a.g,y=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(qr[0]=V.toString()),V=qr);for(var O=0;O<V.length;O++){var q=jo(d,V[O],y||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=a.H?p(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Qr(),nc(a.i,a.u,a.A,a.l,a.R,a.m)}ee.prototype.ca=function(a){a=a.target;const h=this.M;h&&Wn(a)==3?h.j():this.Y(a)},ee.prototype.Y=function(a){try{if(a==this.g)e:{const Ct=Wn(this.g);var h=this.g.Ba();const Oi=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||op(this.g)))){this.J||Ct!=4||h==7||(h==8||0>=Oi?Qr(3):Qr(2)),Kt(this);var d=this.g.Z();this.X=d;t:if(de(this)){var y=op(this.g);a="";var V=y.length,O=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tt(this),an(this);var q="";break t}this.h.i=new l.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,a+=this.h.i.decode(y[h],{stream:!(O&&h==V-1)});y.length=0,this.h.g+=a,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=d==200,k(this.i,this.u,this.A,this.l,this.R,Ct,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,dt=this.g;if((ke=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(ke)){var we=ke;break t}}we=null}if(d=we)N(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hr(this,d);else{this.o=!1,this.s=3,Je(12),Tt(this),an(this);break e}}if(this.P){d=!0;let _n;for(;!this.J&&this.C<q.length;)if(_n=Ze(this,q),_n==pe){Ct==4&&(this.s=4,Je(14),d=!1),N(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Z){this.s=4,Je(15),N(this.i,this.l,q,"[Invalid Chunk]"),d=!1;break}else N(this.i,this.l,_n,null),hr(this,_n);if(de(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||q.length!=0||this.h.h||(this.s=1,Je(16),d=!1),this.o=this.o&&d,!d)N(this.i,this.l,q,"[Invalid Chunked Response]"),Tt(this),an(this);else if(0<q.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),sc(It),It.M=!0,Je(11))}}else N(this.i,this.l,q,null),hr(this,q);Ct==4&&Tt(this),this.o&&!this.J&&(Ct==4?dp(this.j,this):(this.o=!1,Ne(this)))}else TE(this.g),d==400&&0<q.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),Tt(this),an(this)}}}catch{}finally{}};function de(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Ze(a,h){var d=a.C,y=h.indexOf(`
`,d);return y==-1?pe:(d=Number(h.substring(d,y)),isNaN(d)?Z:(y+=1,y+d>h.length?pe:(h=h.slice(y,y+d),a.C=y+d,h)))}ee.prototype.cancel=function(){this.J=!0,Tt(this)};function Ne(a){a.S=Date.now()+a.I,cr(a,a.I)}function cr(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ur(g(a.ba,a),h)}function Kt(a){a.B&&(l.clearTimeout(a.B),a.B=null)}ee.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(M(this.i,this.A),this.L!=2&&(Qr(),Je(17)),Tt(this),this.s=2,an(this)):cr(this,this.S-a)};function an(a){a.j.G==0||a.J||dp(a.j,a)}function Tt(a){Kt(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Pa(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function hr(a,h){try{var d=a.j;if(d.G!=0&&(d.g==a||ae(d.h,a))){if(!a.K&&ae(d.h,a)&&d.G==3){try{var y=d.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var V=y;if(V[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)za(d),Ua(d);else break e;oc(d),Je(18)}}else d.za=V[1],0<d.za-d.T&&37500>V[2]&&d.F&&d.v==0&&!d.C&&(d.C=ur(g(d.Za,d),6e3));if(1>=Zr(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else ti(d,11)}else if((a.K||d.g==a)&&za(d),!v(h))for(V=d.Da.g.parse(h),h=0;h<V.length;h++){let we=V[h];if(d.T=we[0],we=we[1],d.G==2)if(we[0]=="c"){d.K=we[1],d.ia=we[2];const It=we[3];It!=null&&(d.la=It,d.j.info("VER="+d.la));const Ct=we[4];Ct!=null&&(d.Aa=Ct,d.j.info("SVER="+d.Aa));const Oi=we[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(y=1.5*Oi,d.L=y,d.j.info("backChannelRequestTimeoutMs_="+y)),y=d;const _n=a.g;if(_n){const Ha=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ha){var O=y.h;O.g||Ha.indexOf("spdy")==-1&&Ha.indexOf("quic")==-1&&Ha.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(xe(O,O.h),O.h=null))}if(y.D){const ac=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;ac&&(y.ya=ac,Le(y.I,y.D,ac))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),y=d;var q=a;if(y.qa=mp(y,y.J?y.ia:null,y.W),q.K){St(y.h,q);var ke=q,dt=y.L;dt&&(ke.I=dt),ke.B&&(Kt(ke),Ne(ke)),y.g=q}else cp(y);0<d.i.length&&Ba(d)}else we[0]!="stop"&&we[0]!="close"||ti(d,7);else d.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?ti(d,7):ic(d):we[0]!="noop"&&d.l&&d.l.ta(we),d.v=0)}}Qr(4)}catch{}}var yn=class{constructor(a,h){this.g=a,this.map=h}};function Yr(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jr(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Zr(a){return a.h?1:a.g?a.g.size:0}function ae(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function xe(a,h){a.g?a.g.add(h):a.h=h}function St(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Yr.prototype.cancel=function(){if(this.i=Ve(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ve(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const d of a.g.values())h=h.concat(d.D);return h}return A(a.i)}function vn(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],d=a.length,y=0;y<d;y++)h.push(a[y]);return h}h=[],d=0;for(y in a)h[d++]=a[y];return h}function Na(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var d=0;d<a;d++)h.push(d);return h}h=[],d=0;for(const y in a)h[d++]=y;return h}}}function Va(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var d=Na(a),y=vn(a),V=y.length,O=0;O<V;O++)h.call(void 0,y[O],d&&d[O],a)}var Kf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uE(a,h){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var y=a[d].indexOf("="),V=null;if(0<=y){var O=a[d].substring(0,y);V=a[d].substring(y+1)}else O=a[d];h(O,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ei(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ei){this.h=a.h,La(this,a.j),this.o=a.o,this.g=a.g,Ma(this,a.s),this.l=a.l;var h=a.i,d=new Go;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),Qf(this,d),this.m=a.m}else a&&(h=String(a).match(Kf))?(this.h=!1,La(this,h[1]||"",!0),this.o=Ko(h[2]||""),this.g=Ko(h[3]||"",!0),Ma(this,h[4]),this.l=Ko(h[5]||"",!0),Qf(this,h[6]||"",!0),this.m=Ko(h[7]||"")):(this.h=!1,this.i=new Go(null,this.h))}ei.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Qo(h,Gf,!0),":");var d=this.g;return(d||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Qo(h,Gf,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(Qo(d,d.charAt(0)=="/"?dE:hE,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",Qo(d,pE)),a.join("")};function Hn(a){return new ei(a)}function La(a,h,d){a.j=d?Ko(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Ma(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Qf(a,h,d){h instanceof Go?(a.i=h,mE(a.i,a.h)):(d||(h=Qo(h,fE)),a.i=new Go(h,a.h))}function Le(a,h,d){a.i.set(h,d)}function Oa(a){return Le(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ko(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Qo(a,h,d){return typeof a=="string"?(a=encodeURI(a).replace(h,cE),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function cE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Gf=/[#\/\?@]/g,hE=/[#\?:]/g,dE=/[#\?]/g,fE=/[#\?@]/g,pE=/#/g;function Go(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function dr(a){a.g||(a.g=new Map,a.h=0,a.i&&uE(a.i,function(h,d){a.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=Go.prototype,t.add=function(a,h){dr(this),this.i=null,a=Li(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(h),this.h+=1,this};function Xf(a,h){dr(a),h=Li(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Yf(a,h){return dr(a),h=Li(a,h),a.g.has(h)}t.forEach=function(a,h){dr(this),this.g.forEach(function(d,y){d.forEach(function(V){a.call(h,V,y,this)},this)},this)},t.na=function(){dr(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let y=0;y<h.length;y++){const V=a[y];for(let O=0;O<V.length;O++)d.push(h[y])}return d},t.V=function(a){dr(this);let h=[];if(typeof a=="string")Yf(this,a)&&(h=h.concat(this.g.get(Li(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)h=h.concat(a[d])}return h},t.set=function(a,h){return dr(this),this.i=null,a=Li(this,a),Yf(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Jf(a,h,d){Xf(a,h),0<d.length&&(a.i=null,a.g.set(Li(a,h),A(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var y=h[d];const O=encodeURIComponent(String(y)),q=this.V(y);for(y=0;y<q.length;y++){var V=O;q[y]!==""&&(V+="="+encodeURIComponent(String(q[y]))),a.push(V)}}return this.i=a.join("&")};function Li(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function mE(a,h){h&&!a.j&&(dr(a),a.i=null,a.g.forEach(function(d,y){var V=y.toLowerCase();y!=V&&(Xf(this,y),Jf(this,V,d))},a)),a.j=h}function gE(a,h){const d=new Xr;if(l.Image){const y=new Image;y.onload=E(fr,d,"TestLoadImage: loaded",!0,h,y),y.onerror=E(fr,d,"TestLoadImage: error",!1,h,y),y.onabort=E(fr,d,"TestLoadImage: abort",!1,h,y),y.ontimeout=E(fr,d,"TestLoadImage: timeout",!1,h,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else h(!1)}function yE(a,h){const d=new Xr,y=new AbortController,V=setTimeout(()=>{y.abort(),fr(d,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:y.signal}).then(O=>{clearTimeout(V),O.ok?fr(d,"TestPingServer: ok",!0,h):fr(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),fr(d,"TestPingServer: error",!1,h)})}function fr(a,h,d,y,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),y(d)}catch{}}function vE(){this.g=new xa}function _E(a,h,d){const y=d||"";try{Va(a,function(V,O){let q=V;c(V)&&(q=on(V)),h.push(y+O+"="+encodeURIComponent(q))})}catch(V){throw h.push(y+"type="+encodeURIComponent("_badmap")),V}}function Fa(a){this.l=a.Ub||null,this.j=a.eb||!1}T(Fa,xi),Fa.prototype.g=function(){return new ba(this.l,this.j)},Fa.prototype.i=function(a){return function(){return a}}({});function ba(a,h){Fe.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(ba,Fe),t=ba.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Yo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Yo(this)),this.g&&(this.readyState=3,Yo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zf(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zf(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Xo(this):Yo(this),this.readyState==3&&Zf(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Xo(this))},t.Qa=function(a){this.g&&(this.response=a,Xo(this))},t.ga=function(){this.g&&Xo(this)};function Xo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Yo(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=h.next();return a.join(`\r
`)};function Yo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ep(a){let h="";return $(a,function(d,y){h+=y,h+=":",h+=d,h+=`\r
`}),h}function rc(a,h,d){e:{for(y in d){var y=!1;break e}y=!0}y||(d=ep(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):Le(a,h,d))}function We(a){Fe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(We,Fe);var EE=/^https?$/i,wE=["POST","PUT"];t=We.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,d,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ie.g(),this.v=this.o?Da(this.o):Da(ie),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(O){tp(this,O);return}if(a=d||"",d=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var V in y)d.set(V,y[V]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const O of y.keys())d.set(O,y.get(O));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(d.keys()).find(O=>O.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(wE,h,void 0))||y||V||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,q]of d)this.g.setRequestHeader(O,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ip(this),this.u=!0,this.g.send(a),this.u=!1}catch(O){tp(this,O)}};function tp(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,np(a),ja(a)}function np(a){a.A||(a.A=!0,Ke(a,"complete"),Ke(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ke(this,"complete"),Ke(this,"abort"),ja(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ja(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?rp(this):this.bb())},t.bb=function(){rp(this)};function rp(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Wn(a)!=4||a.Z()!=2)){if(a.u&&Wn(a)==4)ki(a.Ea,0,a);else if(Ke(a,"readystatechange"),Wn(a)==4){a.h=!1;try{const q=a.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var y;if(y=q===0){var V=String(a.D).match(Kf)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),y=!EE.test(V?V.toLowerCase():"")}d=y}if(d)Ke(a,"complete"),Ke(a,"success");else{a.m=6;try{var O=2<Wn(a)?a.g.statusText:""}catch{O=""}a.l=O+" ["+a.Z()+"]",np(a)}}finally{ja(a)}}}}function ja(a,h){if(a.g){ip(a);const d=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||Ke(a,"ready");try{d.onreadystatechange=y}catch{}}}function ip(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Wn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),ka(h)}};function op(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function TE(a){const h={};a=(a.g&&2<=Wn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(v(a[y]))continue;var d=P(a[y]);const V=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const O=h[V]||[];h[V]=O,O.push(d)}S(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jo(a,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||h}function sp(a){this.Aa=0,this.i=[],this.j=new Xr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jo("baseRetryDelayMs",5e3,a),this.cb=Jo("retryDelaySeedMs",1e4,a),this.Wa=Jo("forwardChannelMaxRetries",2,a),this.wa=Jo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Yr(a&&a.concurrentRequestLimit),this.Da=new vE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sp.prototype,t.la=8,t.G=1,t.connect=function(a,h,d,y){Je(0),this.W=a,this.H=h||{},d&&y!==void 0&&(this.H.OSID=d,this.H.OAID=y),this.F=this.X,this.I=mp(this,null,this.W),Ba(this)};function ic(a){if(ap(a),a.G==3){var h=a.U++,d=Hn(a.I);if(Le(d,"SID",a.K),Le(d,"RID",h),Le(d,"TYPE","terminate"),Zo(a,d),h=new ee(a,a.j,h),h.L=2,h.v=Oa(Hn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=h.v,d=!0),d||(h.g=gp(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ne(h)}pp(a)}function Ua(a){a.g&&(sc(a),a.g.cancel(),a.g=null)}function ap(a){Ua(a),a.u&&(l.clearTimeout(a.u),a.u=null),za(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ba(a){if(!Jr(a.h)&&!a.s){a.s=!0;var h=a.Ga;jt||oe(),K||(jt(),K=!0),G.add(h,a),a.B=0}}function SE(a,h){return Zr(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ur(g(a.Ga,a,h),fp(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new ee(this,this.j,a);let O=this.o;if(this.S&&(O?(O=p(O),I(O,this.S)):O=this.S),this.m!==null||this.O||(V.H=O,O=null),this.P)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var y=this.i[d];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=up(this,V,h),d=Hn(this.I),Le(d,"RID",a),Le(d,"CVER",22),this.D&&Le(d,"X-HTTP-Session-Id",this.D),Zo(this,d),O&&(this.O?h="headers="+encodeURIComponent(String(ep(O)))+"&"+h:this.m&&rc(d,this.m,O)),xe(this.h,V),this.Ua&&Le(d,"TYPE","init"),this.P?(Le(d,"$req",h),Le(d,"SID","null"),V.T=!0,ye(V,d,null)):ye(V,d,h),this.G=2}}else this.G==3&&(a?lp(this,a):this.i.length==0||Jr(this.h)||lp(this))};function lp(a,h){var d;h?d=h.l:d=a.U++;const y=Hn(a.I);Le(y,"SID",a.K),Le(y,"RID",d),Le(y,"AID",a.T),Zo(a,y),a.m&&a.o&&rc(y,a.m,a.o),d=new ee(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),h&&(a.i=h.D.concat(a.i)),h=up(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),xe(a.h,d),ye(d,y,h)}function Zo(a,h){a.H&&$(a.H,function(d,y){Le(h,y,d)}),a.l&&Va({},function(d,y){Le(h,y,d)})}function up(a,h,d){d=Math.min(a.i.length,d);var y=a.l?g(a.l.Na,a.l,a):null;e:{var V=a.i;let O=-1;for(;;){const q=["count="+d];O==-1?0<d?(O=V[0].g,q.push("ofs="+O)):O=0:q.push("ofs="+O);let ke=!0;for(let dt=0;dt<d;dt++){let we=V[dt].g;const It=V[dt].map;if(we-=O,0>we)O=Math.max(0,V[dt].g-100),ke=!1;else try{_E(It,q,"req"+we+"_")}catch{y&&y(It)}}if(ke){y=q.join("&");break e}}}return a=a.i.splice(0,d),h.D=a,y}function cp(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;jt||oe(),K||(jt(),K=!0),G.add(h,a),a.v=0}}function oc(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ur(g(a.Fa,a),fp(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,hp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ur(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),Ua(this),hp(this))};function sc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function hp(a){a.g=new ee(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=Hn(a.qa);Le(h,"RID","rpc"),Le(h,"SID",a.K),Le(h,"AID",a.T),Le(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Le(h,"TO",a.ja),Le(h,"TYPE","xmlhttp"),Zo(a,h),a.m&&a.o&&rc(h,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=Oa(Hn(h)),d.m=null,d.P=!0,Ae(d,a)}t.Za=function(){this.C!=null&&(this.C=null,Ua(this),oc(this),Je(19))};function za(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function dp(a,h){var d=null;if(a.g==h){za(a),sc(a),a.g=null;var y=2}else if(ae(a.h,h))d=h.D,St(a.h,h),y=1;else return;if(a.G!=0){if(h.o)if(y==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var V=a.B;y=Vi(),Ke(y,new Gr(y,d)),Ba(a)}else cp(a);else if(V=h.s,V==3||V==0&&0<h.X||!(y==1&&SE(a,h)||y==2&&oc(a)))switch(d&&0<d.length&&(h=a.h,h.i=h.i.concat(d)),V){case 1:ti(a,5);break;case 4:ti(a,10);break;case 3:ti(a,6);break;default:ti(a,2)}}}function fp(a,h){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*h}function ti(a,h){if(a.j.info("Error code "+h),h==2){var d=g(a.fb,a),y=a.Xa;const V=!y;y=new ei(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||La(y,"https"),Oa(y),V?gE(y.toString(),d):yE(y.toString(),d)}else Je(2);a.G=0,a.l&&a.l.sa(h),pp(a),ap(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function pp(a){if(a.G=0,a.ka=[],a.l){const h=Ve(a.h);(h.length!=0||a.i.length!=0)&&(x(a.ka,h),x(a.ka,a.i),a.h.i.length=0,A(a.i),a.i.length=0),a.l.ra()}}function mp(a,h,d){var y=d instanceof ei?Hn(d):new ei(d);if(y.g!="")h&&(y.g=h+"."+y.g),Ma(y,y.s);else{var V=l.location;y=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var O=new ei(null);y&&La(O,y),h&&(O.g=h),V&&Ma(O,V),d&&(O.l=d),y=O}return d=a.D,h=a.ya,d&&h&&Le(y,d,h),Le(y,"VER",a.la),Zo(a,y),y}function gp(a,h,d){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new We(new Fa({eb:d})):new We(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yp(){}t=yp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $a(){}$a.prototype.g=function(a,h){return new Qt(a,h)};function Qt(a,h){Fe.call(this),this.g=new sp(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!v(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!v(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Mi(this)}T(Qt,Fe),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){ic(this.g)},Qt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=on(a),a=d);h.i.push(new yn(h.Ya++,a)),h.G==3&&Ba(h)},Qt.prototype.N=function(){this.g.l=null,delete this.j,ic(this.g),delete this.g,Qt.aa.N.call(this)};function vp(a){Di.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const d in h){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}T(vp,Di);function _p(){Kr.call(this),this.status=1}T(_p,Kr);function Mi(a){this.g=a}T(Mi,yp),Mi.prototype.ua=function(){Ke(this.g,"a")},Mi.prototype.ta=function(a){Ke(this.g,new vp(a))},Mi.prototype.sa=function(a){Ke(this.g,new _p)},Mi.prototype.ra=function(){Ke(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,B_=function(){return new $a},U_=function(){return Vi()},j_=sn,Yh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Q.NO_ERROR=0,Q.TIMEOUT=8,Q.HTTP_ERROR=6,Al=Q,te.COMPLETE="complete",b_=te,Ho.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,vs=Ho,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,F_=We}).apply(typeof ul<"u"?ul:typeof self<"u"?self:typeof window<"u"?window:{});const sg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new x_("@firebase/firestore");function hs(){return wi.logLevel}function J(t,...e){if(wi.logLevel<=ve.DEBUG){const n=e.map(mf);wi.debug(`Firestore (${No}): ${t}`,...n)}}function ir(t,...e){if(wi.logLevel<=ve.ERROR){const n=e.map(mf);wi.error(`Firestore (${No}): ${t}`,...n)}}function _o(t,...e){if(wi.logLevel<=ve.WARN){const n=e.map(mf);wi.warn(`Firestore (${No}): ${t}`,...n)}}function mf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: `+t;throw ir(e),new Error(e)}function Re(t,e){t||se()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Do{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class oC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sC{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Jn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Jn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new z_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new kt(e)}}class aC{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lC{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new aC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Re(this.o===void 0);const r=o=>{o.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,J("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new uC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=hC(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function Eo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new at(0,0))}static max(){return new le(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends sa{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new je(n)}static emptyPath(){return new je([])}}const dC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends sa{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return dC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ne(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ne(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ne(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new ne(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(je.fromString(e))}static fromName(e){return new re(je.fromString(e).popFirst(5))}static empty(){return new re(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new je(e.slice()))}}function fC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new br(i,re.empty(),e)}function pC(t){return new br(t.readTime,t.key,-1)}class br{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new br(le.min(),re.empty(),-1)}static max(){return new br(le.max(),re.empty(),-1)}}function mC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==gC)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(f=>{s[c]=f,++l,l===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function vC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ea(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}gf.oe=-1;function ju(t){return t==null}function lu(t){return t===0&&1/t==-1/0}function _C(t){return typeof t=="number"&&Number.isInteger(t)&&!lu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cl(this.root,e,this.comparator,!1)}getReverseIterator(){return new cl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cl(this.root,e,this.comparator,!0)}}class cl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??pt.RED,this.left=i??pt.EMPTY,this.right=o??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new pt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,o){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lg(this.data.getIterator())}getIteratorFrom(e){return new lg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class lg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new yt(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new W_("Invalid base64 string: "+o):o}}(e);return new _t(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const EC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(t){if(Re(!!t),typeof t=="string"){let e=0;const n=EC.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ti(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vf(t){const e=t.mapValue.fields.__previous_value__;return yf(e)?vf(e):e}function aa(t){const e=jr(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,r,i,o,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class la{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new la("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof la&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yf(t)?4:SC(t)?9007199254740991:TC(t)?10:11:se()}function jn(t,e){if(t===e)return!0;const n=Si(t);if(n!==Si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return aa(t).isEqual(aa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=jr(i.timestampValue),l=jr(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ti(i.bytesValue).isEqual(Ti(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Xe(i.geoPointValue.latitude)===Xe(o.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Xe(i.integerValue)===Xe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Xe(i.doubleValue),l=Xe(o.doubleValue);return s===l?lu(s)===lu(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Eo(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(ag(s)!==ag(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!jn(s[u],l[u])))return!1;return!0}(t,e);default:return se()}}function ua(t,e){return(t.values||[]).find(n=>jn(n,e))!==void 0}function wo(t,e){if(t===e)return 0;const n=Si(t),r=Si(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Xe(o.integerValue||o.doubleValue),u=Xe(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return ug(t.timestampValue,e.timestampValue);case 4:return ug(aa(t),aa(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(o,s){const l=Ti(o),u=Ti(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=Te(l[c],u[c]);if(f!==0)return f}return Te(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=Te(Xe(o.latitude),Xe(s.latitude));return l!==0?l:Te(Xe(o.longitude),Xe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cg(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,u,c,f;const m=o.fields||{},g=s.fields||{},E=(l=m.value)===null||l===void 0?void 0:l.arrayValue,T=(u=g.value)===null||u===void 0?void 0:u.arrayValue,A=Te(((c=E==null?void 0:E.values)===null||c===void 0?void 0:c.length)||0,((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0);return A!==0?A:cg(E,T)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===hl.mapValue&&s===hl.mapValue)return 0;if(o===hl.mapValue)return 1;if(s===hl.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),c=s.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=Te(u[m],f[m]);if(g!==0)return g;const E=wo(l[u[m]],c[f[m]]);if(E!==0)return E}return Te(u.length,f.length)}(t.mapValue,e.mapValue);default:throw se()}}function ug(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=jr(t),r=jr(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function cg(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=wo(n[i],r[i]);if(o)return o}return Te(n.length,r.length)}function To(t){return Jh(t)}function Jh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=jr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Jh(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Jh(n.fields[s])}`;return i+"}"}(t.mapValue):se()}function Zh(t){return!!t&&"integerValue"in t}function _f(t){return!!t&&"arrayValue"in t}function hg(t){return!!t&&"nullValue"in t}function dg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pl(t){return!!t&&"mapValue"in t}function TC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ns(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ns(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ns(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ns(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Ns(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Pl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new cn(Ns(this.value))}}function q_(t){const e=[];return Vo(t.fields,(n,r)=>{const i=new mt([n]);if(Pl(r)){const o=q_(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Dt(e,0,le.min(),le.min(),le.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new Dt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Dt(e,2,n,le.min(),le.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,le.min(),le.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.position=e,this.inclusive=n}}function fg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=re.comparator(re.fromName(s.referenceValue),n.key):r=wo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function pg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function IC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{}class ot extends K_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RC(e,n,r):n==="array-contains"?new kC(e,r):n==="in"?new xC(e,r):n==="not-in"?new DC(e,r):n==="array-contains-any"?new NC(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AC(e,r):new PC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wo(n,this.value)):n!==null&&Si(this.value)===Si(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends K_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Un(e,n)}matches(e){return Q_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Q_(t){return t.op==="and"}function G_(t){return CC(t)&&Q_(t)}function CC(t){for(const e of t.filters)if(e instanceof Un)return!1;return!0}function ed(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+To(t.value);if(G_(t))return t.filters.map(e=>ed(e)).join(",");{const e=t.filters.map(n=>ed(n)).join(",");return`${t.op}(${e})`}}function X_(t,e){return t instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&jn(r.value,i.value)}(t,e):t instanceof Un?function(r,i){return i instanceof Un&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&X_(s,i.filters[l]),!0):!1}(t,e):void se()}function Y_(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`}(t):t instanceof Un?function(n){return n.op.toString()+" {"+n.getFilters().map(Y_).join(" ,")+"}"}(t):"Filter"}class RC extends ot{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class AC extends ot{constructor(e,n){super(e,"in",n),this.keys=J_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PC extends ot{constructor(e,n){super(e,"not-in",n),this.keys=J_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function J_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class kC extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _f(n)&&ua(n.arrayValue,this.value)}}class xC extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ua(this.value.arrayValue,n)}}class DC extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ua(this.value.arrayValue,n)}}class NC extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_f(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ua(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function mg(t,e=null,n=[],r=[],i=null,o=null,s=null){return new VC(t,e,n,r,i,o,s)}function Ef(t){const e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ed(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ju(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>To(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>To(r)).join(",")),e.ue=n}return e.ue}function wf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!X_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pg(t.startAt,e.startAt)&&pg(t.endAt,e.endAt)}function td(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function LC(t,e,n,r,i,o,s,l){return new Uu(t,e,n,r,i,o,s,l)}function Tf(t){return new Uu(t)}function gg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MC(t){return t.collectionGroup!==null}function Vs(t){const e=ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new yt(mt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new cu(o,r))}),n.has(mt.keyField().canonicalString())||e.ce.push(new cu(mt.keyField(),r))}return e.ce}function On(t){const e=ue(t);return e.le||(e.le=OC(e,Vs(t))),e.le}function OC(t,e){if(t.limitType==="F")return mg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new cu(i.field,o)});const n=t.endAt?new uu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uu(t.startAt.position,t.startAt.inclusive):null;return mg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nd(t,e,n){return new Uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bu(t,e){return wf(On(t),On(e))&&t.limitType===e.limitType}function Z_(t){return`${Ef(On(t))}|lt:${t.limitType}`}function Ui(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Y_(i)).join(", ")}]`),ju(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>To(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>To(i)).join(",")),`Target(${r})`}(On(t))}; limitType=${t.limitType})`}function zu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Vs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const c=fg(s,l,u);return s.inclusive?c<=0:c<0}(r.startAt,Vs(r),i)||r.endAt&&!function(s,l,u){const c=fg(s,l,u);return s.inclusive?c>=0:c>0}(r.endAt,Vs(r),i))}(t,e)}function FC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function e0(t){return(e,n)=>{let r=!1;for(const i of Vs(t)){const o=bC(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function bC(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),c=l.data.field(o);return u!==null&&c!==null?wo(u,c):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return H_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new He(re.comparator);function or(){return jC}const t0=new He(re.comparator);function _s(...t){let e=t0;for(const n of t)e=e.insert(n.key,n);return e}function n0(t){let e=t0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function di(){return Ls()}function r0(){return Ls()}function Ls(){return new Lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const UC=new He(re.comparator),BC=new yt(re.comparator);function fe(...t){let e=BC;for(const n of t)e=e.add(n);return e}const zC=new yt(Te);function $C(){return zC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lu(e)?"-0":e}}function i0(t){return{integerValue:""+t}}function HC(t,e){return _C(e)?i0(e):Sf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this._=void 0}}function WC(t,e,n){return t instanceof hu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&yf(o)&&(o=vf(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ca?s0(t,e):t instanceof ha?a0(t,e):function(i,o){const s=o0(i,o),l=yg(s)+yg(i.Pe);return Zh(s)&&Zh(i.Pe)?i0(l):Sf(i.serializer,l)}(t,e)}function qC(t,e,n){return t instanceof ca?s0(t,e):t instanceof ha?a0(t,e):n}function o0(t,e){return t instanceof du?function(r){return Zh(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class hu extends $u{}class ca extends $u{constructor(e){super(),this.elements=e}}function s0(t,e){const n=l0(e);for(const r of t.elements)n.some(i=>jn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ha extends $u{constructor(e){super(),this.elements=e}}function a0(t,e){let n=l0(e);for(const r of t.elements)n=n.filter(i=>!jn(i,r));return{arrayValue:{values:n}}}class du extends $u{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function yg(t){return Xe(t.integerValue||t.doubleValue)}function l0(t){return _f(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function KC(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ca&&i instanceof ca||r instanceof ha&&i instanceof ha?Eo(r.elements,i.elements,jn):r instanceof du&&i instanceof du?jn(r.Pe,i.Pe):r instanceof hu&&i instanceof hu}(t.transform,e.transform)}class QC{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hu{}function u0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new If(t.key,Fn.none()):new wa(t.key,t.data,Fn.none());{const n=t.data,r=cn.empty();let i=new yt(mt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ri(t.key,r,new Cn(i.toArray()),Fn.none())}}function GC(t,e,n){t instanceof wa?function(i,o,s){const l=i.value.clone(),u=_g(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ri?function(i,o,s){if(!kl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=_g(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(c0(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ms(t,e,n,r){return t instanceof wa?function(o,s,l,u){if(!kl(o.precondition,s))return l;const c=o.value.clone(),f=Eg(o.fieldTransforms,u,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ri?function(o,s,l,u){if(!kl(o.precondition,s))return l;const c=Eg(o.fieldTransforms,u,s),f=s.data;return f.setAll(c0(o)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,s,l){return kl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function XC(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=o0(r.transform,i||null);o!=null&&(n===null&&(n=cn.empty()),n.set(r.field,o))}return n||null}function vg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Eo(r,i,(o,s)=>KC(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wa extends Hu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ri extends Hu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function c0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _g(t,e,n){const r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,qC(s,l,n[i]))}return r}function Eg(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,WC(o,s,e))}return r}class If extends Hu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YC extends Hu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&GC(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ms(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ms(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=r0();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=u0(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(n,r)=>vg(n,r))&&Eo(this.baseMutations,e.baseMutations,(n,r)=>vg(n,r))}}class Cf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return UC}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Cf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,ge;function tR(t){switch(t){default:return se();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function h0(t){if(t===void 0)return ir("GRPC error has no .code"),B.UNKNOWN;switch(t){case et.OK:return B.OK;case et.CANCELLED:return B.CANCELLED;case et.UNKNOWN:return B.UNKNOWN;case et.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case et.INTERNAL:return B.INTERNAL;case et.UNAVAILABLE:return B.UNAVAILABLE;case et.UNAUTHENTICATED:return B.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case et.NOT_FOUND:return B.NOT_FOUND;case et.ALREADY_EXISTS:return B.ALREADY_EXISTS;case et.PERMISSION_DENIED:return B.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case et.ABORTED:return B.ABORTED;case et.OUT_OF_RANGE:return B.OUT_OF_RANGE;case et.UNIMPLEMENTED:return B.UNIMPLEMENTED;case et.DATA_LOSS:return B.DATA_LOSS;default:return se()}}(ge=et||(et={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=new mi([4294967295,4294967295],0);function wg(t){const e=nR().encode(t),n=new O_;return n.update(e),new Uint8Array(n.digest())}function Tg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mi([n,r],0),new mi([i,o],0)]}class Rf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Es(`Invalid padding: ${n}`);if(r<0)throw new Es(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Es(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Es(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=mi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(mi.fromNumber(r)));return i.compare(rR)===1&&(i=new mi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=wg(e),[r,i]=Tg(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Rf(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=wg(e),[r,i]=Tg(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Es extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ta.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wu(le.min(),i,new He(Te),or(),fe())}}class Ta{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ta(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class d0{constructor(e,n){this.targetId=e,this.me=n}}class f0{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Sg{constructor(){this.fe=0,this.ge=Cg(),this.pe=_t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fe(),n=fe(),r=fe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new Ta(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Cg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iR{constructor(e){this.Le=e,this.Be=new Map,this.ke=or(),this.qe=Ig(),this.Qe=new He(Te)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(td(o))if(r===0){const s=new re(o.path);this.Ue(n,s,Dt.newNoDocument(s,le.min()))}else Re(r===1);else{const s=this.Ye(n);if(s!==r){const l=this.Ze(e),u=l?this.Xe(l,e,s):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=Ti(r).toUint8Array()}catch(u){if(u instanceof W_)return _o("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Rf(s,i,o)}catch(u){return _o(u instanceof Es?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&td(l.target)){const u=new re(l.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Dt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=fe();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Wu(e,n,this.Qe,this.ke,r);return this.ke=or(),this.qe=Ig(),this.Qe=new He(Te),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Sg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new yt(Te),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Sg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ig(){return new He(re.comparator)}function Cg(){return new He(re.comparator)}const oR={asc:"ASCENDING",desc:"DESCENDING"},sR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aR={and:"AND",or:"OR"};class lR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rd(t,e){return t.useProto3Json||ju(e)?e:{value:e}}function fu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uR(t,e){return fu(t,e.toTimestamp())}function bn(t){return Re(!!t),le.fromTimestamp(function(n){const r=jr(n);return new at(r.seconds,r.nanos)}(t))}function Af(t,e){return id(t,e).canonicalString()}function id(t,e){const n=function(i){return new je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function m0(t){const e=je.fromString(t);return Re(E0(e)),e}function od(t,e){return Af(t.databaseId,e.path)}function Bc(t,e){const n=m0(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(y0(n))}function g0(t,e){return Af(t.databaseId,e)}function cR(t){const e=m0(t);return e.length===4?je.emptyPath():y0(e)}function sd(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function y0(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rg(t,e,n){return{name:od(t,e),fields:n.value.mapValue.fields}}function hR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,f){return c.useProto3Json?(Re(f===void 0||typeof f=="string"),_t.fromBase64String(f||"")):(Re(f===void 0||f instanceof Buffer||f instanceof Uint8Array),_t.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(c){const f=c.code===void 0?B.UNKNOWN:h0(c.code);return new ne(f,c.message||"")}(s);n=new f0(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bc(t,r.document.name),o=bn(r.document.updateTime),s=r.document.createTime?bn(r.document.createTime):le.min(),l=new cn({mapValue:{fields:r.document.fields}}),u=Dt.newFoundDocument(i,o,s,l),c=r.targetIds||[],f=r.removedTargetIds||[];n=new xl(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Bc(t,r.document),o=r.readTime?bn(r.readTime):le.min(),s=Dt.newNoDocument(i,o),l=r.removedTargetIds||[];n=new xl([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Bc(t,r.document),o=r.removedTargetIds||[];n=new xl([],o,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new eR(i,o),l=r.targetId;n=new d0(l,s)}}return n}function dR(t,e){let n;if(e instanceof wa)n={update:Rg(t,e.key,e.value)};else if(e instanceof If)n={delete:od(t,e.key)};else if(e instanceof Ri)n={update:Rg(t,e.key,e.data),updateMask:wR(e.fieldMask)};else{if(!(e instanceof YC))return se();n={verify:od(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof hu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ca)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ha)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof du)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:uR(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(t,e.precondition)),n}function fR(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?bn(i.updateTime):bn(o);return s.isEqual(le.min())&&(s=bn(o)),new QC(s,i.transformResults||[])}(n,e))):[]}function pR(t,e){return{documents:[g0(t,e.path)]}}function mR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=g0(t,i);const o=function(c){if(c.length!==0)return _0(Un.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(f=>function(g){return{field:Bi(g.field),direction:vR(g.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=rd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function gR(t){let e=cR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(m){const g=v0(m);return g instanceof Un&&G_(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(g=>function(T){return new cu(zi(T.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,ju(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,E=m.values||[];return new uu(E,g)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const g=!m.before,E=m.values||[];return new uu(E,g)}(n.endAt)),LC(e,i,s,o,l,"F",u,c)}function yR(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function v0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zi(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zi(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zi(n.unaryFilter.field);return ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=zi(n.unaryFilter.field);return ot.create(s,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return ot.create(zi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Un.create(n.compositeFilter.filters.map(r=>v0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function vR(t){return oR[t]}function _R(t){return sR[t]}function ER(t){return aR[t]}function Bi(t){return{fieldPath:t.canonicalString()}}function zi(t){return mt.fromServerFormat(t.fieldPath)}function _0(t){return t instanceof ot?function(n){if(n.op==="=="){if(dg(n.value))return{unaryFilter:{field:Bi(n.field),op:"IS_NAN"}};if(hg(n.value))return{unaryFilter:{field:Bi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dg(n.value))return{unaryFilter:{field:Bi(n.field),op:"IS_NOT_NAN"}};if(hg(n.value))return{unaryFilter:{field:Bi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bi(n.field),op:_R(n.op),value:n.value}}}(t):t instanceof Un?function(n){const r=n.getFilters().map(i=>_0(i));return r.length===1?r[0]:{compositeFilter:{op:ER(n.op),filters:r}}}(t):se()}function wR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function E0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n,r,i,o=le.min(),s=le.min(),l=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.ct=e}}function SR(t){const e=gR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.un=new CR}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(br.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(br.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class CR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new So(0)}static kn(){return new So(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.changes=new Lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ms(r.mutation,i,Cn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=di();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=_s();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=di();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=or();const s=Ls(),l=function(){return Ls()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Ri)?o=o.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),Ms(f.mutation,c,f.mutation.getFieldMask(),at.now())):s.set(c.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,f)=>s.set(c,f)),n.forEach((c,f)=>{var m;return l.set(c,new AR(f,(m=s.get(c))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ls();let i=new He((s,l)=>s-l),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||Cn.empty();f=l.applyToLocalView(c,f),r.set(u,f);const m=(i.get(l.batchId)||fe()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,m=r0();f.forEach(g=>{if(!o.has(g)){const E=u0(n.get(g),r.get(g));E!==null&&m.set(g,E),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,m))}return z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):z.resolve(di());let l=-1,u=o;return s.next(c=>z.forEach(c,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),o.get(f)?z.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,fe())).next(f=>({batchId:l,changes:n0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=_s();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=_s();return this.indexManager.getCollectionParents(e,o).next(l=>z.forEach(l,u=>{const c=function(m,g){return new Uu(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((m,g)=>{s=s.insert(m,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,Dt.newInvalidDocument(f)))});let l=_s();return s.forEach((u,c)=>{const f=o.get(u);f!==void 0&&Ms(f.mutation,c,Cn.empty(),at.now()),zu(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bn(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:SR(i.bundledQuery),readTime:bn(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.overlays=new He(re.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=di();return z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=di(),o=n.length+1,s=new re(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new He((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=o.get(c.largestBatchId);f===null&&(f=di(),o=o.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=di(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=i)););return z.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ZC(n,r));let o=this.Ir.get(n);o===void 0&&(o=fe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this.Tr=new yt(lt.Er),this.dr=new yt(lt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new lt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new lt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new re(new je([])),r=new lt(n,e),i=new lt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new re(new je([])),r=new lt(n,e),i=new lt(n,e+1);let o=fe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new lt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return re.comparator(e.key,n.key)||Te(e.wr,n.wr)}static Ar(e,n){return Te(e.wr,n.wr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new yt(lt.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new JC(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.br=this.br.add(new lt(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(s)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const l=this.Dr(s.wr);o.push(l)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(Te);return n.forEach(i=>{const o=new lt(i,0),s=new lt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],l=>{r=r.add(l.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;re.isDocumentKey(o)||(o=o.child(""));const s=new lt(new re(o),0);let l=new yt(Te);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},s),z.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,i=>{const o=new lt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new lt(n,0),i=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.Mr=e,this.docs=function(){return new He(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=or();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Dt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=or();const s=n.path,l=new re(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||mC(pC(f),r)<=0||(i.has(f.key)||zu(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){se()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LR(this)}getSize(e){return z.resolve(this.size)}}class LR extends RR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.persistence=e,this.Nr=new Lo(n=>Ef(n),wf),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Pf,this.targetCount=0,this.kr=So.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new So(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),z.waitFor(o).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new gf(0),this.Kr=!1,this.Kr=!0,this.$r=new DR,this.referenceDelegate=e(this),this.Ur=new MR(this),this.indexManager=new IR,this.remoteDocumentCache=function(i){return new VR(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new TR(n),this.Gr=new kR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new NR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new FR(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class FR extends yC{constructor(e){super(),this.currentSequenceNumber=e}}class kf{constructor(e){this.persistence=e,this.Jr=new Pf,this.Yr=null}static Zr(e){return new kf(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const i=re.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,le.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=fe(),i=fe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new xf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return zS()?8:vC(US())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new bR;return this.Xi(e,n,s).next(l=>{if(o.result=l,this.zi)return this.es(e,n,s,l.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(hs()<=ve.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Ui(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(hs()<=ve.DEBUG&&J("QueryEngine","Query:",Ui(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(hs()<=ve.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Ui(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,On(n))):z.resolve())}Yi(e,n){if(gg(n))return z.resolve(null);let r=On(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=nd(n,null,"F"),r=On(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=fe(...o);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,s,u.readTime)?this.Yi(e,nd(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return gg(n)||i.isEqual(le.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?z.resolve(null):(hs()<=ve.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ui(n)),this.rs(e,s,n,fC(i,-1)).next(l=>l))})}ts(e,n){let r=new yt(e0(e));return n.forEach((i,o)=>{zu(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return hs()<=ve.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Ui(n)),this.Ji.getDocumentsMatchingQuery(e,n,br.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new He(Te),this._s=new Lo(o=>Ef(o),wf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function BR(t,e,n,r){return new UR(t,e,n,r)}async function w0(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=fe();for(const c of i){s.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of o){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:l}))})})}function zR(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const m=c.batch,g=m.keys();let E=z.resolve();return g.forEach(T=>{E=E.next(()=>f.getEntry(u,T)).next(A=>{const x=c.docVersions.get(T);Re(x!==null),A.version.compareTo(x)<0&&(m.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),f.addEntry(A)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=fe();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function T0(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function $R(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((f,m)=>{const g=i.get(m);if(!g)return;l.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,m)));let E=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(_t.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,r)),i=i.insert(m,E),function(A,x,w){return A.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(g,E,f)&&l.push(n.Ur.updateTargetData(o,E))});let u=or(),c=fe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(HR(o,s,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(le.min())){const f=n.Ur.getLastRemoteSnapshotVersion(o).next(m=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(f)}return z.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.os=i,o))}function HR(t,e,n){let r=fe(),i=fe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=or();return n.forEach((l,u)=>{const c=o.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function WR(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qR(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,z.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Sr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function ad(t,e,n){const r=ue(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ea(s))throw s;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Ag(t,e,n){const r=ue(t);let i=le.min(),o=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,f){const m=ue(u),g=m._s.get(f);return g!==void 0?z.resolve(m.os.get(g)):m.Ur.getTargetData(c,f)}(r,s,On(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:le.min(),n?o:fe())).next(l=>(KR(r,FC(e),l),{documents:l,Ts:o})))}function KR(t,e,n){let r=t.us.get(e)||le.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class Pg{constructor(){this.activeTargetIds=$C()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QR{constructor(){this.so=new Pg,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Pg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl=null;function zc(){return dl===null?dl=function(){return 268435456+Math.round(2147483648*Math.random())}():dl++,"0x"+dl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class JR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const l=zc(),u=this.xo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,u,c,i).then(f=>(J("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw _o("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,l){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+No}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=XR[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=zc();return new Promise((s,l)=>{const u=new F_;u.setWithCredentials(!0),u.listenOnce(b_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Al.NO_ERROR:const f=u.getResponseJson();J(Pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Al.TIMEOUT:J(Pt,`RPC '${e}' ${o} timed out`),l(new ne(B.DEADLINE_EXCEEDED,"Request time out"));break;case Al.HTTP_ERROR:const m=u.getStatus();if(J(Pt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const T=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(w)>=0?w:B.UNKNOWN}(E.status);l(new ne(T,E.message))}else l(new ne(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ne(B.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{J(Pt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);J(Pt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=zc(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=B_(),l=U_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");J(Pt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=s.createWebChannel(f,u);let g=!1,E=!1;const T=new YR({Io:x=>{E?J(Pt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(J(Pt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),J(Pt,`RPC '${e}' stream ${i} sending:`,x),m.send(x))},To:()=>m.close()}),A=(x,w,v)=>{x.listen(w,R=>{try{v(R)}catch(L){setTimeout(()=>{throw L},0)}})};return A(m,vs.EventType.OPEN,()=>{E||(J(Pt,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),A(m,vs.EventType.CLOSE,()=>{E||(E=!0,J(Pt,`RPC '${e}' stream ${i} transport closed`),T.So())}),A(m,vs.EventType.ERROR,x=>{E||(E=!0,_o(Pt,`RPC '${e}' stream ${i} transport errored:`,x),T.So(new ne(B.UNAVAILABLE,"The operation could not be completed")))}),A(m,vs.EventType.MESSAGE,x=>{var w;if(!E){const v=x.data[0];Re(!!v);const R=v,L=R.error||((w=R[0])===null||w===void 0?void 0:w.error);if(L){J(Pt,`RPC '${e}' stream ${i} received error:`,L);const U=L.status;let $=function(_){const I=et[_];if(I!==void 0)return h0(I)}(U),S=L.message;$===void 0&&($=B.INTERNAL,S="Unknown error status: "+U+" with message "+L.message),E=!0,T.So(new ne($,S)),m.close()}else J(Pt,`RPC '${e}' stream ${i} received:`,v),T.bo(v)}}),A(l,j_.STAT_EVENT,x=>{x.stat===Yh.PROXY?J(Pt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Yh.NOPROXY&&J(Pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function $c(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t){return new lR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,r,i,o,s,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new S0(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ne(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZR extends I0{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=hR(this.serializer,e),r=function(o){if(!("targetChange"in o))return le.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?bn(s.readTime):le.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=sd(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=td(u)?{documents:pR(o,u)}:{query:mR(o,u)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=p0(o,s.resumeToken);const c=rd(o,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo(le.min())>0){l.readTime=fu(o,s.snapshotVersion.toTimestamp());const c=rd(o,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=yR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=sd(this.serializer),n.removeTarget=e,this.a_(n)}}class eA extends I0{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=fR(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=sd(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>dR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,id(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(B.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,id(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(B.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class nA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ir(n),this.D_=!1):J("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Ai(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ue(u);c.L_.add(4),await Sa(c),c.q_.set("Unknown"),c.L_.delete(4),await Ku(c)}(this))})}),this.q_=new nA(r,i)}}async function Ku(t){if(Ai(t))for(const e of t.B_)await e(!0)}async function Sa(t){for(const e of t.B_)await e(!1)}function C0(t,e){const n=ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Lf(n)?Vf(n):Mo(n).r_()&&Nf(n,e))}function Df(t,e){const n=ue(t),r=Mo(n);n.N_.delete(e),r.r_()&&R0(n,e),n.N_.size===0&&(r.r_()?r.o_():Ai(n)&&n.q_.set("Unknown"))}function Nf(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(t).A_(e)}function R0(t,e){t.Q_.xe(e),Mo(t).R_(e)}function Vf(t){t.Q_=new iR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Mo(t).start(),t.q_.v_()}function Lf(t){return Ai(t)&&!Mo(t).n_()&&t.N_.size>0}function Ai(t){return ue(t).L_.size===0}function A0(t){t.Q_=void 0}async function iA(t){t.q_.set("Online")}async function oA(t){t.N_.forEach((e,n)=>{Nf(t,e)})}async function sA(t,e){A0(t),Lf(t)?(t.q_.M_(e),Vf(t)):t.q_.set("Unknown")}async function aA(t,e,n){if(t.q_.set("Online"),e instanceof f0&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pu(t,r)}else if(e instanceof xl?t.Q_.Ke(e):e instanceof d0?t.Q_.He(e):t.Q_.We(e),!n.isEqual(le.min()))try{const r=await T0(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.Q_.rt(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.N_.get(c);f&&o.N_.set(c,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(_t.EMPTY_BYTE_STRING,f.snapshotVersion)),R0(o,u);const m=new Sr(f.target,u,c,f.sequenceNumber);Nf(o,m)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await pu(t,r)}}async function pu(t,e,n){if(!Ea(e))throw e;t.L_.add(1),await Sa(t),t.q_.set("Offline"),n||(n=()=>T0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ku(t)})}function P0(t,e){return e().catch(n=>pu(t,n,e))}async function Qu(t){const e=ue(t),n=Ur(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;lA(e);)try{const i=await WR(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,uA(e,i)}catch(i){await pu(e,i)}k0(e)&&x0(e)}function lA(t){return Ai(t)&&t.O_.length<10}function uA(t,e){t.O_.push(e);const n=Ur(t);n.r_()&&n.V_&&n.m_(e.mutations)}function k0(t){return Ai(t)&&!Ur(t).n_()&&t.O_.length>0}function x0(t){Ur(t).start()}async function cA(t){Ur(t).p_()}async function hA(t){const e=Ur(t);for(const n of t.O_)e.m_(n.mutations)}async function dA(t,e,n){const r=t.O_.shift(),i=Cf.from(r,e,n);await P0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qu(t)}async function fA(t,e){e&&Ur(t).V_&&await async function(r,i){if(function(s){return tR(s)&&s!==B.ABORTED}(i.code)){const o=r.O_.shift();Ur(r).s_(),await P0(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Qu(r)}}(t,e),k0(t)&&x0(t)}async function xg(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=Ai(n);n.L_.add(3),await Sa(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ku(n)}async function pA(t,e){const n=ue(t);e?(n.L_.delete(2),await Ku(n)):e||(n.L_.add(2),await Sa(n),n.q_.set("Unknown"))}function Mo(t){return t.K_||(t.K_=function(n,r,i){const o=ue(n);return o.w_(),new ZR(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:iA.bind(null,t),Ro:oA.bind(null,t),mo:sA.bind(null,t),d_:aA.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Lf(t)?Vf(t):t.q_.set("Unknown")):(await t.K_.stop(),A0(t))})),t.K_}function Ur(t){return t.U_||(t.U_=function(n,r,i){const o=ue(n);return o.w_(),new eA(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:cA.bind(null,t),mo:fA.bind(null,t),f_:hA.bind(null,t),g_:dA.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Qu(t)):(await t.U_.stop(),t.O_.length>0&&(J("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new Mf(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Of(t,e){if(ir("AsyncQueue",`${e}: ${t}`),Ea(t))return new ne(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=_s(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new uo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this.W_=new He(re.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Io{constructor(e,n,r,i,o,s,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new Io(e,n,uo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class gA{constructor(){this.queries=Ng(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ue(n),o=i.queries;i.queries=Ng(),o.forEach((s,l)=>{for(const u of l.j_)u.onError(r)})})(this,new ne(B.ABORTED,"Firestore shutting down"))}}function Ng(){return new Lo(t=>Z_(t),Bu)}async function D0(t,e){const n=ue(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new mA,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=Of(s,`Initialization of query '${Ui(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Ff(n)}async function N0(t,e){const n=ue(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yA(t,e){const n=ue(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.j_)l.X_(i)&&(r=!0);s.z_=i}}r&&Ff(n)}function vA(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Ff(t){t.Y_.forEach(e=>{e.next()})}var ld,Vg;(Vg=ld||(ld={})).ea="default",Vg.Cache="cache";class V0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ld.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this.key=e}}class M0{constructor(e){this.key=e}}class _A{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=fe(),this.mutatedKeys=fe(),this.Aa=e0(e),this.Ra=new uo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Dg,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const g=i.get(f),E=zu(this.query,m)?m:null,T=!!g&&this.mutatedKeys.has(g.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let x=!1;g&&E?g.data.isEqual(E.data)?T!==A&&(r.track({type:3,doc:E}),x=!0):this.ga(g,E)||(r.track({type:2,doc:E}),x=!0,(u&&this.Aa(E,u)>0||c&&this.Aa(E,c)<0)&&(l=!0)):!g&&E?(r.track({type:0,doc:E}),x=!0):g&&!E&&(r.track({type:1,doc:g}),x=!0,(u||c)&&(l=!0)),x&&(E?(s=s.add(E),o=A?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:l,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((f,m)=>function(E,T){const A=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return A(E)-A(T)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,s.length!==0||c?{snapshot:new Io(this.query,e.Ra,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Dg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new M0(r))}),this.da.forEach(r=>{e.has(r)||n.push(new L0(r))}),n}ba(e){this.Ta=e.Ts,this.da=fe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Io.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class EA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class wA{constructor(e){this.key=e,this.va=!1}}class TA{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Lo(l=>Z_(l),Bu),this.Ma=new Map,this.xa=new Set,this.Oa=new He(re.comparator),this.Na=new Map,this.La=new Pf,this.Ba={},this.ka=new Map,this.qa=So.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function SA(t,e,n=!0){const r=B0(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await O0(r,e,n,!0),i}async function IA(t,e){const n=B0(t);await O0(n,e,!0,!1)}async function O0(t,e,n,r){const i=await qR(t.localStore,On(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await CA(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&C0(t.remoteStore,i),l}async function CA(t,e,n,r,i){t.Ka=(m,g,E)=>async function(A,x,w,v){let R=x.view.ma(w);R.ns&&(R=await Ag(A.localStore,x.query,!1).then(({documents:S})=>x.view.ma(S,R)));const L=v&&v.targetChanges.get(x.targetId),U=v&&v.targetMismatches.get(x.targetId)!=null,$=x.view.applyChanges(R,A.isPrimaryClient,L,U);return Mg(A,x.targetId,$.wa),$.snapshot}(t,m,g,E);const o=await Ag(t.localStore,e,!0),s=new _A(e,o.Ts),l=s.ma(o.documents),u=Ta.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(l,t.isPrimaryClient,u);Mg(t,n,c.wa);const f=new EA(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function RA(t,e,n){const r=ue(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Bu(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ad(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Df(r.remoteStore,i.targetId),ud(r,i.targetId)}).catch(_a)):(ud(r,i.targetId),await ad(r.localStore,i.targetId,!0))}async function AA(t,e){const n=ue(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Df(n.remoteStore,r.targetId))}async function PA(t,e,n){const r=MA(t);try{const i=await function(s,l){const u=ue(s),c=at.now(),f=l.reduce((E,T)=>E.add(T.key),fe());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let T=or(),A=fe();return u.cs.getEntries(E,f).next(x=>{T=x,T.forEach((w,v)=>{v.isValidDocument()||(A=A.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,T)).next(x=>{m=x;const w=[];for(const v of l){const R=XC(v,m.get(v.key).overlayedDocument);R!=null&&w.push(new Ri(v.key,R,q_(R.value.mapValue),Fn.exists(!0)))}return u.mutationQueue.addMutationBatch(E,c,w,l)}).next(x=>{g=x;const w=x.applyToLocalDocumentSet(m,A);return u.documentOverlayCache.saveOverlays(E,x.batchId,w)})}).then(()=>({batchId:g.batchId,changes:n0(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let c=s.Ba[s.currentUser.toKey()];c||(c=new He(Te)),c=c.insert(l,u),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await Ia(r,i.changes),await Qu(r.remoteStore)}catch(i){const o=Of(i,"Failed to persist write");n.reject(o)}}async function F0(t,e){const n=ue(t);try{const r=await $R(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Re(s.va):i.removedDocuments.size>0&&(Re(s.va),s.va=!1))}),await Ia(n,r,e)}catch(r){await _a(r)}}function Lg(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const l=s.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=ue(s);u.onlineState=l;let c=!1;u.queries.forEach((f,m)=>{for(const g of m.j_)g.Z_(l)&&(c=!0)}),c&&Ff(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kA(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new He(re.comparator);s=s.insert(o,Dt.newNoDocument(o,le.min()));const l=fe().add(o),u=new Wu(le.min(),new Map,new He(Te),s,l);await F0(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),bf(r)}else await ad(r.localStore,e,!1).then(()=>ud(r,e,n)).catch(_a)}async function xA(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await zR(n.localStore,e);j0(n,r,null),b0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ia(n,i)}catch(i){await _a(i)}}async function DA(t,e,n){const r=ue(t);try{const i=await function(s,l){const u=ue(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(m=>(Re(m!==null),f=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);j0(r,e,n),b0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ia(r,i)}catch(i){await _a(i)}}function b0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function j0(t,e,n){const r=ue(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ud(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||U0(t,r)})}function U0(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Df(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),bf(t))}function Mg(t,e,n){for(const r of n)r instanceof L0?(t.La.addReference(r.key,e),NA(t,r)):r instanceof M0?(J("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||U0(t,r.key)):se()}function NA(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(J("SyncEngine","New document in limbo: "+n),t.xa.add(r),bf(t))}function bf(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new re(je.fromString(e)),r=t.qa.next();t.Na.set(r,new wA(n)),t.Oa=t.Oa.insert(n,r),C0(t.remoteStore,new Sr(On(Tf(n.path)),r,"TargetPurposeLimboResolution",gf.oe))}}async function Ia(t,e,n){const r=ue(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{s.push(r.Ka(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){i.push(c);const m=xf.Wi(u.targetId,c);o.push(m)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(u,c){const f=ue(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>z.forEach(c,g=>z.forEach(g.$i,E=>f.persistence.referenceDelegate.addReference(m,g.targetId,E)).next(()=>z.forEach(g.Ui,E=>f.persistence.referenceDelegate.removeReference(m,g.targetId,E)))))}catch(m){if(!Ea(m))throw m;J("LocalStore","Failed to update sequence numbers: "+m)}for(const m of c){const g=m.targetId;if(!m.fromCache){const E=f.os.get(g),T=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(T);f.os=f.os.insert(g,A)}}}(r.localStore,o))}async function VA(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await w0(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(l=>{l.forEach(u=>{u.reject(new ne(B.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ia(n,r.hs)}}function LA(t,e){const n=ue(t),r=n.Na.get(e);if(r&&r.va)return fe().add(r.key);{let i=fe();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const l=n.Fa.get(s);i=i.unionWith(l.view.Va)}return i}}function B0(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=F0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kA.bind(null,e),e.Ca.d_=yA.bind(null,e.eventManager),e.Ca.$a=vA.bind(null,e.eventManager),e}function MA(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DA.bind(null,e),e}class mu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return BR(this.persistence,new jR,e.initialUser,this.serializer)}Ga(e){return new OR(kf.Zr,this.serializer)}Wa(e){return new QR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mu.provider={build:()=>new mu};class cd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VA.bind(null,this.syncEngine),await pA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gA}()}createDatastore(e){const n=qu(e.databaseInfo.databaseId),r=function(o){return new JR(o)}(e.databaseInfo);return function(o,s,l,u){return new tA(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new rA(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Lg(this.syncEngine,n,0),function(){return kg.D()?new kg:new GR}())}createSyncEngine(e,n){return function(i,o,s,l,u,c,f){const m=new TA(i,o,s,l,u,c);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ue(i);J("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Sa(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cd.provider={build:()=>new cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=$_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{J("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Of(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hc(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await w0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Og(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FA(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>xg(e.remoteStore,i)),t._onlineComponents=e}async function FA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Hc(t,new mu)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await Hc(t,new mu);return t._offlineComponents}async function $0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await Og(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await Og(t,new cd))),t._onlineComponents}function bA(t){return $0(t).then(e=>e.syncEngine)}async function H0(t){const e=await $0(t),n=e.eventManager;return n.onListen=SA.bind(null,e.syncEngine),n.onUnlisten=RA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AA.bind(null,e.syncEngine),n}function jA(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const f=new z0({next:g=>{f.Za(),s.enqueueAndForget(()=>N0(o,m));const E=g.docs.has(l);!E&&g.fromCache?c.reject(new ne(B.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&g.fromCache&&u&&u.source==="server"?c.reject(new ne(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new V0(Tf(l.path),f,{includeMetadataChanges:!0,_a:!0});return D0(o,m)}(await H0(t),t.asyncQueue,e,n,r)),r.promise}function UA(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const f=new z0({next:g=>{f.Za(),s.enqueueAndForget(()=>N0(o,m)),g.fromCache&&u.source==="server"?c.reject(new ne(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new V0(l,f,{includeMetadataChanges:!0,_a:!0});return D0(o,m)}(await H0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t,e,n){if(!n)throw new ne(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BA(t,e,n,r){if(e===!0&&r===!0)throw new ne(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bg(t){if(!re.isDocumentKey(t))throw new ne(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jg(t){if(re.isDocumentKey(t))throw new ne(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jf(t);throw new ne(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ug({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ug(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iC;switch(r.type){case"firstParty":return new lC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Fg.get(n);r&&(J("ComponentProvider","Removing Datastore"),Fg.delete(n),r.terminate())}(this),Promise.resolve()}}function zA(t,e,n,r={}){var i;const o=(t=Br(t,Gu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=kt.MOCK_USER;else{l=jS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ne(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kt(c)}t._authCredentials=new oC(new z_(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xu(this.firestore,e,this._query)}}class Zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class Mr extends Xu{constructor(e,n,r){super(e,n,Tf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new re(e))}withConverter(e){return new Mr(this.firestore,e,this._path)}}function $A(t,e,...n){if(t=ra(t),q0("collection","path",e),t instanceof Gu){const r=je.fromString(e,...n);return jg(r),new Mr(t,null,r)}{if(!(t instanceof Zt||t instanceof Mr))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return jg(r),new Mr(t.firestore,null,r)}}function Wc(t,e,...n){if(t=ra(t),arguments.length===1&&(e=$_.newId()),q0("doc","path",e),t instanceof Gu){const r=je.fromString(e,...n);return bg(r),new Zt(t,null,new re(r))}{if(!(t instanceof Zt||t instanceof Mr))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return bg(r),new Zt(t.firestore,t instanceof Mr?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new S0(this,"async_queue_retry"),this.Vu=()=>{const r=$c();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=$c();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=$c();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Jn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ea(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw ir("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Mf.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Ca extends Gu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Bg,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bg(e),this._firestoreClient=void 0,await e}}}function HA(t,e){const n=typeof t=="object"?t:QI(),r=typeof t=="string"?t:"(default)",i=HI(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=FS("firestore");o&&zA(i,...o)}return i}function Uf(t){if(t._terminated)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WA(t),t._firestoreClient}function WA(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,c,f){return new wC(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,W0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new OA(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Co(_t.fromBase64String(e))}catch(n){throw new ne(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Co(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=/^__.*__$/;class KA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ri(e,this.data,this.fieldMask,n,this.fieldTransforms):new wa(e,this.data,n,this.fieldTransforms)}}function Q0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Hf{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Hf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Q0(this.Cu)&&qA.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class QA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qu(e)}Qu(e,n,r,i=!1){return new Hf({Cu:e,methodName:n,qu:r,path:mt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GA(t){const e=t._freezeSettings(),n=qu(t._databaseId);return new QA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XA(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);J0("Data must be an object, but it was:",s,r);const l=X0(r,s);let u,c;if(o.merge)u=new Cn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const m of o.mergeFields){const g=YA(e,m,n);if(!s.contains(g))throw new ne(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);ZA(f,g)||f.push(g)}u=new Cn(f),c=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=s.fieldTransforms;return new KA(new cn(l),u,c)}function G0(t,e){if(Y0(t=ra(t)))return J0("Unsupported field value:",e,t),X0(t,e);if(t instanceof K0)return function(r,i){if(!Q0(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=G0(l,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ra(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HC(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=at.fromDate(r);return{timestampValue:fu(i.serializer,o)}}if(r instanceof at){const o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fu(i.serializer,o)}}if(r instanceof zf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Co)return{bytesValue:p0(i.serializer,r._byteString)};if(r instanceof Zt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Af(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $f)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return Sf(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${jf(r)}`)}(t,e)}function X0(t,e){const n={};return H_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,(r,i)=>{const o=G0(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Y0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof zf||t instanceof Co||t instanceof Zt||t instanceof K0||t instanceof $f)}function J0(t,e,n){if(!Y0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=jf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function YA(t,e,n){if((e=ra(e))instanceof Bf)return e._internalPath;if(typeof e=="string")return Z0(t,e);throw gu("Field path arguments must be of type string or ",t,!1,void 0,n)}const JA=new RegExp("[~\\*/\\[\\]]");function Z0(t,e,n){if(e.search(JA)>=0)throw gu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bf(...e.split("."))._internalPath}catch{throw gu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ne(B.INVALID_ARGUMENT,l+t+u)}function ZA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eP extends eE{data(){return super.data()}}function tE(t,e){return typeof e=="string"?Z0(t,e):e instanceof Bf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nP{convertValue(e,n="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Xe(s.doubleValue));return new $f(o)}convertGeoPoint(e){return new zf(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(aa(e));default:return null}}convertTimestamp(e){const n=jr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);Re(E0(r));const i=new la(r.get(1),r.get(3)),o=new re(r.popFirst(5));return i.isEqual(n)||ir(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nE extends eE{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Dl extends nE{data(e={}){return super.data(e)}}class iP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ws(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dl(this._firestore,this._userDataWriter,r.key,r,new ws(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new Dl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ws(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new Dl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ws(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:oP(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){t=Br(t,Zt);const e=Br(t.firestore,Ca);return jA(Uf(e),t._key).then(n=>cP(e,t,n))}class rE extends nP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function aP(t){t=Br(t,Xu);const e=Br(t.firestore,Ca),n=Uf(e),r=new rE(e);return tP(t._query),UA(n,t._query).then(i=>new iP(e,r,t,i))}function lP(t,e,n){t=Br(t,Zt);const r=Br(t.firestore,Ca),i=rP(t.converter,e);return iE(r,[XA(GA(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Fn.none())])}function uP(t){return iE(Br(t.firestore,Ca),[new If(t._key,Fn.none())])}function iE(t,e){return function(r,i){const o=new Jn;return r.asyncQueue.enqueueAndForget(async()=>PA(await bA(r),i,o)),o.promise}(Uf(t),e)}function cP(t,e,n){const r=n.docs.get(e._key),i=new rE(t);return new nE(t,i,e._key,r,new ws(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){No=i})(KI),au(new ia("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new Ca(new sC(r.getProvider("auth-internal")),new cC(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ne(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new la(c.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),lo(sg,"4.7.3",e),lo(sg,"4.7.3","esm2017")})();var hP="firebase",dP="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lo(hP,dP,"app");const fP={apiKey:void 0,authDomain:"meucliente-63947.firebaseapp.com",projectId:"meucliente-63947",storageBucket:"meucliente-63947.appspot.com",messagingSenderId:"304304117559",appId:"1:304304117559:web:2150292b94eaffe6256cb2"},pP=V_(fP),fl=HA(pP),Oo=F.createContext();/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oE=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...l},u)=>F.createElement("svg",{ref:u,...gP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:oE("lucide",i),...l},[...s.map(([c,f])=>F.createElement(c,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=(t,e)=>{const n=F.forwardRef(({className:r,...i},o)=>F.createElement(yP,{ref:o,iconNode:e,className:oE(`lucide-${mP(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Wf("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=Wf("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=Wf("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Yu(t){return b.jsx("h1",{className:"text-4xl",children:t.children})}function Ge(t){return b.jsx("li",{children:b.jsxs("div",{className:"flex justify-between bg-slate-100 rounded-md p-1 ",children:[b.jsx("p",{className:"pl-2",children:t.item}),b.jsx("div",{className:"pr-2",children:t.children})]})})}function _P(t){const e=t.clientId,{clients:n,updateClients:r}=F.useContext(Oo),i=n.find(o=>o.id===Number(e));return b.jsx("div",{children:b.jsxs("ul",{className:"space-y-1",children:[b.jsx(Ge,{item:"Data:",children:i.data}),b.jsx(Ge,{item:"Cidade:",children:i.cidade}),b.jsx(Ge,{item:"Nº celular:",children:i.phone}),b.jsx(Ge,{item:"Nº de convidados:",children:i.convidados===null&&"?"||i.convidados}),b.jsx(Ge,{item:"Data disponível?",children:b.jsx("button",{onClick:()=>r(Number(e),{isDataAvailable:!i.isDataAvailable}),children:i.isDataAvailable&&b.jsx(oi,{className:"text-green-700"})||b.jsx(si,{className:"text-slate-400"})})}),b.jsx(Ge,{item:"Primeiro Contato:",children:b.jsx("button",{onClick:()=>r(Number(e),{isClienteContacted:!i.isClienteContacted}),children:i.isClienteContacted&&b.jsx(oi,{className:"text-green-700"})||b.jsx(si,{className:"text-slate-400"})})}),b.jsx(Ge,{item:"Orçamento enviado?",children:b.jsx("button",{onClick:()=>r(Number(e),{isBudgetSentToClient:!i.isBudgetSentToClient}),children:i.isBudgetSentToClient&&b.jsx(oi,{className:"text-green-700"})||b.jsx(si,{className:"text-slate-400"})})}),b.jsx(Ge,{item:"Feedback orçamento:",children:b.jsx("button",{onClick:()=>r(Number(e),{isBudgetResponded:!i.isBudgetResponded}),children:i.isBudgetResponded&&b.jsx(oi,{className:"text-green-700"})||b.jsx(si,{className:"text-slate-400"})})}),b.jsx(Ge,{item:"Dados pra contrato:",children:b.jsx("button",{onClick:()=>r(Number(e),{isContractCreated:!i.isContractCreated}),children:i.isContractCreated&&b.jsx(oi,{className:"text-green-700"})||b.jsx(si,{className:"text-slate-400"})})}),b.jsx(Ge,{item:"Entrada efetuada?",children:b.jsx("button",{onClick:()=>r(Number(e),{isDepositPaid:!i.isDepositPaid}),children:i.isDepositPaid&&b.jsx(oi,{className:"text-green-700"})||b.jsx(si,{className:"text-slate-400"})})})]})})}function EP(){const{clients:t,updateClients:e}=F.useContext(Oo),n=["Fazer primeiro contato","Enviar orçamento","Feedback do orçamento","Fazer contrato","Receber entrada","Venda finalizada"],r=xo(),[i]=C_(),o=i.get("id"),s=t.find(u=>u.id===Number(o));console.log(s);const l=[`Olá ${s.name.split(" ")[0]}, aqui é o Alysson da banda DEGUSTASOM, tudo bem? Entro em contato pela solicitação de orçamento recebida.

Verifiquei sua data ${s.data!==""&&s.data||""} e ainda está disponível, gostaria de confirmar contigo a cidade e o número aproximado de convidados que estão calculando, para poder te passar valores.`,`Olá ${s.name}, segue o orçamento solicitado.`,`Olá ${s.name}, tudo bem? O que acharam da nossa proposta? Está dentro do que estavam prevendo de orçamento pra música do casamento?`];return b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"bg-slate-200 min-w-80 max-w-lg text-center  rounded-md flex-row space-y-3 p-2 h-screen ",children:[b.jsx(Yu,{children:s.name}),b.jsxs("p",{className:"rounded-md bg-blue-200 p-1 text-lg",children:["Status: ",n[s.clientStatus]]}),b.jsx("button",{onClick:()=>r(-1),className:"absolute left-0 top-0 bottom-0 text-lg",children:b.jsx(vP,{})}),b.jsx(_P,{clientId:o}),b.jsxs("div",{className:"flex space-x-2 justify-around py-5",children:[b.jsx("button",{onClick:()=>{const u=new URLSearchParams;u.set("id",s.id),r(`/meucliente/editclient?${u.toString()}`)},className:"bg-slate-50 rounded-md p-1 text-lg w-32",children:"Editar"}),b.jsx("button",{onClick:()=>{s.name;const u=s.phone,c=l[s.clientStatus],f=encodeURIComponent(c);window.open(`https://api.whatsapp.com/send?phone=+55${u}&text=${f}`,"_blank")},className:"bg-green-300 rounded-md p-1 text-lg w-32",children:"Whatsapp"})]})]})})}function qf(t){return b.jsx("p",{className:"bg-blue-300 rounded-md text-xl",children:t.children})}function wP(){const t=xo(),e=["Primeiro contato","Enviar orçamento","Feedback orçamento","Fazer contrato","Receber entrada","Venda finalizada"],{clients:n,updateClients:r}=F.useContext(Oo);return b.jsx("div",{className:"bg-slate-300 rounded-md flex justify-evenly flex-wrap gap-2 p-2 text-lg",children:n.map(i=>b.jsx("ul",{children:b.jsx("li",{children:b.jsxs("button",{className:"p-2 bg-slate-100 w-72 rounded-md shadow-md border-slate-500",onClick:()=>{const o=new URLSearchParams;o.set("id",i.id),t(`./client?${o.toString()}`)},children:[b.jsxs("p",{className:"flex justify-center",children:[i.name.split(" ")[0],b.jsx("p",{children:i.data!==""&&" ("+i.data+")"||""}),"    "]}),b.jsx("p",{className:"text-slate-400",children:e[i.clientStatus]})]})})},i.id))})}function TP(){window.onpopstate=function(e){location.reload()};const t=xo();return b.jsx("div",{className:"flex justify-center bg-slate-200 min-w-80 text-center h-screen",children:b.jsxs("div",{className:"max-w-2xl min-w-80 space-y-1",children:[b.jsx(Yu,{children:"Meu Cliente"}),b.jsx(qf,{children:"Fluxo pré-venda"}),b.jsx(wP,{}),b.jsx("button",{className:"bg-blue-200 rounded-md p-2 text-xl",onClick:()=>{t("./newclient")},children:"Adicionar novo cliente"})]})})}var sE={exports:{}};function SP(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var qc=SP(F),IP=Vu;function CP(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&t[i]===void 0&&Object.defineProperty(t,i,o)}return t}function hd(){return(hd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function RP(t,e){t.prototype=Object.create(e.prototype),CP(t.prototype.constructor=t,e)}function AP(t,e){if(t==null)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],0<=e.indexOf(n)||(i[n]=t[n]);return i}function ji(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var PP=function(t,e,n,r,i,o,s,l){if(!t){var u;if(e===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,l],f=0;(u=new Error(e.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}},zg=PP;function $g(t,e,n){if("selectionStart"in t&&"selectionEnd"in t)t.selectionStart=e,t.selectionEnd=n;else{var r=t.createTextRange();r.collapse(!0),r.moveStart("character",e),r.moveEnd("character",n-e),r.select()}}function kP(t){var e=0,n=0;if("selectionStart"in t&&"selectionEnd"in t)e=t.selectionStart,n=t.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===t&&(e=-r.moveStart("character",-t.value.length),n=-r.moveEnd("character",-t.value.length))}return{start:e,end:n,length:n-e}}var xP={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},DP="_";function Hg(t,e,n){var r="",i="",o=null,s=[];if(e===void 0&&(e=DP),n==null&&(n=xP),!t||typeof t!="string")return{maskChar:e,formatChars:n,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var l=!1;return t.split("").forEach(function(u){l=!l&&u==="\\"||(l||!n[u]?(s.push(r.length),r.length===s.length-1&&(i+=u)):o=r.length+1,r+=u,!1)}),{maskChar:e,formatChars:n,prefix:i,mask:r,lastEditablePosition:o,permanents:s}}function tn(t,e){return t.permanents.indexOf(e)!==-1}function Ju(t,e,n){var r=t.mask,i=t.formatChars;if(!n)return!1;if(tn(t,e))return r[e]===n;var o=i[r[e]];return new RegExp(o).test(n)}function Wg(t,e){return e.split("").every(function(n,r){return tn(t,r)||!Ju(t,r,n)})}function Ts(t,e){var n=t.maskChar,r=t.prefix;if(!n){for(;e.length>r.length&&tn(t,e.length-1);)e=e.slice(0,e.length-1);return e.length}for(var i=r.length,o=e.length;o>=r.length;o--){var s=e[o];if(!tn(t,o)&&Ju(t,o,s)){i=o+1;break}}return i}function aE(t,e){return Ts(t,e)===t.mask.length}function Qn(t,e){var n=t.maskChar,r=t.mask,i=t.prefix;if(!n){for((e=dd(t,"",e,0)).length<i.length&&(e=i);e.length<r.length&&tn(t,e.length);)e+=r[e.length];return e}if(e)return dd(t,Qn(t,""),e,0);for(var o=0;o<r.length;o++)tn(t,o)?e+=r[o]:e+=n;return e}function NP(t,e,n,r){var i=n+r,o=t.maskChar,s=t.mask,l=t.prefix,u=e.split("");if(o)return u.map(function(f,m){return m<n||i<=m?f:tn(t,m)?s[m]:o}).join("");for(var c=i;c<u.length;c++)tn(t,c)&&(u[c]="");return n=Math.max(l.length,n),u.splice(n,i-n),e=u.join(""),Qn(t,e)}function dd(t,e,n,r){var i=t.mask,o=t.maskChar,s=t.prefix,l=n.split(""),u=aE(t,e);return!o&&r>e.length&&(e+=i.slice(e.length,r)),l.every(function(c){for(;E=c,tn(t,g=r)&&E!==i[g];){if(r>=e.length&&(e+=i[r]),f=c,m=r,o&&tn(t,m)&&f===o)return!0;if(++r>=i.length)return!1}var f,m,g,E;return!Ju(t,r,c)&&c!==o||(r<e.length?e=o||u||r<s.length?e.slice(0,r)+c+e.slice(r+1):(e=e.slice(0,r)+c+e.slice(r),Qn(t,e)):o||(e+=c),++r<i.length)}),e}function VP(t,e,n,r){var i=t.mask,o=t.maskChar,s=n.split(""),l=r;return s.every(function(u){for(;f=u,tn(t,c=r)&&f!==i[c];)if(++r>=i.length)return!1;var c,f;return(Ju(t,r,u)||u===o)&&r++,r<i.length}),r-l}function LP(t,e){for(var n=e;0<=n;--n)if(!tn(t,n))return n;return null}function Os(t,e){for(var n=t.mask,r=e;r<n.length;++r)if(!tn(t,r))return r;return null}function Kc(t){return t||t===0?t+"":""}function MP(t,e,n,r,i){var o=t.mask,s=t.prefix,l=t.lastEditablePosition,u=e,c="",f=0,m=0,g=Math.min(i.start,n.start);return n.end>i.start?m=(f=VP(t,r,c=u.slice(i.start,n.end),g))?i.length:0:u.length<r.length&&(m=r.length-u.length),u=r,m&&(m===1&&!i.length&&(g=i.start===n.start?Os(t,n.start):LP(t,n.start)),u=NP(t,u,g,m)),u=dd(t,u,c,g),(g+=f)>=o.length?g=o.length:g<s.length&&!f?g=s.length:g>=s.length&&g<l&&f&&(g=Os(t,g)),c||(c=null),{value:u=Qn(t,u),enteredString:c,selection:{start:g,end:g}}}function OP(){var t=new RegExp("windows","i"),e=new RegExp("phone","i"),n=navigator.userAgent;return t.test(n)&&e.test(n)}function Ut(t){return typeof t=="function"}function FP(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame}function lE(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function qg(t){return(lE()?FP():function(){return setTimeout(t,1e3/60)})(t)}function Qc(t){(lE()||clearTimeout)(t)}var bP=function(t){function e(r){var i=t.call(this,r)||this;i.focused=!1,i.mounted=!1,i.previousSelection=null,i.selectionDeferId=null,i.saveSelectionLoopDeferId=null,i.saveSelectionLoop=function(){i.previousSelection=i.getSelection(),i.saveSelectionLoopDeferId=qg(i.saveSelectionLoop)},i.runSaveSelectionLoop=function(){i.saveSelectionLoopDeferId===null&&i.saveSelectionLoop()},i.stopSaveSelectionLoop=function(){i.saveSelectionLoopDeferId!==null&&(Qc(i.saveSelectionLoopDeferId),i.saveSelectionLoopDeferId=null,i.previousSelection=null)},i.getInputDOMNode=function(){if(!i.mounted)return null;var T=IP.findDOMNode(ji(ji(i))),A=typeof window<"u"&&T instanceof window.Element;if(T&&!A)return null;if(T.nodeName!=="INPUT"&&(T=T.querySelector("input")),!T)throw new Error("react-input-mask: inputComponent doesn't contain input node");return T},i.getInputValue=function(){var T=i.getInputDOMNode();return T?T.value:null},i.setInputValue=function(T){var A=i.getInputDOMNode();A&&(i.value=T,A.value=T)},i.setCursorToEnd=function(){var T=Ts(i.maskOptions,i.value),A=Os(i.maskOptions,T);A!==null&&i.setCursorPosition(A)},i.setSelection=function(T,A,x){x===void 0&&(x={});var w=i.getInputDOMNode(),v=i.isFocused();w&&v&&(x.deferred||$g(w,T,A),i.selectionDeferId!==null&&Qc(i.selectionDeferId),i.selectionDeferId=qg(function(){i.selectionDeferId=null,$g(w,T,A)}),i.previousSelection={start:T,end:A,length:Math.abs(A-T)})},i.getSelection=function(){return kP(i.getInputDOMNode())},i.getCursorPosition=function(){return i.getSelection().start},i.setCursorPosition=function(T){i.setSelection(T,T)},i.isFocused=function(){return i.focused},i.getBeforeMaskedValueChangeConfig=function(){var T=i.maskOptions,A=T.mask,x=T.maskChar,w=T.permanents,v=T.formatChars;return{mask:A,maskChar:x,permanents:w,alwaysShowMask:!!i.props.alwaysShowMask,formatChars:v}},i.isInputAutofilled=function(T,A,x,w){var v=i.getInputDOMNode();try{if(v.matches(":-webkit-autofill"))return!0}catch{}return!i.focused||w.end<x.length&&A.end===T.length},i.onChange=function(T){var A=ji(ji(i)).beforePasteState,x=ji(ji(i)).previousSelection,w=i.props.beforeMaskedValueChange,v=i.getInputValue(),R=i.value,L=i.getSelection();i.isInputAutofilled(v,L,R,x)&&(R=Qn(i.maskOptions,""),x={start:0,end:0,length:0}),A&&(x=A.selection,R=A.value,L={start:x.start+v.length,end:x.start+v.length,length:0},v=R.slice(0,x.start)+v+R.slice(x.end),i.beforePasteState=null);var U=MP(i.maskOptions,v,L,R,x),$=U.enteredString,S=U.selection,p=U.value;if(Ut(w)){var _=w({value:p,selection:S},{value:R,selection:x},$,i.getBeforeMaskedValueChangeConfig());p=_.value,S=_.selection}i.setInputValue(p),Ut(i.props.onChange)&&i.props.onChange(T),i.isWindowsPhoneBrowser?i.setSelection(S.start,S.end,{deferred:!0}):i.setSelection(S.start,S.end)},i.onFocus=function(T){var A=i.props.beforeMaskedValueChange,x=i.maskOptions,w=x.mask,v=x.prefix;if(i.focused=!0,i.mounted=!0,w){if(i.value)Ts(i.maskOptions,i.value)<i.maskOptions.mask.length&&i.setCursorToEnd();else{var R=Qn(i.maskOptions,v),L=Qn(i.maskOptions,R),U=Ts(i.maskOptions,L),$=Os(i.maskOptions,U),S={start:$,end:$};if(Ut(A)){var p=A({value:L,selection:S},{value:i.value,selection:null},null,i.getBeforeMaskedValueChangeConfig());L=p.value,S=p.selection}var _=L!==i.getInputValue();_&&i.setInputValue(L),_&&Ut(i.props.onChange)&&i.props.onChange(T),i.setSelection(S.start,S.end)}i.runSaveSelectionLoop()}Ut(i.props.onFocus)&&i.props.onFocus(T)},i.onBlur=function(T){var A=i.props.beforeMaskedValueChange,x=i.maskOptions.mask;if(i.stopSaveSelectionLoop(),i.focused=!1,x&&!i.props.alwaysShowMask&&Wg(i.maskOptions,i.value)){var w="";Ut(A)&&(w=A({value:w,selection:null},{value:i.value,selection:i.previousSelection},null,i.getBeforeMaskedValueChangeConfig()).value);var v=w!==i.getInputValue();v&&i.setInputValue(w),v&&Ut(i.props.onChange)&&i.props.onChange(T)}Ut(i.props.onBlur)&&i.props.onBlur(T)},i.onMouseDown=function(T){if(!i.focused&&document.addEventListener){i.mouseDownX=T.clientX,i.mouseDownY=T.clientY,i.mouseDownTime=new Date().getTime();var A=function x(w){if(document.removeEventListener("mouseup",x),i.focused){var v=Math.abs(w.clientX-i.mouseDownX),R=Math.abs(w.clientY-i.mouseDownY),L=Math.max(v,R),U=new Date().getTime()-i.mouseDownTime;(L<=10&&U<=200||L<=5&&U<=300)&&i.setCursorToEnd()}};document.addEventListener("mouseup",A)}Ut(i.props.onMouseDown)&&i.props.onMouseDown(T)},i.onPaste=function(T){Ut(i.props.onPaste)&&i.props.onPaste(T),T.defaultPrevented||(i.beforePasteState={value:i.getInputValue(),selection:i.getSelection()},i.setInputValue(""))},i.handleRef=function(T){i.props.children==null&&Ut(i.props.inputRef)&&i.props.inputRef(T)};var o=r.mask,s=r.maskChar,l=r.formatChars,u=r.alwaysShowMask,c=r.beforeMaskedValueChange,f=r.defaultValue,m=r.value;i.maskOptions=Hg(o,s,l),f==null&&(f=""),m==null&&(m=f);var g=Kc(m);if(i.maskOptions.mask&&(u||g)&&(g=Qn(i.maskOptions,g),Ut(c))){var E=r.value;r.value==null&&(E=f),g=c({value:g,selection:null},{value:E=Kc(E),selection:null},null,i.getBeforeMaskedValueChangeConfig()).value}return i.value=g,i}RP(e,t);var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=OP(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},n.componentDidUpdate=function(){var r=this.previousSelection,i=this.props,o=i.beforeMaskedValueChange,s=i.alwaysShowMask,l=i.mask,u=i.maskChar,c=i.formatChars,f=this.maskOptions,m=s||this.isFocused(),g=this.props.value!=null,E=g?Kc(this.props.value):this.value,T=r?r.start:null;if(this.maskOptions=Hg(l,u,c),this.maskOptions.mask){!f.mask&&this.isFocused()&&this.runSaveSelectionLoop();var A=this.maskOptions.mask&&this.maskOptions.mask!==f.mask;if(f.mask||g||(E=this.getInputValue()),(A||this.maskOptions.mask&&(E||m))&&(E=Qn(this.maskOptions,E)),A){var x=Ts(this.maskOptions,E);(T===null||x<T)&&(T=aE(this.maskOptions,E)?x:Os(this.maskOptions,x))}!this.maskOptions.mask||!Wg(this.maskOptions,E)||m||g&&this.props.value||(E="");var w={start:T,end:T};if(Ut(o)){var v=o({value:E,selection:w},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());E=v.value,w=v.selection}this.value=E;var R=this.getInputValue()!==this.value;R?(this.setInputValue(this.value),this.forceUpdate()):A&&this.forceUpdate();var L=!1;w.start!=null&&w.end!=null&&(L=!r||r.start!==w.start||r.end!==w.end),(L||R)&&this.setSelection(w.start,w.end)}else f.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},n.componentWillUnmount=function(){this.mounted=!1,this.selectionDeferId!==null&&Qc(this.selectionDeferId),this.stopSaveSelectionLoop()},n.render=function(){var r,i=this.props,o=(i.mask,i.alwaysShowMask,i.maskChar,i.formatChars,i.inputRef,i.beforeMaskedValueChange,i.children),s=AP(i,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(o){Ut(o)||zg(!1);var l=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],u=hd({},s);l.forEach(function(f){return delete u[f]}),r=o(u),l.filter(function(f){return r.props[f]!=null&&r.props[f]!==s[f]}).length&&zg(!1)}else r=qc.createElement("input",hd({ref:this.handleRef},s));var c={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(s.disabled||s.readOnly||(c.onChange=this.onChange,c.onPaste=this.onPaste,c.onMouseDown=this.onMouseDown),s.value!=null&&(c.value=this.value)),r=qc.cloneElement(r,c)},e}(qc.Component),jP=bP;sE.exports=jP;var UP=sE.exports;const Kg=fd(UP);function BP(){const{clients:t,updateClients:e,addClient:n,setData:r,deleteData:i,getData:o,addIndicator:s}=F.useContext(Oo),l=xo(),u=Math.floor(Math.random()*9e9)+1e9,[c,f]=F.useState(""),m=D=>{f(D.target.value)},[g,E]=F.useState(Number),T=D=>{E(D.target.value)},[A,x]=F.useState(""),w=D=>{x(D.target.value)},[v,R]=F.useState(""),L=D=>{R(D.target.value)},[U,$]=F.useState(0),S=D=>{$(D.target.value)},[p,_]=F.useState(!1),I=D=>{_(!p)};F.useEffect(()=>{s&&l(-1)},[s]);let P={id:u,name:c,phone:g,data:A,cidade:v,convidados:U,isDataAvailable:p,clientStatus:0,isContacted:!1,isBudgetSentToClient:!1,isBudgetResponded:!1,isContractCreated:!1,isContractSigned:!1,isDepositPaid:!1,isTotalContractAmountPaid:!1};return b.jsx("div",{className:"flex justify-center bg-slate-200 min-w-80 p-1 h-screen text-center",children:b.jsxs("div",{className:"max-w-2xl min-w-80 space-y-1",children:[b.jsx(Yu,{children:"Novo Cliente"}),b.jsx(qf,{children:"Insira os dados abaixo:"}),b.jsxs("ul",{className:"space-y-1",children:[b.jsx(Ge,{item:"Nome:",children:b.jsx("input",{type:"text",onChange:m,className:"w-60 rounded-md",id:"clientName"})}),b.jsx(Ge,{item:"Celular:",children:b.jsx(Kg,{className:"w-60 rounded-md px-2",id:"clientPhone",onChange:T,mask:"(99)99999-9999",placeholder:"(XX)XXXXX-XXXX",required:!0})}),b.jsx(Ge,{item:"Data:",children:b.jsx(Kg,{onChange:w,className:"w-60 rounded-md px-2",id:"clientDate",mask:"99/99/9999",placeholder:"XX/XX/XXXX",required:!0})}),b.jsx(Ge,{item:"Cidade:",children:b.jsx("input",{type:"text",onChange:L,className:"w-60 rounded-md",id:"clientCity"})}),b.jsx(Ge,{item:"Nº de convidados:",children:b.jsx("input",{type:"text",onChange:S,className:"w-40 rounded-md",id:"clientGuests"})}),b.jsx(Ge,{item:"Data disponível?",children:b.jsx("button",{onClick:()=>I(),children:p&&b.jsx(oi,{className:"text-green-700"})||b.jsx(si,{className:"text-slate-400"})})}),b.jsxs("div",{className:"flex space-x-2 justify-around py-5",children:[b.jsx("button",{className:"bg-red-200 rounded-md p-1 text-lg w-28",onClick:()=>{l(-1)},children:"Voltar"}),b.jsx("button",{className:"bg-blue-200 rounded-md p-1 text-lg w-28",onClick:()=>{c===""?alert("Não é possível criar um cliente sem nome, crie ao menos uma referência."):(console.log("type of newClient: ",typeof P),console.log("newClient: ",P),r("clientesdegusta",u,P))},children:"Salvar"})]})]})]})})}function zP(){const[t]=C_(),e=t.get("id"),{clients:n,updateClients:r,addClient:i,deleteData:o,dellIndicator:s}=F.useContext(Oo),l=n.find(_=>_.id===Number(e)),u=xo(),[c,f]=F.useState(l.name),m=_=>{f(_.target.value)},[g,E]=F.useState(l.phone),T=_=>{E(_.target.value)},[A,x]=F.useState(l.data),w=_=>{x(_.target.value)},[v,R]=F.useState(l.cidade),L=_=>{R(_.target.value)},[U,$]=F.useState(l.convidados),S=_=>{$(_.target.value)};let p={name:c,phone:g,data:A,cidade:v,convidados:U};return F.useEffect(()=>{s&&u(-2)},[s]),b.jsx("div",{className:"flex justify-center",children:b.jsx("div",{className:"bg-slate-200 min-w-80 max-w-lg text-center  rounded-md flex-row space-y-3 p-2 h-screen ",children:b.jsxs("div",{className:"max-w-2xl min-w-80 space-y-1",children:[b.jsx(Yu,{children:"Editar Cliente"}),b.jsx(qf,{children:l.name}),b.jsxs("ul",{className:"space-y-1",children:[b.jsx(Ge,{item:"Nome:",children:b.jsx("input",{type:"text",onChange:m,className:"w-60 rounded-md pr-2 text-right",id:"clientName",placeholder:l.name})}),b.jsx(Ge,{item:"Celular:",children:b.jsx("input",{type:"text",onChange:T,className:"w-60 rounded-md pr-2 text-right",id:"clientPhone",placeholder:l.phone})}),b.jsx(Ge,{item:"Data:",children:b.jsx("input",{type:"text",onChange:w,className:"w-60 rounded-md pr-2 text-right",id:"clientDate",placeholder:l.data})}),b.jsx(Ge,{item:"Cidade:",children:b.jsx("input",{type:"text",onChange:L,className:"w-60 rounded-md pr-2 text-right",id:"clientCity",placeholder:l.cidade})}),b.jsx(Ge,{item:"Nº de convidados:",children:b.jsx("input",{type:"text",onChange:S,className:"w-40 rounded-md pr-2 text-right",id:"clientGuests",placeholder:l.convidados})}),b.jsxs("div",{className:"flex space-x-2  justify-around py-5",children:[b.jsx("button",{className:"bg-red-200 rounded-md p-2 text-lg w-36",onClick:()=>{o("clientesdegusta",String(l.id))},children:"Excluir cliente"}),b.jsx("button",{className:"bg-blue-200 rounded-md p-2 text-lg w-36",onClick:()=>{r(l.id,p),u(-2)},children:"Salvar e Voltar"})]})]})]})})})}function $P(){const t=async(E,T)=>{const A=Wc(fl,E,String(T));return await sP(A)},e=async(E,T,A)=>{const x=Wc(fl,E,String(T));try{await lP(x,A),g(!0)}catch(w){console.error("Error setting document:",w)}},n=async(E,T)=>{console.log("chamou delete data");const A=Wc(fl,E,T);try{await uP(A),console.log(`Documento com ID ${T} foi apagado com sucesso!`),f(!0)}catch(x){console.error("Erro ao apagar o documento: ",x)}},r=async E=>{const T=$A(fl,E);return(await aP(T)).docs.map(w=>({id:w.id,...w.data()}))},i=async()=>{const E=await r("clientesdegusta");s(E)},[o,s]=F.useState([{id:0,name:". . .",phone:0,data:"",cidade:"",convidados:0,isDataAvailable:!1,clientStatus:0,isContacted:!1,isBudgetSentToClient:!1,isBudgetResponded:!1,isContractCreated:!1,isContractSigned:!1,isDepositPaid:!1,isTotalContractAmountPaid:!1}]);window.onload=i;const l=(E,T)=>{s(A=>A.map(x=>x.id===E?{...x,...T}:x))},u=E=>{s(T=>[...T,{...E}])};F.useEffect(()=>{console.log("Clientes atualizados: ",o)},[o]);const[c,f]=F.useState(!1),[m,g]=F.useState(!1);return b.jsx(Oo.Provider,{value:{clients:o,updateClients:l,addClient:u,setData:e,getData:t,deleteData:n,dellIndicator:c,addIndicator:m},children:b.jsxs(dS,{children:[b.jsx(ys,{path:"/meucliente/",element:b.jsx(TP,{})}),b.jsx(ys,{path:"/meucliente/client/",element:b.jsx(EP,{})}),b.jsx(ys,{path:"/meucliente/newclient/",element:b.jsx(BP,{})}),b.jsx(ys,{path:"/meucliente/editclient/",element:b.jsx(zP,{})})]})})}const HP=gS([{path:"*",element:b.jsx($P,{})}]);a_(document.getElementById("root")).render(b.jsx(F.StrictMode,{children:b.jsx(CS,{router:HP})}));
